/*! For license information please see comments.client.3adf3828.js.LICENSE.txt */
!function(t){function webpackJsonpCallback(o){for(var r,i,l=o[0],c=o[1],d=0,m=[];d<l.length;d++)i=l[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&m.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(t[r]=c[r]);for(u&&u(o);m.length;)m.shift()()}var o={},r={comments:0,"vendors~gift-membership-modal~trophy-popover~user-report-modal":0},a={comments:0,"vendors~gift-membership-modal~trophy-popover~user-report-modal":0};function jsonpScriptSrc(t){return __webpack_require__.p+""+({"vendors~gift-membership-modal~trophy-popover~user-report-modal":"vendors~gift-membership-modal~trophy-popover~user-report-modal","gift-membership-modal":"gift-membership-modal","trophy-popover":"trophy-popover","user-report-modal":"user-report-modal"}[t]||t)+".chunk.client."+{"vendors~gift-membership-modal~trophy-popover~user-report-modal":"be32d869","gift-membership-modal":"f69e8786","trophy-popover":"97520049","user-report-modal":"eb5428de"}[t]+".js"}function __webpack_require__(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}__webpack_require__.e=function requireEnsure(t){var o=[],i=window.__CHESSCOM_RTL__;r[t]?o.push(r[t]):0!==r[t]&&{"gift-membership-modal":1,"trophy-popover":1,"user-report-modal":1}[t]&&o.push(r[t]=new Promise((function(o,a){var l=({"vendors~gift-membership-modal~trophy-popover~user-report-modal":"vendors~gift-membership-modal~trophy-popover~user-report-modal","gift-membership-modal":"gift-membership-modal","trophy-popover":"trophy-popover","user-report-modal":"user-report-modal"}[t]||t)+".chunk.client."+{"vendors~gift-membership-modal~trophy-popover~user-report-modal":"31d6cfe0","gift-membership-modal":"25fe4ac0","trophy-popover":"9c498391","user-report-modal":"8d1e21d9"}[t]+".css",c="/bundles/app/css/"+l;i&&(c=c.replace(/\.css/i,".rtl.css"));for(var u=document.getElementsByTagName("link"),d=0;d<u.length;d++){var m=(b=u[d]).getAttribute("data-href")||b.getAttribute("href");if("stylesheet"===b.rel&&(m===l||m===c))return o()}var p=document.getElementsByTagName("style");for(d=0;d<p.length;d++){var b;if((m=(b=p[d]).getAttribute("data-href"))===l||m===c)return o()}var g=document.createElement("link");g.rel="stylesheet",g.type="text/css",g.onload=o,g.onerror=function(o){var i=o&&o.target&&o.target.src||c,l=new Error("Loading CSS chunk "+t+" failed.\n("+i+")");l.code="CSS_CHUNK_LOAD_FAILED",l.request=i,delete r[t],g.parentNode.removeChild(g),a(l)},g.href=c,document.getElementsByTagName("head")[0].appendChild(g)})).then((function(){r[t]=0})));var l=a[t];if(0!==l)if(l)o.push(l[2]);else{var c=new Promise((function(o,r){l=a[t]=[o,r]}));o.push(l[2]=c);var u=new Error;var d=function loadScript(o,r){var i,l=document.createElement("script"),c="&retry-attempt="+(2-r+1);l.charset="utf-8",l.timeout=120,__webpack_require__.nc&&l.setAttribute("nonce",__webpack_require__.nc),l.src=o,i=function(o){l.onerror=l.onload=null,clearTimeout(d);var i=a[t];if(0!==i)if(i)if(0===r){var m=o&&("load"===o.type?"missing":o.type),p=o&&o.target&&o.target.src;u.message="Loading chunk "+t+" failed after 2 retries.\n("+m+": "+p+")",u.name="ChunkLoadError",u.type=m,u.request=p,i[1](u),a[t]=void 0}else{var b="cache-bust=true"+c,g=loadScript(jsonpScriptSrc(t)+"?"+b,r-1);document.head.appendChild(g)}else a[t]=void 0};var d=setTimeout((function(){i({type:"timeout",target:l})}),12e4);return l.onerror=l.onload=i,l}(jsonpScriptSrc(t),2);document.head.appendChild(d)}return Promise.all(o)},__webpack_require__.m=t,__webpack_require__.c=o,__webpack_require__.d=function(t,o,r){__webpack_require__.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,o){if(1&o&&(t=__webpack_require__(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var a in t)__webpack_require__.d(r,a,function(o){return t[o]}.bind(null,a));return r},__webpack_require__.n=function(t){var o=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(o,"a",o),o},__webpack_require__.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},__webpack_require__.p="/bundles/app/js/",__webpack_require__.oe=function(t){throw console.error(t),t};var i=("undefined"!=typeof self?self:this).wpJsonpChessCom=("undefined"!=typeof self?self:this).wpJsonpChessCom||[],l=i.push.bind(i);i.push=webpackJsonpCallback,i=i.slice();for(var c=0;c<i.length;c++)webpackJsonpCallback(i[c]);var u=l;__webpack_require__(__webpack_require__.s=9)}({"./chessboard/src/board/board.config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i})),r.d(o,"c",(function(){return l}));var a={getOptions:"web_user_callback_get_board_settings",getStyles:"web_themes_data_callback",updateOption:{animationType:"web_user_game_settings_email_callback_animation_type",boardStyle:"web_user_game_settings_email_callback_board_color",coordinates:"web_user_game_settings_email_callback_coordinates",darkMode:"web_user_game_settings_callback_dark_mode_toggle",highlightLegalMoves:"web_user_game_settings_email_callback_show_legal_moves_toggle",highlightMoves:"web_user_game_settings_email_callback_highlight_last_move_toggle",moveListDisplayType:"web_user_game_settings_email_callback_move_list_display_type",pieceStyle:"web_user_game_settings_email_callback_piece",playSounds:"web_user_game_settings_email_callback_sound_toggle",soundTheme:"web_user_game_settings_email_callback_sound_theme",showTimestamps:"web_user_game_settings_email_callback_show_timestamps"}},i=[{key:"0",value:null},{key:"1",value:"inside"},{key:"2",value:"outside"}],l={pieces:["real3d"],animations:["arcade","natural"]}},"./chessboard/src/board/board.helper.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=r.n(a),l=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),c=r.n(l),u=r("./node_modules/@babel/runtime/helpers/createClass.js"),d=r.n(u),m=r("./chessboard/src/board/board.config.js"),p=r("./utils/browser.js"),b=function(){function BoardHelper(){c()(this,BoardHelper)}return d()(BoardHelper,null,[{key:"getAnimationType",value:function getAnimationType(t){return"battle"===t?"default":t}},{key:"getAnimationTypes",value:function getAnimationTypes(t,o){if(!Array.isArray(t))return t;var r=i()(t),a=["battle"];return m.c.pieces.indexOf(o)>=0&&(a=a.concat(m.c.animations)),a.forEach((function(t){var o=r.findIndex((function(o){return o.code===t}));o>-1&&r.splice(o,1)})),r}},{key:"getPieceStyles",value:function getPieceStyles(t){if(!Array.isArray(t)||"IE"!==Object(p.b)().name)return t;var o=t.findIndex((function(t){return"real3d"===t.code}));return o>-1&&t.splice(o,1),t}},{key:"getCoordinatePositioning",value:function getCoordinatePositioning(t){var o=m.b.find((function(o){return[o.key,o.value].includes(t)}));return o?o.value:null}},{key:"pieceChangeRequiresRefresh",value:function pieceChangeRequiresRefresh(t,o){var r=t===o,a=m.c.pieces.indexOf(t)>-1||m.c.pieces.indexOf(o)>-1;return!r&&a}},{key:"animationChangeRequiresRefresh",value:function animationChangeRequiresRefresh(t,o){return m.c.animations.indexOf(t)>-1||m.c.animations.indexOf(o)>-1}},{key:"validateSize",value:function validateSize(t,o,r,a){var i=Math.min(t,o);return i=Math.max(i,r),i=(i=Math.floor(i/a)*a)>=r?i:i+a}}]),BoardHelper}();o.a=b},"./chessboard/src/board/board.service.js":function(t,o,r){"use strict";var a=r("./node_modules/axios/index.js"),i=r.n(a),l=r("./utils/dark-mode.ts"),c=r("./utils/router.js"),u=r("./chessboard/src/board/board.config.js"),d=r("./chessboard/src/board/board.helper.js");o.a={getDefaultOptions:function getDefaultOptions(){return{allowMarkings:!0,animationType:"default",autoPromote:!1,boardStyle:"green",captureKeyStrokes:!0,coordinates:"inside",darkMode:l.b,diagramStyle:!0,enabled:!0,highlightColor:"#f8f893",highlightLegalMoves:!1,highlightMoves:!0,highlightOpacity:.5,isWhiteOnBottom:!1,legalPositionCheck:"full",moveMethod:"drag",overlayInAnalysisMode:!0,pieceStyle:"neo",playSounds:!0,premoveHighlightColor:"#f42a32",premoveHighlightOpacity:.5,real3D:!1,rounded:!0,soundTheme:"default",showTimestamps:0}},getOptions:function getOptions(){return i.a.get(c.a.generate(u.a.getOptions)).then((function(t){return t.data})).then((function(t){return{animationType:d.a.getAnimationType(t.animationType),boardSize:t.boardSize,boardStyle:t.colorScheme,darkMode:Object(l.a)(),highlightLegalMoves:Boolean(t.highlightLegalMoves),highlightMoves:"1"===t.highlightMoves,isWhiteOnBottom:Boolean(t.isWhiteOnBottom),moveListDisplayType:t.moveListDisplayType,moveMethod:t.moveMethod,pieceStyle:t.pieceStyle,playSounds:"1"===t.playSounds,soundTheme:t.soundTheme,coordinates:d.a.getCoordinatePositioning(t.boardCoords),showTimestamps:t.showTimestamps}}))},getStyles:function getStyles(){return i.a.get(c.a.generate(u.a.getStyles)).then((function(t){return t.data}))},updateOption:function updateOption(t,o){var r=c.a.generate(u.a.updateOption[t]);return i.a.post(r,{action:o}).then((function(t){return t.data}))}}},"./chessboard/src/components/chessboard/ChessEvents.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return j}));var a=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=r.n(a),l=r("./node_modules/@babel/runtime/helpers/createClass.js"),c=r.n(l),u=r("./core/utils/dom/has-touch.js"),d=window.navigator.pointerEnabled||window.navigator.msPointerEnabled,m=document.documentElement,p="mouseup",b="mousedown",g="mousemove",h="dragstart",_="contextmenu",v="touchend",y="touchstart",w="touchmove",j=function(){function ChessEvents(t){i()(this,ChessEvents),this.chessboard=t}return c()(ChessEvents,[{key:"setFixed",value:function setFixed(t){this.inFixedElement=!!t}},{key:"destroy",value:function destroy(){this.destroyTouch&&(this.destroyTouch(),delete this.destroyTouch),this.destroyMouse&&(this.destroyMouse(),delete this.destroyMouse)}},{key:"observe",value:function observe(t){this.destroy(),u.a&&this.observeTouch(t),this.observeMouse(t)}},{key:"observeTouch",value:function observeTouch(t){var o,r,a,i,l,c=this.chessboard,u=!1,d=function handleMove(d){if(t.keepDefault||(d.returnValue=!1,"function"==typeof d.preventDefault&&d.preventDefault()),d.cancelBubble=!0,"function"==typeof d.stopPropagation&&d.stopPropagation(),d.touches&&d.touches[0]?(i=d.touches[0].pageX,l=d.touches[0].pageY):d.changedTouches&&d.changedTouches[0]&&(i=d.changedTouches[0].pageX,l=d.changedTouches[0].pageY),u)"function"==typeof t.dragmove&&(d.pointer={x:i,y:l,type:"touch",target:a},t.dragmove.call(c,d));else{var m=Math.abs(i-o)>1,p=Math.abs(l-r)>1;(u=m||p)&&"function"==typeof t.dragstart&&(d.pointer={x:o,y:r,type:"touch",target:a},t.dragstart.call(c,d))}},p=function handleEnd(p){t.keepDefault||(p.returnValue=!1,"function"==typeof p.preventDefault&&p.preventDefault()),u?"function"==typeof t.dragstop&&(p.pointer={x:i,y:l,type:"touch",target:a},t.dragstop.call(c,p)):"function"==typeof t.click&&(p.pointer={x:i,y:l,type:"touch",target:a},t.click.call(c,p)),o=void 0,r=void 0,a=void 0,i=void 0,l=void 0,u=!1,m.removeEventListener(w,d),m.removeEventListener(v,handleEnd)},b=function handleStart(u){t.keepDefault||(u.returnValue=!1,"function"==typeof u.preventDefault&&u.preventDefault()),a=u.target,u.touches&&u.touches[0]?(i=u.touches[0].pageX,o=u.touches[0].pageX,l=u.touches[0].pageY,r=u.touches[0].pageY):u.changedTouches&&u.changedTouches[0]&&(i=u.changedTouches[0].pageX,o=u.changedTouches[0].pageX,l=u.changedTouches[0].pageY,r=u.changedTouches[0].pageY),"function"==typeof t.pointerdown&&(u.pointer={x:o,y:r,type:"touch",target:a},t.pointerdown.call(c,u)),m.addEventListener(w,d,!1),m.addEventListener(v,p,!1)},g=function handleCancel(){o=void 0,r=void 0,a=void 0,i=void 0,l=void 0,u=!1,m.removeEventListener(w,d),m.removeEventListener(v,p)};c.addEventListener(y,b,!1),c.addEventListener("touchcancel",g,!1),this.destroyTouch=function(){c.removeEventListener(y,b),c.removeEventListener(y,g)}}},{key:"observeMouse",value:function observeMouse(t){var o,r,a,i=this.chessboard;d&&(i.style.touchAction="none",i.style.msTouchAction="none");var l=!1,c=!1,u=!1,v=!1,y=this.inFixedElement,w=function hasButtonChanged(t){if(t.buttons){if(u&&1===t.buttons)return!0;if(c&&2===t.buttons)return!0}else if(t.button){if(u&&1===t.button)return!0;if(c&&2===t.button)return!0}else if(t.which){if(u&&1===t.which)return!0;if(c&&3===t.which)return!0}return!1},j=function handleDrag(o){t.keepDefault||(o.returnValue=!1,"function"==typeof o.preventDefault&&o.preventDefault()),o.cancelBubble=!0,"function"==typeof o.stopPropagation&&o.stopPropagation()},O=function handleMenu(o){t.keepDefault||(o.returnValue=!1,"function"==typeof o.preventDefault&&o.preventDefault()),o.cancelBubble=!0,"function"==typeof o.stopPropagation&&o.stopPropagation(),"function"==typeof t.contextmenu&&t.contextmenu.call(i,o)},S=function handleMove(d){var m,p;if(t.keepDefault||(d.returnValue=!1,"function"==typeof d.preventDefault&&d.preventDefault()),!v)if(y?(m=d.clientX,p=d.clientY):(m=d.pageX,p=d.pageY),a.parentNode||(a=d.target||d.srcElement),w(d))l&&("function"==typeof t.dragcancel&&(d.pointer={x:m,y:p,type:"mouse",target:a},d.isRightClick=u,t.dragcancel.call(i,d)),l=!1);else if(l)"function"==typeof t.dragmove&&(d.pointer={x:m,y:p,type:"mouse",target:a},d.isRightClick=u,t.dragmove.call(i,d));else if(c||u){var b=Math.abs(m-o)>1,g=Math.abs(p-r)>1;if(l=b||g)if("function"==typeof t.dragstart)d.pointer={x:o,y:r,type:"mouse",target:a},d.isRightClick=u,!1===t.dragstart.call(i,d)&&(v=!0)}},k=function handleUp(d){var b,h;t.keepDefault||(d.returnValue=!1,"function"==typeof d.preventDefault&&d.preventDefault()),y?(b=d.clientX,h=d.clientY):(b=d.pageX,h=d.pageY),a.parentNode||(a=d.target||d.srcElement),w(d)?l&&("function"==typeof t.dragcancel&&(d.pointer={x:b,y:h,type:"mouse",target:a},d.isRightClick=u,t.dragcancel.call(i,d)),l=!1):l?v||"function"==typeof t.dragstop&&(d.pointer={x:b,y:h,type:"mouse",target:a},d.isRightClick=u,t.dragstop.call(i,d)):c?"function"==typeof t.click&&(d.pointer={x:b,y:h,type:"mouse",target:a},d.isRightClick=u,t.click.call(i,d)):u&&"function"==typeof t.rightclick&&(d.pointer={x:b,y:h,type:"mouse",target:a},d.isRightClick=u,t.rightclick.call(i,d)),"function"==typeof t.pointerup&&(d.pointer={x:o,y:r,type:"mouse",target:a},d.isRightClick=u,t.pointerup.call(i,d)),o=void 0,r=void 0,a=void 0,l=!1,c=!1,u=!1,v=!1,m.removeEventListener(g,S),m.removeEventListener(p,handleUp)},C=function handleDown(d){t.keepDefault||(d.returnValue=!1,"function"==typeof d.preventDefault&&d.preventDefault()),d.which?(c=1===d.which,u=3===d.which):d.button?(c=1===d.button,u=2===d.button):d.buttons&&(c=1===d.buttons,u=2===d.buttons),(c||u)&&(l&&("function"==typeof t.dragcancel&&(d.pointer={x:o,y:r,type:"mouse",target:a},d.isRightClick=u,t.dragcancel.call(i,d)),l=!1),a=d.target||d.srcElement,y?(o=d.clientX,r=d.clientY):(o=d.pageX,r=d.pageY),"function"==typeof t.pointerdown&&(d.pointer={x:o,y:r,type:"mouse",target:a},d.isRightClick=u,t.pointerdown.call(i,d)),m.addEventListener(g,S,!1),m.addEventListener(p,k,!1))};i.addEventListener(b,C,!1),i.addEventListener(h,j,!1),i.addEventListener(_,O,!1),this.destroyMouse=function(){i.removeEventListener(b,C),i.removeEventListener(h,j),i.removeEventListener(_,O)}}}]),ChessEvents}()},"./chessboard/src/components/chessboard/ChessSounds/index.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return k}));var a=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=r.n(a),l=r("./node_modules/@babel/runtime/helpers/createClass.js"),c=r.n(l);var u=window.AudioContext||window.webkitAudioContext,d=Boolean(u);function isSuspended(){return d}function resumeAudio(t){if(u){if(window.chessComAudioContext||(window.chessComAudioContext=function newAudioContext(){try{return new u}catch(t){return null}}()),!window.chessComAudioContext||!window.chessComAudioContext.resume)return d=!1,void t();window.chessComAudioContext.resume().then((function(){d=!1,t()}))}}var m="sound-suspended",p="sound-enabled",b=["webm","ogg","mp3","wav"],g="default",h="//images.chesscomfiles.com/chess-themes/sounds",_=["move-check","premove","capture","castle","game-end","game-start","promote","move-opponent","move-self"],v=_.concat(["click","correct","drawoffer","illegal","incorrect","notify","tenseconds"]),y=r("./utils/window/post-message.ts");function getThemeUrl(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:g;return"".concat(h,"/_").concat(o.toUpperCase(),"_/").concat(r,"/").concat(t,".").concat(o)}var w=function(){function Sound(t,o){i()(this,Sound),this.code=t,this.theme=o,this.tags=[]}return c()(Sound,[{key:"load",value:function load(){this.unload(),this.addTag()}},{key:"addTag",value:function addTag(){var t=document.createElement("audio");t.setAttribute("preload","auto"),function getUrls(t,o){return _.includes(t)?b.map((function(r){return getThemeUrl(t,r,o)})):v.includes(t)?b.map((function(o){return getThemeUrl(t,o)})):["/bundles/web/sounds/".concat(t,".mp3")]}(this.code,this.theme).forEach((function(o){var r=o.split(".").pop(),a="mp3"===r?"audio/mpeg":"audio/".concat(r),i=document.createElement("source");i.setAttribute("src",o),i.setAttribute("type",a),t.appendChild(i)})),document.body.appendChild(t),t.pause&&t.pause(),this.tags.push(t)}},{key:"unload",value:function unload(){for(;this.tags.length;){var t=this.tags.shift();t.parentNode&&t.parentNode.removeChild(t)}}},{key:"play",value:function play(){var t=this.tags.find((function(t){return t.paused||t.ended}));if(!t){if(this.tags.length>=5)return;return this.addTag(),void this.play()}var o=t.play();o&&o.catch((function(){}))}}]),Sound}(),j=0,O=!1;function enableSound(){isSuspended()&&resumeAudio((function(){j=0,O=!1,Object(y.a)({key:p}),window.$unbindSound&&window.$unbindSound()}))}function whenEnabled(t){window.addEventListener("message",(function listener(o){o&&o.data&&o.data.key===p&&(t(),window.removeEventListener("message",listener))}))}function waitUserInteraction(){window.$unbindSound||function addDirectiveEventListeners(t,o,r){var a="$unbind".concat(t);o[a]&&o[a](),Object.keys(r).forEach((function(t){o.addEventListener(t,r[t])})),o[a]=function(){Object.keys(r).forEach((function(t){o.removeEventListener(t,r[t]),delete r[t]})),delete o[a]}}("Sound",window,{mousedown:enableSound,keydown:enableSound,touchstart:enableSound,touchend:enableSound})}function unloadSound(t){t.unload()}var S=["game-start","game-end","capture","castle","premove","move-self","move-check","move-opponent","promote","notify","tenseconds","illegal"],k=function(){function ChessSounds(t,o){i()(this,ChessSounds),this.sounds={},this.load(t,o)}return c()(ChessSounds,[{key:"load",value:function load(t,o){var r=this,a=o;o||(a=S),a.forEach((function(o){r.sounds[o]=function loadSound(t,o){var r=new w(t,o);return isSuspended()?(waitUserInteraction(),whenEnabled((function(){return r.load()}))):r.load(),r}(o,t)}))}},{key:"play",value:function play(t){!function playSound(t){isSuspended()?!O&&j>3?(j=0,O=!0,Object(y.a)({key:m})):O||(j++,enableSound(),whenEnabled((function(){return t.play()}))):t.play()}(this.sounds[t])}},{key:"removeAll",value:function removeAll(){Object.values(this.sounds).forEach(unloadSound),this.sounds={}}}]),ChessSounds}()},"./chessboard/src/components/chessboard/coordinates.vue?vue&type=style&index=0&lang=scss&":function(t,o,r){"use strict";r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/coordinates.vue?vue&type=style&index=0&lang=scss&")},"./chessboard/src/components/chessboard/custom-item.vue?vue&type=style&index=0&lang=scss&":function(t,o,r){"use strict";r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/custom-item.vue?vue&type=style&index=0&lang=scss&")},"./chessboard/src/components/chessboard/marked-arrow.vue?vue&type=style&index=0&lang=less&":function(t,o,r){"use strict";r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/marked-arrow.vue?vue&type=style&index=0&lang=less&")},"./chessboard/src/components/chessboard/marked-effect.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/marked-effect.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./chessboard/src/components/chessboard/standalone/default/chessboard.vue":function(t,o,r){"use strict";var a=r("./chessboard/src/components/chessboard/style/style.config.js"),i=r("./chessboard/src/components/config.js"),l={props:{boardStyle:{type:String,default:i.a.defaultBoardOptions.boardStyle},colors:{type:Object,required:!0},flipped:{type:Boolean,default:!1},position:{type:String,default:null},size:{type:Number,required:!0}},methods:{colorForLetter:function colorForLetter(t){return t%2==0?this.colors.white:this.colors.black},colorForNumber:function colorForNumber(t){return t%2==0?this.colors.black:this.colors.white}},computed:{className:function className(){return"inside"===this.position?"inside-coords chess-color-scheme-".concat(this.boardStyle):""},fontSize:function fontSize(){return"outside"===this.position?"".concat(Math.min(this.size/4.1,20),"px"):"".concat(this.size/4.5,"px")},letters:function letters(){var t=["a","b","c","d","e","f","g","h"];return this.flipped?t.reverse():t},numbers:function numbers(){var t=["1","2","3","4","5","6","7","8"];return this.flipped?t:t.reverse()},outsideNumbersFontWidth:function outsideNumbersFontWidth(){return"".concat(Math.min(this.size/6.15,20),"px")}}},c=(r("./chessboard/src/components/chessboard/coordinates.vue?vue&type=style&index=0&lang=scss&"),r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js")),u=Object(c.a)(l,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return t.position?r("div",{staticClass:"coordinates",class:[t.position,t.className]},[t._l(t.numbers,(function(o,a){return r("div",{staticClass:"number",class:[a%2==0?"coords-light":"coords-dark"],style:{color:t.colorForNumber(a),fontSize:t.fontSize,transform:"inside"===t.position?"translate(0, "+100*a+"%)":"translate(-145%, "+100*a+"%)",width:"inside"===t.position?"":t.outsideNumbersFontWidth}},[t._v(t._s(o))])})),t._v(" "),t._l(t.letters,(function(o,a){return r("div",{staticClass:"letter",class:[a%2==0?"coords-dark":"coords-light"],style:{color:t.colorForLetter(a),fontSize:t.fontSize,transform:"inside"===t.position?"translate("+100*a+"%, 0)":"translate("+100*a+"%, 110%)"}},[t._v("\n    "+t._s(o)+"\n  ")])}))],2):t._e()}),[],!1,null,null,null).exports,d=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=r.n(d);function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var p={props:{additionalStyles:{type:Object,default:function _default(){return{}}},color:{type:String,default:i.a.defaultBoardOptions.arrowColor},files:{type:Number,default:i.a.defaultBoardOptions.files},flipped:{type:Boolean,default:!1},fromFileRank:{type:Object,required:!0},ranks:{type:Number,default:i.a.defaultBoardOptions.ranks},squareSize:{type:Number,required:!0},toFileRank:{type:Object,required:!0}},computed:{arrowStyles:function arrowStyles(){var t=this.transform,o=t.origin,r=t.position,a=t.rotation,i=t.scale;return _objectSpread(_objectSpread({},{transform:"translate(".concat(r.x,"px, ").concat(r.y,"px)\n                    rotate(").concat(a,"deg)\n                    scale(").concat(i.x,", ").concat(i.y,")"),transformOrigin:"".concat(o.x,"% ").concat(o.y,"%")}),this.additionalStyles)},isStraight:function isStraight(){var t=this.fromFileRank,o=this.toFileRank;return t.file===o.file||t.rank===o.rank||Math.abs(t.file-o.file)===Math.abs(t.rank-o.rank)},arrowPoints:function arrowPoints(){return this.isStraight?"\n            ".concat(39," ").concat(87,",\n            ").concat(61," ").concat(87,",\n            ").concat(61," ").concat(113+this.transform.length,",\n            ").concat(76," ").concat(113+this.transform.length,",\n            50 ").concat(150+this.transform.length,",\n            ").concat(24," ").concat(113+this.transform.length,",\n            ").concat(39," ").concat(113+this.transform.length,"\n          "):"\n          ".concat(87," ").concat(39,",\n          ").concat(261," ").concat(39,",\n          ").concat(261," ").concat(113,",\n          ").concat(276," ").concat(113,",\n          ",250," ").concat(150,",\n          ").concat(224," ").concat(113,",\n          ").concat(239," ").concat(113,",\n          ").concat(239," ").concat(61,",\n          ").concat(87," ").concat(61,"\n        ")},transform:function transform(){var t=this.files,o=this.ranks,r=this.squareSize,a=this.fromFileRank,i=this.toFileRank;this.flipped&&(a={file:t+1-a.file,rank:o+1-a.rank},i={file:t+1-i.file,rank:o+1-i.rank});var transform={length:0,baseOffset:0,width:this.isStraight?r:3*r,height:2*r,viewBox:{width:this.isStraight?100:300,height:200},origin:{x:0,y:0},position:{x:0,y:0},rotation:0,scale:{x:1,y:1}};if(this.isStraight){var l=Math.abs(a.file-i.file),c=Math.abs(a.rank-i.rank);if(a.file===i.file){var u=c+1;transform.length=100*(c-1),transform.height=r*u,transform.viewBox.height=100*u,transform.origin.x=50,transform.position.x=(a.file-1)*r,a.rank<i.rank?(transform.rotation=180,transform.position.y=(o+1-a.rank)*r):transform.position.y=(o-a.rank)*r}if(a.rank===i.rank){var d=l+1;transform.length=100*(l-1),transform.height=r*d,transform.viewBox.height=100*d,transform.position.x=(a.file-1)*r,transform.position.y=(o+1-a.rank)*r,a.file<i.file?transform.rotation=-90:(transform.rotation=90,transform.origin.x=100)}if(Math.abs(a.file-i.file)===Math.abs(a.rank-i.rank)){var m=c+1,p=Math.sqrt(2*Math.pow(r,2)),b=141.42;transform.length=b*c-100,transform.baseOffset=20.71,transform.height=p*m,transform.viewBox.height=b*m,transform.origin={x:50,y:50},a.file<i.file?(transform.position.x=(a.file-1+c/2)*r,a.rank<i.rank?(transform.rotation=-135,transform.position.y=(o-i.rank+m/2)*r-transform.height/2):(transform.rotation=-45,transform.position.y=(o-a.rank+m/2)*r-transform.height/2)):(transform.position.x=(i.file-1+c/2)*r,a.rank<i.rank?(transform.rotation=135,transform.position.y=(o-i.rank+m/2)*r-transform.height/2):(transform.rotation=45,transform.position.y=(o-a.rank+m/2)*r-transform.height/2))}}else transform.origin.y=50,2===Math.abs(a.rank-i.rank)?(a.rank<i.rank?(transform.rotation=-90,transform.position.y=(o-a.rank)*r):(transform.rotation=90,transform.position.y=(o-1-a.rank)*r),a.file<i.file?(transform.position.x=a.file*r,a.rank>i.rank&&(transform.scale.y=-1)):(transform.position.x=(a.file-1)*r,a.rank<i.rank&&(transform.scale.y=-1))):a.file<i.file?(transform.position.x=(a.file-1)*r,a.rank<i.rank?(transform.position.y=(o-i.rank)*r,transform.scale.y=-1):transform.position.y=(o-a.rank)*r):(transform.position.x=a.file*r,transform.scale.x=-1,a.rank<i.rank?(transform.position.y=(o-1-a.rank)*r,transform.scale.y=-1):transform.position.y=(o-a.rank)*r);return transform}}},b=(r("./chessboard/src/components/chessboard/marked-arrow.vue?vue&type=style&index=0&lang=less&"),Object(c.a)(p,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("svg",{staticClass:"arrow-container",style:t.arrowStyles,attrs:{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",width:t.transform.width+"px",height:t.transform.height+"px",viewBox:"0 0 "+t.transform.viewBox.width+" "+t.transform.viewBox.height}},[r("polygon",{staticClass:"arrow",style:{fill:t.color},attrs:{points:t.arrowPoints,transform:"translate(0, "+t.transform.baseOffset+")"}})])}),[],!1,null,null,null).exports);function marked_effectvue_type_script_lang_js_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function marked_effectvue_type_script_lang_js_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?marked_effectvue_type_script_lang_js_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):marked_effectvue_type_script_lang_js_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var g="top",h="left",_={props:{additionalStyles:{type:Object,default:function _default(){return{}}},files:{type:Number,default:i.a.defaultBoardOptions.files},flipped:{type:Boolean,default:!1},square:{type:Object,required:!0},ranks:{type:Number,default:i.a.defaultBoardOptions.ranks},position:{type:Object,default:function _default(){return{y:g,x:h}}},squareSize:{type:Number,required:!0},template:{type:String,required:!0}},computed:{effectStyles:function effectStyles(){return marked_effectvue_type_script_lang_js_objectSpread(marked_effectvue_type_script_lang_js_objectSpread({},{transform:"translate3d(".concat(this.transform.x,"px, ").concat(this.transform.y,"px, 0)"),width:"".concat(this.size,"px"),height:"".concat(this.size,"px")}),this.additionalStyles)},size:function size(){return.4*this.squareSize},shift:function shift(){var t=this.position,o=t.x,r=t.y;return{x:o===h?-this.size/2.5:this.squareSize-this.size/1.5,y:r===g?-this.size/2.5:this.squareSize-this.size/1.5}},transform:function transform(){var t=this.files,o=this.ranks,r=this.squareSize,a=this.square;return this.flipped&&(a={file:t+1-a.file,rank:o+1-a.rank}),{x:(a.file-1)*r+this.shift.x,y:(o-a.rank)*r+this.shift.y}}}},v=r("./chessboard/src/components/chessboard/marked-effect.vue?vue&type=style&index=0&lang=scss&module=true&");var y=Object(c.a)(_,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",{class:t.$style.effect,style:t.effectStyles,domProps:{innerHTML:t._s(t.template)}})}),[],!1,(function injectStyles(t){this.$style=v.default.locals||v.default}),null,null).exports,w={props:{color:{type:String,default:"#ffa704"},files:{type:Number,default:i.a.defaultBoardOptions.files},flipped:{type:Boolean,default:!1},fileRank:{type:Object,required:!0},ranks:{type:Number,default:i.a.defaultBoardOptions.ranks},squareSize:{type:Number,required:!0}},computed:{transform:function transform(){var t=this.fileRank;return this.flipped&&(t={file:this.files+1-this.fileRank.file,rank:this.ranks+1-this.fileRank.rank}),{width:this.squareSize,height:this.squareSize,position:{x:(t.file-1)*this.squareSize,y:(this.ranks-t.rank)*this.squareSize}}}}},j=(r("./chessboard/src/components/chessboard/custom-item.vue?vue&type=style&index=0&lang=scss&"),Object(c.a)(w,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("transition",{attrs:{name:"transition"}},[r("svg",{staticClass:"item-container",style:{left:t.transform.position.x+"px",top:t.transform.position.y+"px"},attrs:{version:"1.1",baseProfile:"full",xmlns:"http://www.w3.org/2000/svg",width:t.transform.width+"px",height:t.transform.height+"px",viewBox:"0 0 40 40"}},[r("path",{style:{fill:t.color},attrs:{d:"M23.12,17.84H16.4a1.11,1.11,0,0,1-1.06-1.43L18.7,5.21a1.11,1.11,0,0,1,2.13,0l3.36,11.2A1.11,1.11,0,0,1,23.12,17.84Z"}}),t._v(" "),r("path",{style:{fill:t.color},attrs:{d:"M27.21,34.11,4.35,16.88a1.11,1.11,0,0,1,.67-2l17.89,0a1.11,1.11,0,0,1,1.06.8l5,17.19A1.11,1.11,0,0,1,27.21,34.11Z"}}),t._v(" "),r("path",{style:{fill:t.color},attrs:{d:"M35.17,16.88,12.31,34.11a1.11,1.11,0,0,1-1.74-1.2l5-17.19a1.11,1.11,0,0,1,1.06-.8l17.89,0A1.11,1.11,0,0,1,35.17,16.88Z"}})])])}),[],!1,null,null,null).exports),O=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),S=r.n(O),k=r("./chessboard/src/game/utils.js"),C=r("./chessboard/src/game/history.js"),P=r("./chessboard/src/components/chessboard/ChessEvents.js"),x=r("./chessboard/src/components/chessboard/ChessSounds/index.js"),A=r("./web/core/api/move-list/move-list.js"),T="HISTORY_CHANGE",L={ADD_LEGAL_MOVES:"ADD_LEGAL_MOVES",ADD_PIECES:"ADD_PIECES",ADD_SQUARES:"ADD_SQUARES",BLINK_SQUARE:"BLINK_SQUARE",CLOSE_PROMOTION_MENU:"CLOSE_PROMOTION_MENU",DRAG_PIECE:"DRAG_PIECE",DROP_PIECE:"DROP_PIECE",DISABLE_FAKE_CURSOR:"DISABLE_FAKE_CURSOR",ENABLE_FAKE_CURSOR:"ENABLE_FAKE_CURSOR",FADE_PIECES:"FADE_PIECES",FLIP_BOARD:"FLIP_BOARD",HIDE_HOVER_SQUARE:"HIDE_HOVER_SQUARE",MOVE_PIECES:"MOVE_PIECES",OPEN_PROMOTION_MENU:"OPEN_PROMOTION_MENU",PICK_UP_PIECE:"PICK_UP_PIECE",PLAY_SOUND:"PLAY_SOUND",REMOVE_LEGAL_MOVES:"REMOVE_LEGAL_MOVES",REMOVE_PIECES:"REMOVE_PIECES",REMOVE_SQUARES:"REMOVE_SQUARES",SET_ARROWS:"SET_ARROWS",SET_CUSTOM_ITEMS:"SET_CUSTOM_ITEMS",SET_EFFECTS:"SET_EFFECTS",SET_SQUARES:"SET_SQUARES",SET_PIECE:"SET_PIECE",SET_PIECES:"SET_PIECES",SHOW_HOVER_SQUARE:"SHOW_HOVER_SQUARE",UPDATE_BOARD_CLASSES:"UPDATE_BOARD_CLASSES",UPDATE_BOARD_IMAGE:"UPDATE_BOARD_IMAGE",UPDATE_BOARD_SIZE:"UPDATE_BOARD_SIZE",UPDATE_PIECE_IMAGES:"UPDATE_PIECE_IMAGES",UPDATE_PIECE_SIZES:"UPDATE_PIECE_SIZES",UPDATE_PROMOTION_MENU_SIZE:"UPDATE_PROMOTION_MENU_SIZE"},I={ANOTHER_CHESSBOARD_ONBLUR:"DIAGRAM_VIEWER_BLUR",ANOTHER_CHESSBOARD_ONFOCUS:"DIAGRAM_VIEWER_FOCUS",ARROW_CLEARED:"ARROW_CLEARED",ARROW_MARKED:"ARROW_MARKED",BUSY_FLAG:"BUSY_FLAG",BOARD_DIMENSIONS_SET:"BOARD_DIMENSIONS_SET",CANCEL_GTM:"CANCEL_GTM",CANCEL_PREMOVES:"CANCEL_PREMOVES",CHANGED_POSITION:"CHANGED_POSITION",CLICKED:"CLICKED",EFFECT_MARKED:"EFFECT_MARKED",EFFECT_CLEARED:"EFFECT_CLEARED",KEY_PRESS:"KEY_PRESS",LEGAL_MOVES_UPDATED:"LEGAL_MOVES_UPDATED",LOADED:"LOADED",MARKINGS_CLEARED:"MARKINGS_CLEARED",MOVE_BACKWARD:"MOVE_BACKWARD",MOVE_FORWARD:"MOVE_FORWARD",MOVE_MADE:"MOVE_MADE",MOVE_SQUARES_SET:"MOVE_SQUARES_SET",MOVE_TO_END:"MOVE_TO_END",MOVE_TO_START:"MOVE_TO_START",OPTIONS_CHANGED:"OPTIONS_CHANGED",PIECE_DROPPED:"PIECE_DROPPED",PIECE_PICKED_UP:"PIECE_PICKED_UP",PIECE_SELECTED:"PIECE_SELECTED",PIECE_UNSELECTED:"PIECE_UNSELECTED",POSITION_CHANGED:"POSITION_CHANGED",PROMOTION_ATTEMPTED:"PROMOTION_ATTEMPTED",PROMOTION_PIECE_SET:"PROMOTION_PIECE_SET",PROMOTION_PIECE_UNSET:"PROMOTION_PIECE_UNSET",SOUND_THEME_UPDATED:"SOUND_THEME_UPDATED",SQUARE_CLEARED:"SQUARE_CLEARED",SQUARE_MARKED:"SQUARE_MARKED",SQUARE_UNSELECTED:"SQUARE_UNSELECTED"},M="marked",R="move",D="selection",N="capture",$="castle",B="move-check",U="move-opponent",q="move-self",G="premove",V="promote",H="illegal",z="CAPTURE",K="CASTLE",W="CHECK",Y="CHECKMATE",Q="NORMAL",J="PREMOVE",Z="PROMOTION";function utils_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function utils_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?utils_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):utils_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var X=function isFileRank(t){return null!=t&&void 0!==t.file&&void 0!==t.rank},ee=function getPiece(t,o){return t.filter((function(t){return t.file===o.file&&t.rank===o.rank}))[0]},te=function getFileRankInsideBoard(t,o,r){return X(t)?{file:Math.min(Math.max(t.file,1),o),rank:Math.min(Math.max(t.rank,1),r)}:null},ne=function getSanFromFileRank(t){return t&&t.file&&t.rank?String.fromCharCode(96+t.file)+t.rank.toString():null},oe=function getFileRankFromSan(t){return t?{file:t.toLowerCase().charCodeAt(0)-96,rank:Number(t.charAt(1))}:null},re=function getMoveSquares(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(null===o&&(o=[]),null===r&&(r=[]),0===Object.keys(t).length&&0===o.length)return[];var a=o.reduce((function(t,o){return o.from&&t.push(o.from),o.to&&t.push(o.to),t}),[]).concat(r.map((function(t){return ne(t)})));return[t.from&&!a.includes(t.from)?oe(t.from):null,t.to&&!a.includes(t.to)?oe(t.to):null].concat(S()(o.reduce((function(t,o){return t.push(o.from?utils_objectSpread(utils_objectSpread({},oe(o.from)),{},{isPremove:!0}):null),t.push(o.to?utils_objectSpread(utils_objectSpread({},oe(o.to)),{},{isPremove:!0}):null),t}),[])))},se=0,ae=function getSquareId(){return"square-".concat(se+=1)},ie=function isFileRankEqual(t,o){return t.file===o.file&&t.rank===o.rank},le=function cancelPromotion(t){var o=t.emit,r=t.state;o(L.SET_PIECE,{piece:r.promotion.from,fileRank:r.promotion.from}),r.promotion={from:null,piece:null,to:null},o(L.CLOSE_PROMOTION_MENU),o(L.REMOVE_SQUARES,{type:D})};function diff_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function diff_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?diff_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):diff_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var ce=0,ue=function getKey(){return"piece-".concat(ce+=1)},de=function mapArrayToObjectById(t){var o={};return t.forEach((function(t){return o[t.id]=diff_objectSpread({},t)})),o},me=function mapObjtoArray(t){return Object.keys(t).map((function(o){return t[o]}))},pe=function getDiff(t,o){var r=de(t),a=de(function addIds(t){return t.map((function(t){return diff_objectSpread(diff_objectSpread({},t),{},{id:"".concat(1===t.color?"w":"b").concat(t.type).concat(t.file).concat(t.rank)})}))}(o)),i=[],l=[],c=[];Object.keys(a).forEach((function(t){r[t]&&(i.push(diff_objectSpread(diff_objectSpread({},a[t]),{},{key:r[t].key})),delete r[t],delete a[t])}));var u=me(r);return i=me(a).map((function(t){var o,r=u.findIndex((function(o){return o&&o.type===t.type&&o.color===t.color}));return-1!==r?(o=u[r].key,l.push(diff_objectSpread(diff_objectSpread({},t),{},{key:o})),u[r]=null):(o=ue(),c.push(diff_objectSpread(diff_objectSpread({},t),{},{key:o}))),diff_objectSpread(diff_objectSpread({},t),{},{key:o||ue()})})).concat(i),{added:c,final:i,moved:l,previous:t,removed:u.filter((function(t){return null!==t}))}},fe={type:null,timeout:null};function clearCachedSound(){fe.type=null,fe.timeout=null}function change_position_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function change_position_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?change_position_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):change_position_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var be=function getMoveType(t){if(!t)return null;var o=t.san.slice(-1);return"+"===o?W:"#"===o?Y:1===t.flags||4===t.flags?z:16===t.flags||32===t.flags?K:8===t.flags||9===t.flags?Z:Q},ge=function getSound(t,o){var r;switch(t){case W:case Y:r=B;break;case z:r=N;break;case K:r=$;break;case J:r=G;break;case Z:r=V;break;default:r=o?U:q}return r},he=function isInsideBoard(t,o,r){return X(t)?t.file>0&&t.file<o+1&&t.rank>0&&t.rank<r+1:null},_e=function getCoordsInsideBoard(t,o,r){var a={};return void 0!==t.file?(a.file=Math.max(t.file,1),a.file=Math.min(a.file,o||8),a.rank=Math.max(t.rank,1),a.rank=Math.min(a.rank,r||8)):void 0!==t.x&&(a.x=Math.max(t.x,0),a.x=Math.min(a.x,t.boardRect.width),a.y=Math.max(t.y,0),a.y=Math.min(a.y,t.boardRect.height),a.boardRect=t.boardRect),a},ve=function getXYFromEvent(t,o){var r,a,i=o.getBoundingClientRect(),l=0;return t.touches&&t.pointer?(r=t.pointer.x,a=t.pointer.y,l=Number(window.scrollY||0)):t.touches&&t.touches[0]?(r=t.touches[0].clientX,a=t.touches[0].clientY):(r=t.clientX,a=t.clientY),{x:r-i.left,y:a-(i.top+l),boardRect:i}},ye=function getSquareOffset(t,o,r,a,i,l){var c=t.boardRect.width/i,u=l?(8-o)*c:(o-1)*c,d=l?(r-1)*c:(8-r)*c;return{offsetX:t.x-u,offsetY:t.y-d}},we=function getFileRankFromCoords(t,o,r,a,i){var l=t.boardRect.width/a,c=Math.floor(t.x/l),u=Math.floor(t.y/l);return{file:i?r-c:c+1,rank:i?u+1:a-u}},je=function getFileRankFromMouseEvent(t,o,r){return function getFileRankFromEvent(t,o,r,a,i){return we(ve(t,o),0,r,a,i)}(t,o,r.board.files,r.board.ranks,r.options.flipBoard)},Ee=function getFileRankFromClassName(t){var o=t.match(/square-(\d+)/);if(!o)return null;var r=o[1].match(/.{1,2}/g).map((function(t){return parseInt(t,10)}));return{file:r[0],rank:r[1]}};function drag_start_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function drag_start_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?drag_start_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):drag_start_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Oe=r("./utils/common/throttle.js");var Se=Object(Oe.a)((function handler(t,o){var r=t.emit;if(!t.state.options.captureKeyStrokes)return null;switch(r(I.KEY_PRESS,o),o){case 37:r(I.MOVE_BACKWARD,1);break;case 38:r(I.MOVE_TO_START);break;case 39:r(I.MOVE_FORWARD,1);break;case 40:r(I.MOVE_TO_END)}}),120);function mark_arrow_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function mark_arrow_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?mark_arrow_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mark_arrow_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var ke=0,Ce=function getId(){return"arrow-".concat(ke+=1)};function mark_effect_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var Pe=0,xe=function getId(){return"effect-".concat(Pe+=1)};function make_move_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function make_move_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?make_move_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):make_move_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Ae={arrows:[],squares:[],customItems:[],board:{files:8,ranks:8,size:0,squareSize:0,boardBg:null,pieceBaseBg:null,highlightColor:null},busy:!1,busyFlagTimeout:null,draggingPiece:null,drawingArrow:!1,drawingArrowFrom:null,movedPiece:null,gameSettings:{},legalMoves:[],isCheck:!1,isCheckmate:!1,markedSquareColors:{alt:"#0098c8",default:"#f42a32",shift:"#75bb37",ctrl:"#75bb37"},markedSquareOpacity:.9,options:r("./chessboard/src/board/board.service.js").a.getDefaultOptions(),pieces:[],previousPieces:[],premoves:[],preselectedPiece:null,promotion:{from:null,piece:null,to:null},selectedNode:void 0,selectedPiece:null,analysisMode:!1,sideToMove:1,playingAs:null,preventNextSelect:!1};function reset_board_state_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function reset_board_state_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?reset_board_state_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):reset_board_state_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Te;function select_piece_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function set_board_dimensions_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function set_board_dimensions_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?set_board_dimensions_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):set_board_dimensions_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Le=r("./chessboard/src/components/chessboard/style/style.helpers.js");function update_board_image_state_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function update_board_image_state_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?update_board_image_state_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):update_board_image_state_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}function update_game_settings_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function update_game_settings_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?update_game_settings_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):update_game_settings_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}function update_options_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function update_options_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?update_options_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):update_options_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Ie={addCustomItem:function addCustomItem(t,o){var r=t.emit,a=t.state;a.customItems.push(o),r(L.SET_CUSTOM_ITEMS,a.customItems)},cancelPromotion:le,changePosition:function changePosition(t,o){var r=t.dispatch,a=t.emit,i=t.state;!function flushSound(t){clearTimeout(fe.timeout),t(L.PLAY_SOUND,fe.type),clearCachedSound()}(a);var l=!1,c=null,u=i.busy,d=o.animate?function getAnimationSpeed(t){switch(t){case"none":return 0;case"slow":return.5;default:return.2}}(i.options.animationType):0,m=pe(i.pieces,o.pieces),p=o.sideToMove===o.playingAs,b=o.premoves.length>i.premoves.length?J:be(o.selectedNode),g=change_position_objectSpread({},i.selectedNode);i.isCheck=o.isCheck,i.isCheckmate=o.isCheckmate,i.pieces=S()(m.final),i.premoves=S()(o.premoves),i.previousPieces=S()(m.previous),i.selectedNode=change_position_objectSpread({},o.selectedNode),i.sideToMove=o.sideToMove,i.playingAs=o.playingAs,i.promotion.to&&(i.promotion={from:null,piece:null,to:null},a(L.CLOSE_PROMOTION_MENU)),r(Me.UPDATE_LEGAL_MOVES,o),g&&(o.selectedNode||(o.selectedNode={moveNumber:-1}),l=1===Math.abs(g.moveNumber-o.selectedNode.moveNumber)),o.playSound?l&&g.moveNumber>o.selectedNode.moveNumber?c=ge(be(g),!p):o.selectedNode&&(c=ge(b,p)):c=null;var h={fadeTime:l?d:0,pieces:m.added,moveType:b},_={animationSpeed:i.options.fadeSetup>0?0:d,pieces:m.moved,moveType:b},v={fadeTime:!l||i.movedPiece||i.draggingPiece?0:d,pieces:m.removed,moveType:b};r(Me.SET_BUSY_FLAG,!0);var y=i.options.highlightMoves?re(i.selectedNode,o.premoves,o.squares):re({},o.premoves,o.squares);(r(Me.SET_MOVE_SQUARES,y),i.options.fadeSetup>0&&a(L.FADE_PIECES),o.loaded&&(r(Me.DESELECT_PIECE),a(I.LOADED)),i.draggingPiece&&v.pieces&&v.pieces.length>0)&&(v.pieces.findIndex((function(t){return t.key===i.draggingPiece.key}))>=0&&(r(Me.DESELECT_PIECE),r(Me.DRAG_CANCEL)));if(a(I.POSITION_CHANGED,m),a(L.SET_PIECES,m.previous),a(L.REMOVE_PIECES,v),a(L.ADD_PIECES,h),c&&i.options.playSounds&&(u?a(L.PLAY_SOUND,c):function playSoundTimeout(t,o,r){fe.type=o,fe.timeout=setTimeout((function(){r(L.PLAY_SOUND,o),clearCachedSound()}),1e3*t)}(d,c,a)),i.selectedPiece&&_.pieces&&_.pieces.length&&_.pieces.findIndex((function(t){return t.key===i.selectedPiece.key}))>=0&&r(Me.DESELECT_PIECE),(i.movedPiece||i.draggingPiece)&&_.pieces&&_.pieces.length>0){var w=null,j=-1;i.draggingPiece&&((j=_.pieces.findIndex((function(t){return t.key===i.draggingPiece.key})))>=0&&(w={file:_.pieces[j].file,rank:_.pieces[j].rank},_.pieces.splice(j,1)),null!==w&&(a(L.DROP_PIECE,{state:i,draggingPiece:i.draggingPiece,fileRank:w}),i.draggingPiece=null)),i.movedPiece&&(w=null,(j=_.pieces.findIndex((function(t){return t.key===i.movedPiece.key})))>=0&&(w={file:_.pieces[j].file,rank:_.pieces[j].rank},_.pieces.splice(j,1)),null!==w&&(a(L.DROP_PIECE,{state:i,draggingPiece:i.movedPiece,fileRank:w}),i.movedPiece=null))}a(L.MOVE_PIECES,_);var O=100;d>0&&(_.pieces&&_.pieces.length||i.options.fadeSetup>0)&&(O+=1e3*d),null!==i.busyFlagTimeout&&clearTimeout(i.busyFlagTimeout),i.busyFlagTimeout=setTimeout((function(){i.busyFlagTimeout=null,r(Me.SET_BUSY_FLAG,!1)}),O)},clearArrow:function clearArrow(t,o){var r=t.emit,a=t.state;a.arrows=a.arrows.filter((function(t){return!ie(t,o)})),r(I.ARROW_CLEARED,o)},clearMarkings:function clearMarkings(t){var o=t.emit,r=t.state;r.squares=[],r.arrows=[],o(I.MARKINGS_CLEARED)},clearSquare:function clearSquare(t,o){var r=t.emit,a=t.state;a.squares=a.squares.filter((function(t){return!ie(t,o)})),r(I.SQUARE_CLEARED,o)},click:function click(t,o){var r=t.dispatch,a=t.emit,i=t.state;if(!i.options.enabled||!he(o,i.board.files,i.board.ranks))return null;(i.squares&&i.squares.length||i.arrows&&i.arrows.length)&&r(Me.CLEAR_MARKINGS),o.piece=ee(i.pieces,o),"drag"===i.options.moveMethod&&i.draggingPiece&&ie(i.draggingPiece,o)?(r(Me.DROP_PIECE,i.draggingPiece),i.preselectedPiece&&i.selectedPiece&&i.preselectedPiece.key===i.selectedPiece.key?(r(Me.DESELECT_PIECE),i.preselectedPiece=null):r(Me.SELECT_PIECE,o)):i.selectedPiece&&"drag"===i.options.moveMethod?(null!==i.promotion.from&&le({emit:a,state:i}),r(Me.MAKE_MOVE,o)):!i.selectedPiece&&o.piece?i.preventNextSelect?i.preventNextSelect=!1:r(Me.SELECT_PIECE,o):r(Me.DESELECT_PIECE),i.busyFlagTimeout=setTimeout((function(){i.busyFlagTimeout=null,r(Me.SET_BUSY_FLAG,!1)}),100),a(I.CLICKED,{state:i,file:o.file,rank:o.rank})},deselectPiece:function deselectPiece(t){var o=t.emit,r=t.dispatch,a=t.state;o(L.REMOVE_LEGAL_MOVES),o(I.PIECE_UNSELECTED,a.selectedPiece),a.selectedPiece=null,r(Me.UPDATE_SELECTED_PIECE_SQUARE)},droppableDragStart:function droppableDragStart(t){var o=t.emit;(0,t.dispatch)(Me.SET_BUSY_FLAG,!0),o(L.DISABLE_FAKE_CURSOR)},droppableDragEnd:function droppableDragEnd(t){var o=t.emit;(0,t.dispatch)(Me.SET_BUSY_FLAG,!1),o(L.ENABLE_FAKE_CURSOR)},dragCancel:function dragCancel(t){var o=t.emit,r=t.dispatch,a=t.state;null!==a.busyFlagTimeout&&(clearTimeout(a.busyFlagTimeout),a.busyFlagTimeout=null,r(Me.SET_BUSY_FLAG,!1)),a.draggingPiece&&(r(Me.DROP_PIECE,{file:a.draggingPiece.file,rank:a.draggingPiece.rank}),o(I.PIECE_DROPPED,{state:a,draggingPiece:a.draggingPiece})),a.drawingArrow=!1},dragMove:function dragMove(t,o){var r=t.emit,a=t.state;if(!a.draggingPiece)return null;r(L.DRAG_PIECE,{state:a,draggingPiece:a.draggingPiece,coords:o}),r(L.SHOW_HOVER_SQUARE,{state:a,coords:o})},dragStart:function dragStart(t,o){var r=t.dispatch,a=t.emit,i=t.state;if(!i.options.enabled||!he(o,i.board.files,i.board.ranks)||i.draggingPiece||i.preventNextSelect)return null;i.selectedPiece&&null!==i.promotion.from?le({emit:a,state:i}):(o.piece=ee(i.pieces,o),!o.piece||i.selectedPiece&&i.selectedPiece.color!==o.piece.color||(i.selectedPiece=o.piece),i.selectedPiece&&(o.piece=drag_start_objectSpread({},i.selectedPiece)),!o.isRightClick&&i.selectedPiece?(i.draggingPiece=drag_start_objectSpread({},i.selectedPiece),r(Me.SET_BUSY_FLAG,!0),r(Me.SELECT_PIECE,o),a(L.PICK_UP_PIECE,i.selectedPiece),a(I.PIECE_PICKED_UP,i.selectedPiece)):o.isRightClick&&i.options.allowMarkings&&(i.drawingArrowFrom=o))},dragStop:function dragStop(t,o){var r=t.emit,a=t.dispatch,i=t.state;if(!i.draggingPiece&&!i.drawingArrowFrom||!o)return null;var l=o.file,c=o.rank,u=o.isRightClick,d={file:l,rank:c};if(i.drawingArrowFrom&&u){if(ie(i.drawingArrowFrom,d))return i.drawingArrowFrom=null,null;var m={fromFileRank:i.drawingArrowFrom,toFileRank:te(d,i.board.files,i.board.ranks)};if(function isInvalidArrow(t,o){return!!ie(t,o)||t.file!==o.file&&t.rank!==o.rank&&Math.abs(t.file-o.file)!==Math.abs(t.rank-o.rank)&&!(2===Math.abs(t.file-o.file)&&1===Math.abs(t.rank-o.rank)||2===Math.abs(t.rank-o.rank)&&1===Math.abs(t.file-o.file))}(m.fromFileRank,m.toFileRank))return i.drawingArrowFrom=null,null;i.arrows.find((function(t){return ie(t.fromFileRank,m.fromFileRank)&&ie(t.toFileRank,m.toFileRank)}))?a(Me.CLEAR_ARROW,m):a(Me.MARK_ARROW,m),i.drawingArrowFrom=null,i.selectedPiece=null}else he(d,i.board.files,i.board.ranks)?(null!==i.busyFlagTimeout&&clearTimeout(i.busyFlagTimeout),i.busyFlagTimeout=setTimeout((function(){i.busyFlagTimeout=null,a(Me.SET_BUSY_FLAG,!1)}),100),u?i.draggingPiece&&(a(Me.DROP_PIECE,{file:i.draggingPiece.file,rank:i.draggingPiece.rank}),r(I.PIECE_DROPPED,{state:i,draggingPiece:i.draggingPiece})):i.selectedPiece&&!ie(i.selectedPiece,d)?a(Me.MAKE_MOVE,o):a(Me.DROP_PIECE,d)):(null!==i.busyFlagTimeout&&clearTimeout(i.busyFlagTimeout),i.busyFlagTimeout=setTimeout((function(){i.busyFlagTimeout=null,a(Me.SET_BUSY_FLAG,!1)}),100),a(Me.MAKE_MOVE,null))},dropPiece:function dropPiece(t,o){var r=t.emit,a=t.state;a.draggingPiece&&(r(L.DROP_PIECE,{state:a,draggingPiece:a.draggingPiece,fileRank:o}),r(L.HIDE_HOVER_SQUARE,{state:a}),a.draggingPiece=null)},keyDown:Se,makeMove:function makeMove(t,o){var r=t.dispatch,a=t.emit,i=t.state;if(!(i.selectedPiece||i.promotion&&i.promotion.piece&&i.promotion.from))return i.draggingPiece=null,null;var l,c=i.selectedPiece?make_move_objectSpread({},ee(i.pieces,i.selectedPiece)):null;if(!c||!c.file&&!c.rank||c&&i.selectedPiece&&(c.type!==i.selectedPiece.type||c.color!==i.selectedPiece.color)){if(i.draggingPiece=null,r(Me.DESELECT_PIECE),!i.promotion.from)return null;c=i.promotion.from}a(I.SQUARE_UNSELECTED,{state:i,square:i.selectedPiece});var u={file:c.file,rank:c.rank},d=i.promotion.piece,m=i.promotion.to||o,p=i.options.autoPromote&&!(o&&o.altKey),b=function isValidPromotion(t,o,r){if(!t||!o||!r)return!1;var a=ee(t,o);if(!a||!a.color||!a.type)return!1;var i=1===a.color?7:2,l=1===a.color?8:1;return o.rank===i&&r.rank===l&&"p"===a.type}(i.pieces,c,m),g=0===i.legalMoves.filter((function(t){return t.from===ne(u)&&t.to===ne(m)&&"k"!==t.captured})).length,h=b&&!g&&!i.promotion.piece&&!p,_=!g&&b&&(p||i.promotion.piece);if(h)return i.promotion={from:make_move_objectSpread({},c),piece:null,to:o},r(Me.DROP_PIECE,o),a(L.OPEN_PROMOTION_MENU,{piece:c,toFileRank:o,top:i.options.flipBoard&&2===c.color||!i.options.flipBoard&&1===c.color});if((_&&(u=i.promotion.from||u,m=i.promotion.to||o,d=p?"q":i.promotion.piece,r(Me.DROP_PIECE,o)),i.movedPiece=i.draggingPiece,null===o&&i.gameSettings.rules&&(l={file:c.file,rank:c.rank}),g&&(l={file:c.file,rank:c.rank}),l&&r(Me.DROP_PIECE,l),g||r(Me.DROP_PIECE,o),a(I.MOVE_MADE,{from:u,to:m,isIllegal:g,promotion:d}),r(Me.DESELECT_PIECE),i.isCheck&&g&&c&&c.color===i.sideToMove)&&!i.pieces.find((function(t){return t&&m&&t.file===m.file&&t.rank===m.rank&&t.color===i.sideToMove}))){var v=i.pieces.find((function(t){return"k"===t.type&&t.color===i.sideToMove}));a(L.BLINK_SQUARE,{file:v.file,rank:v.rank,times:3,color:"#ff0000",interval:200}),i.options.playSounds&&a(L.PLAY_SOUND,H)}i.promotion={from:null,piece:null,to:null}},markArrow:function markArrow(t,o){var r=t.emit;if(!o||!o.fromFileRank||!o.toFileRank)return null;var a={id:Ce(),fromFileRank:mark_arrow_objectSpread({},o.fromFileRank),toFileRank:mark_arrow_objectSpread({},o.toFileRank)};return r(I.ARROW_MARKED,a)},markEffect:function markEffect(t,o){var r=t.emit;if(!o||!o.square)return null;var a=function mark_effect_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?mark_effect_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mark_effect_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({id:xe()},o);return r(I.EFFECT_MARKED,a)},markSquare:function markSquare(t,o){var r=t.emit,a=t.state;if(!o||!o.file||!o.rank)return null;var i={id:ae(),file:o.file,rank:o.rank,color:o.color||a.options.highlightColor,opacity:o.opacity||a.options.highlightOpacity};return r(I.SQUARE_MARKED,i)},pointerdown:function pointerdown(t,o){var r=t.dispatch,a=t.emit,i=t.state;if(o){var l=o.file,c=o.rank,u=o.x,d=o.y,m=o.boardRect;if(o.isRightClick)return r(Me.DRAG_CANCEL);if(!i.options.enabled||!he({file:l,rank:c},i.board.files,i.board.ranks)||i.selectedPiece&&null!==i.promotion.from)return null;if("drag"===i.options.moveMethod){if(!i.gameSettings.rules)return;if(i.selectedPiece)if(i.legalMoves.findIndex((function(t){return t.from===ne(i.selectedPiece)&&t.to===ne({file:l,rank:c})}))>-1)return;if(!ee(i.pieces,{file:l,rank:c}))return;i.selectedPiece=null,r(Me.DRAG_START,{file:l,rank:c,x:u,y:d}),a(L.DRAG_PIECE,{state:i,draggingPiece:i.selectedPiece,coords:{x:u,y:d,boardRect:m}})}else i.selectedPiece&&!ie(i.selectedPiece,{file:l,rank:c})?(i.preventNextSelect=!0,r(Me.MAKE_MOVE,o),null!==i.busyFlagTimeout&&(clearTimeout(i.busyFlagTimeout),i.busyFlagTimeout=null,r(Me.SET_BUSY_FLAG,!1))):i.preventNextSelect=!1}},pointerup:function pointerup(t,o){var r=t.dispatch,a=t.emit,i=t.state,l=(o.file,o.rank,o.x,o.y,o.isRightClick);if(i.draggingPiece&&!l)r(Me.DROP_PIECE,{file:i.draggingPiece.file,rank:i.draggingPiece.rank}),a(I.PIECE_DROPPED,{state:i,draggingPiece:i.draggingPiece});else if(l){if(i.gameSettings.premoves&&i.premoves.length)return a(I.CANCEL_PREMOVES),null;if(i.gameSettings.GTM&&i.premoves.length)return a(I.CANCEL_GTM),null}},removeCustomItem:function removeCustomItem(t,o){var r=t.emit,a=t.state;a.customItems=a.customItems.filter((function(t){return!ie(t.fileRank,o.fileRank)})),r(L.SET_CUSTOM_ITEMS,a.customItems)},resetBoardState:function resetBoardState(t){var o=t.dispatch,r=t.state,a=Ae.busy,i=Ae.busyFlagTimeout,l=Ae.movedPiece,c=Ae.promotion;r=Object.assign(r,{busy:a,busyFlagTimeout:i,movedPiece:l,promotion:reset_board_state_objectSpread({},c)}),o(Me.DESELECT_PIECE),o(Me.DROP_PIECE)},resizeBoard:function resizeBoard(t,o){var r=t.dispatch,a=t.emit;clearTimeout(Te),r(Me.SET_BOARD_DIMENSIONS,o),Te=setTimeout((function(){a(L.UPDATE_BOARD_IMAGE),a(L.UPDATE_PIECE_IMAGES)}),300)},rightClick:function rightClick(t,o){var r=t.dispatch,a=t.emit,i=t.state;if(!i.options.enabled)return null;if(i.draggingPiece)return i.busyFlagTimeout=setTimeout((function(){i.busyFlagTimeout=null,r(Me.SET_BUSY_FLAG,!1)}),100),a(I.PIECE_DROPPED,{state:i,draggingPiece:i.draggingPiece,fileRank:{file:i.draggingPiece.file,rank:i.draggingPiece.rank}}),void(i.draggingPiece=null);if(i.selectedPiece&&null!==i.promotion.from)return le({emit:a,state:i}),null;if(i.gameSettings.premoves&&i.premoves.length)return a(I.CANCEL_PREMOVES),null;if(i.gameSettings.GTM&&i.premoves.length)return a(I.CANCEL_GTM),null;if(!he(o,i.board.files,i.board.ranks))return null;if(i.options.allowMarkings){var l={file:o.file,rank:o.rank,color:i.markedSquareColors[o.key],opacity:i.markedSquareOpacity,userGenerated:!0};i.squares&&i.squares.find((function(t){return ie(t,l)}))?r(Me.CLEAR_SQUARE,l):r(Me.MARK_SQUARE,l)}return!0},selectPiece:function selectPiece(t,o){var r=t.emit,a=t.state,i=t.dispatch,l=o.piece;if(!he(l,a.board.files,a.board.ranks))return null;a.selectedPiece=function select_piece_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?select_piece_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):select_piece_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({},l),i(Me.UPDATE_SELECTED_PIECE_SQUARE),a.options.highlightLegalMoves&&r(L.ADD_LEGAL_MOVES,a.legalMoves.filter((function(t){return t.from===ne(l)})).map((function(t){return oe(t.to)}))),r(I.PIECE_SELECTED,o)},selectPromotionPiece:function selectPromotionPiece(t,o){var r=t.dispatch,a=t.emit,i=t.state;if(!function isShortString(t){return-1!=="pnbrqkPNBRQK".indexOf(t)}(o))return null;if(i.promotion.piece=o,i.promotion.from){var l=i.pieces.findIndex((function(t){return t.key===i.promotion.from.key}));i.pieces.splice(l,1)}a(L.CLOSE_PROMOTION_MENU),a(L.REMOVE_LEGAL_MOVES),r(Me.MAKE_MOVE,i.promotion.to)},setBoardDimensions:function setBoardDimensions(t,o){var r=t.dispatch,a=t.emit,i=t.state,l=o.height,c=o.width,u=o.aspectRatio,d=void 0===u?1:u,m=c/d<l,p=m?c:l*d,b=m?c/d:l,g=Math.min(p,b),h=Math.floor(g/i.board.files),_=d>1?c:h*i.board.files;i.board=set_board_dimensions_objectSpread(set_board_dimensions_objectSpread({},i.board),{},{size:_,squareSize:h}),r(Me.UPDATE_BOARD_IMAGE_STATE),a(L.UPDATE_BOARD_SIZE),a(L.UPDATE_PIECE_SIZES),a(L.UPDATE_PROMOTION_MENU_SIZE),a(I.BOARD_DIMENSIONS_SET)},setBusyFlag:function setBusyFlag(t,o){var r=t.emit,a=t.state;o!==a.busy&&(a.busy=o,r(I.BUSY_FLAG,a.busy))},setMoveSquares:function setMoveSquares(t,o){var r=t.emit,a=t.state,i=(o||[]).filter((function(t){return t})).map((function(t){return{id:ae(),file:t.file,rank:t.rank,color:t.isPremove?a.options.premoveHighlightColor:t.color||a.options.highlightColor,opacity:t.isPremove?a.options.premoveHighlightOpacity:a.options.highlightOpacity,playerColor:1===a.sideToMove?2:1}}));r(L.REMOVE_SQUARES,{type:R}),r(L.ADD_SQUARES,{moveSquares:i,type:R})},updateBoardImageState:function updateBoardImageState(t){var o=t.state;o.board=update_board_image_state_objectSpread(update_board_image_state_objectSpread({},o.board),{},{boardBg:Object(Le.a)(o.options.boardStyle,o.board.squareSize),pieceBaseBg:Object(Le.b)(o.options.pieceStyle,o.board.squareSize)})},updateGameSettings:function updateGameSettings(t,o){var r=t.dispatch,a=t.emit,i=t.state;i.gameSettings=update_game_settings_objectSpread(update_game_settings_objectSpread({},i.gameSettings),o),r(Me.UPDATE_BOARD_IMAGE_STATE),a(L.UPDATE_BOARD_IMAGE)},updateLegalMoves:function updateLegalMoves(t,o){var r=t.emit,a=t.state,i=o.legalMoves;if(!Array.isArray(i))return null;a.legalMoves=S()(i),r(I.LEGAL_MOVES_UPDATED,a.legalMoves)},updateMarkings:function updateMarkings(t,o){var r=t.emit,a=t.dispatch,i=t.state;i.arrows=o.arrows?S()(o.arrows):[],i.squares=o.squares?S()(o.squares):[],i.effects=o.effects?S()(o.effects):[],(o.blinkingSquares||[]).forEach((function(t){return r(L.BLINK_SQUARE,t)}));var l=i.options.highlightMoves?re(i.selectedNode,i.premoves,i.squares):re({},i.premoves,i.squares);a(Me.SET_MOVE_SQUARES,l),a(Me.UPDATE_SELECTED_PIECE_SQUARE),r(L.SET_ARROWS,i.arrows),r(L.SET_EFFECTS,i.effects),r(L.SET_SQUARES,i.squares)},updateOptions:function updateOptions(t,o){var r=t.dispatch,i=t.emit,l=t.state,c=function getUpdates(t,o){var r={};return Object.keys(t).filter((function(r){return t[r]!==o[r]})).forEach((function(o){r[o]=t[o]})),r}(o,l.options);if(l.options=update_options_objectSpread(update_options_objectSpread({},l.options),o),Boolean(c.highlightColor)?l.options.highlightColor=c.highlightColor:a.a[l.options.boardStyle]&&a.a[l.options.boardStyle].length>=5&&(l.options.highlightColor=a.a[l.options.boardStyle][4]),void 0!==c.highlightMoves||void 0!==c.boardStyle||void 0!==c.highlightColor){var u=l.options.highlightMoves?re(l.selectedNode,l.premoves,l.squares):re({},l.premoves,l.squares);r(Me.SET_MOVE_SQUARES,u),r(Me.UPDATE_SELECTED_PIECE_SQUARE)}void 0!==c.overlayInAnalysisMode&&i(L.UPDATE_BOARD_IMAGE),void 0!==c.boardStyle&&(r(Me.UPDATE_BOARD_IMAGE_STATE),i(L.UPDATE_BOARD_IMAGE)),void 0!==c.pieceStyle&&(r(Me.UPDATE_BOARD_IMAGE_STATE),i(L.UPDATE_PIECE_IMAGES)),void 0===c.enabled&&void 0===c.flipBoard&&void 0===c.rounded||i(L.UPDATE_BOARD_CLASSES,o),void 0!==c.flipBoard&&i(L.FLIP_BOARD),!0===l.options.autoPromote&&null!==l.promotion.piece&&"q"!==l.promotion.piece&&r(Me.SELECT_PROMOTION_PIECE,"q"),i(I.OPTIONS_CHANGED,c)},updateSelectedPieceSquare:function updateSelectedPieceSquare(t){var o=t.state,r=t.emit,a=o.selectedPiece;if(r(L.REMOVE_SQUARES,{type:D}),o.options.highlightMoves&&a){var i=!0;if(o.premoves.forEach((function(t){(t.from&&ie(t.from,a)||t.to&&ie(t.to,a))&&(i=!1)})),o.squares.forEach((function(t){ie(t,a)&&(i=!1)})),i){var l={id:ae(),file:a.file,rank:a.rank,color:o.options.highlightColor,opacity:o.options.highlightOpacity};r(L.ADD_SQUARES,{moveSquares:[l],type:D})}}}},Me={ADD_CUSTOM_ITEM:"addCustomItem",CANCEL_PROMOTION:"cancelPromotion",CHANGE_POSITION:"changePosition",CLEAR_ARROW:"clearArrow",CLEAR_MARKINGS:"clearMarkings",CLEAR_SQUARE:"clearSquare",CLICK:"click",DESELECT_PIECE:"deselectPiece",DROPPABLE_DRAG_START:"droppableDragStart",DROPPABLE_DRAG_END:"droppableDragEnd",DRAG_CANCEL:"dragCancel",DRAG_MOVE:"dragMove",DRAG_START:"dragStart",DRAG_STOP:"dragStop",DROP_PIECE:"dropPiece",JUMP_TO_POSITION:"jumpToPosition",KEY_DOWN:"keyDown",MAKE_MOVE:"makeMove",MARK_ARROW:"markArrow",MARK_EFFECT:"markEffect",MARK_SQUARE:"markSquare",POINTERDOWN:"pointerdown",POINTERUP:"pointerup",REMOVE_CUSTOM_ITEM:"removeCustomItem",RESET_BOARD_STATE:"resetBoardState",RESIZE_BOARD:"resizeBoard",RIGHT_CLICK:"rightClick",SELECT_PIECE:"selectPiece",SELECT_PROMOTION_PIECE:"selectPromotionPiece",SET_BOARD_DIMENSIONS:"setBoardDimensions",SET_BUSY_FLAG:"setBusyFlag",SET_FROM_FILE_RANK:"setFromFileRank",SET_MOVE_SQUARES:"setMoveSquares",UPDATE_BOARD_IMAGE_STATE:"updateBoardImageState",UPDATE_LEGAL_MOVES:"updateLegalMoves",UPDATE_MARKINGS:"updateMarkings",UPDATE_OPTIONS:"updateOptions",UPDATE_GAME_SETTINGS:"updateGameSettings",UPDATE_SELECTED_PIECE_SQUARE:"updateSelectedPieceSquare"},Re=(r("./chessboard/src/game/index.js"),r("./chessboard/src/game/line.js")),De=function changePosition(t,o){var r=t.setup.legalMoves;t.settings.analysis||t.setup.sideToMove===t.setup.playingAs||(r=t.settings.premoves&&t.premoves&&t.premoves.length<8&&t.setup.legalPremoves&&t.setup.legalPremoves.length>0?t.setup.legalPremoves:[]);var a=-1!==[C.a.INIT,C.a.LOAD].indexOf(t.history?t.history[t.history.length-1].type:null);return{animate:!a,isCheck:t.setup.check,isCheckmate:t.setup.checkmate,loaded:a,legalMoves:r,markings:t.markings,pieces:t.premoves&&t.premoves.length&&Re.a.isHead(t.tree.lines||o,t.tree.selected)?t.premoves.slice(-1)[0].pieces:t.setup.pieces,premoves:t.premoves.map((function(t){return t.move})),previousPieces:[],playingAs:t.setup.playingAs,playSound:!a,selectedNode:t.tree.selectedNode,sideToMove:t.setup.sideToMove}};function update_markings_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function update_markings_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?update_markings_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):update_markings_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Ne=function updateMarkings(t,o){return update_markings_objectSpread(update_markings_objectSpread({},o),{},{premoves:t.settings.premoves?t.premoves:null})};function click_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function click_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?click_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):click_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var $e=function getClickFormatter(t){return function(o,r,a){var i=t(o,r,a),l=ve(o,r),c=ye(l,i.file,i.rank,a.board.files,a.board.ranks,a.board.isFlipped);return click_objectSpread(click_objectSpread(click_objectSpread({altKey:o.altKey},i),l),c)}};function right_click_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function right_click_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?right_click_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):right_click_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Fe=function getKey(t){return t.altKey?"alt":t.shiftKey?"shift":t.ctrlKey?"ctrl":"default"},Be=function getRightClickFormatter(t){return function(o,r,a){return right_click_objectSpread(right_click_objectSpread({},t(o,r,a)),{},{key:Fe(o)})}},Ue=function dragMove(t,o,r){var a=ve(t,o);return _e(a,r.board.files,r.board.ranks)};function formatters_drag_start_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function formatters_drag_start_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?formatters_drag_start_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):formatters_drag_start_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var qe=function getDragStartFormatter(t){return function(o,r,a){var i=t(o,r,a),l=ve(o,r);if(!he(i,a.board.files,a.board.ranks))return null;var c=ye(l,i.file,i.rank,a.board.files,a.board.ranks,a.board.isFlipped);return formatters_drag_start_objectSpread(formatters_drag_start_objectSpread(formatters_drag_start_objectSpread(formatters_drag_start_objectSpread({},i),l),c),{},{isRightClick:o.isRightClick})}};function drag_stop_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function drag_stop_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?drag_stop_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):drag_stop_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Ge=function getDragStopFormatter(t){return function(o,r,a){return drag_stop_objectSpread(drag_stop_objectSpread({},t(o,r,a)),{},{altKey:o.altKey,isRightClick:o.isRightClick})}},Ve=function keydown(t,o){var r=t.keyCode;return 38!==r&&40!==r||!o||t.preventDefault(),r};function pointerdown_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function pointerdown_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?pointerdown_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pointerdown_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var He=function getPointerdownFormatter(t){return function(o,r,a){var i=t(o,r,a);if(!he(i,a.board.files,a.board.ranks))return null;var l=ve(o,r);return pointerdown_objectSpread(pointerdown_objectSpread(pointerdown_objectSpread({},i),l),{},{isRightClick:o.isRightClick,altKey:o.altKey})}};function pointerup_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function pointerup_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?pointerup_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pointerup_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var ze=function getPointerupFormatter(t){return function(o,r,a){var i=t(o,r,a),l=ve(o,r);return pointerup_objectSpread(pointerup_objectSpread(pointerup_objectSpread({},i),l),{},{isRightClick:o.isRightClick})}},Ke={props:{boardId:{type:String,default:k.a.getId()},extensions:{type:Object,default:function _default(){return{}}},game:{type:Object,required:!0},options:{type:Object,default:function _default(){return{}}},resizeModifier:{type:Object,default:function _default(){return{x:0,y:0}}},handleWindowResize:{type:Boolean,default:!0}},data:function data(){return{arrows:[],customItems:[],effects:[],initialized:!1,squareSize:0,moveList:A.default.state,actionsQueue:[]}},mounted:function mounted(){var t=this;this.createChessboard().then((function(o){var r;t.initialized=!0,Object.defineProperty(t,"chessboard",{value:o,writable:!0,enumerable:!0,configurable:!1}),t.actionsQueue.forEach((function(o){var r=o.action,a=o.params;t.chessboard.dispatch(r,a)})),t.actionsQueue.length=0,t.chessboard.dispatch(Me.UPDATE_GAME_SETTINGS,t.game.settings),t.chessboard.dispatch(Me.UPDATE_OPTIONS,t.options),t.chessboard.dispatch(Me.RESIZE_BOARD,t.getBoardParentBoundingRect()),t.chessboard.dispatch(Me.CHANGE_POSITION,De(t.game,t.moveList.lines)),t.squareSize=t.chessboard.state.board.squareSize,t.$emit("chessboard-boardInitialized",!0),t.$emit("chessboard-mounted"),t.chessboard.on(I.CLICKED,(function(o){t.$emit("chessboard-clickOnFileRank",{file:o.file,rank:o.rank})})),t.chessboard.on(I.ARROW_CLEARED,(function(o){t.$emit("chessboard-clearArrow",o)})),t.chessboard.on(I.ARROW_MARKED,(function(o){t.$emit("chessboard-markArrow",o)})),t.chessboard.on(I.BOARD_DIMENSIONS_SET,(function(){t.squareSize=t.chessboard.state.board.squareSize,t.$emit("chessboard-resized",t.squareSize)})),t.chessboard.on(I.BUSY_FLAG,(function(o){t.$emit("chessboard-busyFlag",o)})),t.chessboard.on(I.CANCEL_PREMOVES,(function(){t.$emit("chessboard-cancelPremoves")})),t.chessboard.on(I.CANCEL_GTM,(function(){t.$emit("chessboard-cancelGuessTheMove")})),t.chessboard.on(I.EFFECT_CLEARED,(function(o){t.$emit("chessboard-clearEffect",o)})),t.chessboard.on(I.EFFECT_MARKED,(function(o){t.$emit("chessboard-markEffect",o)})),t.chessboard.on(I.MARKINGS_CLEARED,(function(){t.$emit("chessboard-clearMarkings")})),t.chessboard.on(I.MOVE_MADE,(function(o){t.$emit("chessboard-makeMove",o)})),t.chessboard.on(L.SET_ARROWS,(function(o){t.arrows=S()(o)})),t.chessboard.on(L.SET_EFFECTS,(function(o){t.effects=S()(o)})),t.chessboard.on(L.SET_CUSTOM_ITEMS,(function(o){t.customItems=S()(o)})),t.chessboard.on(I.SQUARE_CLEARED,(function(o){t.$emit("chessboard-clearSquare",o)})),t.chessboard.on(I.SQUARE_MARKED,(function(o){t.$emit("chessboard-markSquare",o)})),t.chessboard.on(I.MOVE_BACKWARD,(function(){t.$emit("chessboard-moveBackward")})),t.chessboard.on(I.MOVE_FORWARD,(function(){t.$emit("chessboard-moveForward")})),t.chessboard.on(I.MOVE_TO_END,(function(){t.$emit("chessboard-moveToEnd")})),t.chessboard.on(I.MOVE_TO_START,(function(){t.$emit("chessboard-moveToStart")})),t.chessboard.on(I.KEY_PRESS,(function(o){88===o&&t.$emit("chessboard-flipBoard")})),t.options.playSounds&&(r=new x.a(t.options.soundTheme)),t.chessboard.on(I.OPTIONS_CHANGED,(function(t){void 0!==t.soundTheme&&(r&&r.removeAll(),r=new x.a(t.soundTheme))})),t.chessboard.on(L.PLAY_SOUND,(function(t){null!==t&&r&&r.play(t)}));var a=t.getDomFormatters();new P.a(t.$el).observe({click:function onClick(o){return document.activeElement!==t.$el&&t.$el.focus(),t.chessboard.dispatch(Me.CLICK,a.click(o,t.$el,t.chessboard.state))},dragcancel:function onDragCancel(){return t.chessboard.dispatch(Me.DRAG_CANCEL)},dragmove:function onDragMove(o){return t.chessboard.dispatch(Me.DRAG_MOVE,a.dragMove(o,t.$el,t.chessboard.state))},dragstart:function onDragStart(o){return t.chessboard.dispatch(Me.DRAG_START,a.dragStart(o,t.$el,t.chessboard.state))},dragstop:function onDragStop(o){return t.chessboard.dispatch(Me.DRAG_STOP,a.dragStop(o,t.$el,t.chessboard.state))},pointerdown:function onPointerDown(o){return t.chessboard.dispatch(Me.POINTERDOWN,a.pointerdown(o,t.$el,t.chessboard.state))},pointerup:function onPointerUp(o){return t.chessboard.dispatch(Me.POINTERUP,a.pointerup(o,t.$el,t.chessboard.state))},rightclick:function onRightClick(o){return t.chessboard.dispatch(Me.RIGHT_CLICK,a.rightClick(o,t.$el,t.chessboard.state))}});var i=function disableMovesOnArrowKeys(){return document.removeEventListener("keydown",t.onKeydown)},l=function enableMovesOnArrowKeys(){return document.addEventListener("keydown",t.onKeydown)};window.addEventListener("message",(function(t){var o=t.data;o===I.ANOTHER_CHESSBOARD_ONBLUR?l():o===I.ANOTHER_CHESSBOARD_ONFOCUS&&i()})),l(),t.chessboard.on("destroy",i),t.handleWindowResize&&(window.addEventListener("resize",t.resizeBoard),t.chessboard.on("destroy",(function(){window.removeEventListener("resize",t.resizeBoard)})))}))},destroy:function destroy(){this.chessboard&&this.chessboard.emit("destroy")},computed:{historyLength:function historyLength(){return this.game.history.length},positionChanged:function positionChanged(){return{fen:this.game.setup.fen,isPremove:this.game.premoves.length,check:this.game.setup.check,checkmate:this.game.setup.checkmate,sideToMove:this.game.setup.sideToMove,playingAs:this.game.setup.playingAs}},legalMovesChanged:function legalMovesChanged(){return{legalMoves:this.game.setup.legalMoves,legalPremoves:this.game.setup.legalPremoves}}},watch:{"game.id":function watchGameId(){this.dispatch(Me.CHANGE_POSITION,De(this.game,this.moveList.lines))},historyLength:function watchHistoryLength(){this.chessboard&&this.chessboard.emit(T,this.game.history)},positionChanged:function watchPositionChanged(t,o){C.b.getLastItem(this.game.history).type===C.a.LOAD&&this.dispatch(Me.RESET_BOARD_STATE),t.fen===o.fen&&t.isPremove===o.isPremove&&t.check===o.check&&t.checkmate===o.checkmate&&t.markingSquares===o.markingSquares&&t.markingArrows===o.markingArrows&&t.sideToMove===o.sideToMove&&t.playingAs===o.playingAs||this.dispatch(Me.CHANGE_POSITION,De(this.game,this.moveList.lines))},legalMovesChanged:function watchLegalMoves(){this.dispatch(Me.UPDATE_LEGAL_MOVES,De(this.game,this.moveList.lines))},"game.markings.arrows":function watchGameMarkingsArrows(){this.dispatch(Me.UPDATE_MARKINGS,Ne(this.game,this.game.markings))},"game.markings.effects":function watchGameMarkingsEffects(){this.dispatch(Me.UPDATE_MARKINGS,Ne(this.game,this.game.markings))},"game.markings.squares":function watchGameMarkingsSquares(){this.dispatch(Me.UPDATE_MARKINGS,Ne(this.game,this.game.markings))},"game.markings.blinkingSquares":function watchGameMarkingsBSquares(){this.dispatch(Me.UPDATE_MARKINGS,Ne(this.game,this.game.markings))},"options.maxWidth":function watchMaxWidth(){this.dispatch(Me.SET_BOARD_DIMENSIONS,function boardDimensions(t,o){return Object.assign(t.parentNode.getBoundingClientRect(),{aspectRatio:o})}(this.$el,this.aspectRatio))},"game.settings":{handler:function watchSettings(){this.dispatch(Me.UPDATE_GAME_SETTINGS,this.game.settings)},deep:!0},options:{handler:function watchBoardOptions(t){this.dispatch(Me.UPDATE_OPTIONS,t)},deep:!0}},methods:{createChessboard:function createChessboard(){throw new Error('You must override the "createChessboard" method in child component!')},dispatch:function dispatch(t,o){this.initialized?this.chessboard.dispatch(t,o):this.actionsQueue.push({action:t,params:o})},getDomFormatters:function getDomFormatters(){throw new Error('You must override the "getDomFormatters" method in child component!')},getBoardParentBoundingRect:function getBoardParentBoundingRect(){var t=this.$el.parentNode.getBoundingClientRect(),o=t.height,r=t.width;return{aspectRatio:this.aspectRatio,width:r-(this.resizeModifier.x||0),height:o-(this.resizeModifier.y||0)}},onKeydown:function onKeydown(t){var o=this.getDomFormatters();return this.chessboard.dispatch(Me.KEY_DOWN,o.keydown(t,this.options.enabled&&this.options.captureKeyStrokes))},resizeBoard:function resizeBoard(){this.$el&&this.$el.parentNode&&this.chessboard.dispatch(Me.RESIZE_BOARD,this.getBoardParentBoundingRect())}}},We=r("./utils/sentry/set-sentry-context.js");function core_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var Ye=function createCore(t){var o=function eventEmitter(){var t={};return{emit:function emit(o,r){(t[o]||[]).forEach((function(t){return t.handler(r)}))},fire:function fire(o,r){return t[o]&&t[o].length?[].concat(t[o]).reduce((function(t,o){return t.then((function(){return o.handler(r)}))}),Promise.resolve()):[]},on:function on(o,r){var a={type:o,handler:r};return t[o]=t[o]||[],t[o].push(a),a},off:function off(o){var r=t[o.type].findIndex((function(t){return o.type===t.type&&o.handler===t.handler}));-1!==r&&t[o.type].splice(r,1)},subscriptions:t}}(),r=o.emit,a=o.off,i=o.on,l=o.subscriptions,c=function core_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?core_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):core_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({},Ae),u=function dispatch(t,o){try{return r("action-".concat(t),o),Ie[t]({dispatch:dispatch,emit:r,state:c},o)}catch(a){throw Object(We.setSentryContext)({chessboardState:c,chessboardDispatchErrorOn:{data:o,type:t}}),a}};return Object.keys(t||{}).forEach((function(o){if("function"==typeof t[o])return t[o]({dispatch:u,emit:r,off:a,on:i,state:c});Object.entries(t[o]).forEach((function(t){return i(t[0],t[1])}))})),{dispatch:u,emit:r,extensions:t,off:a,on:i,state:c,subscriptions:l}},Qe=function getPieceImg(t,o){return"\n  url('".concat(o).concat(function getColorFromNumeric(t){return 1===t?"w":"b"}(t.color)).concat(t.type,".png')\n")},Je=function getSquareClass(t){if(!t)return null;var o="0".concat(t.file).slice(-2),r="0".concat(t.rank).slice(-2);return"square-".concat(o).concat(r)},Ze=function getTransformPercent(t,o,r){var a={x:100*(t.file-1),y:100*-(t.rank-1)},i=r.indexOf("3d")>=0;if(o&&(a.x*=-1,a.y*=-1),i){var l=1.3142;a.y=o?100*(t.rank-1)-23.90808096180187*t.rank:-(t.rank-1)*(100/l)}return a},Xe=function addLegalMoves(t,o,r){var a=r.map((function(t){return{id:"legal-move-hint-".concat(t.file).concat(t.rank),fileRank:t}})),i=Array.from(t.getElementsByClassName("legal-move-hint"));i.forEach((function(t){t.style.display=""})),i.filter((function(t){return-1===a.findIndex((function(o){return o.id===t.id}))})).forEach((function(t){return t.parentNode.removeChild(t)}));var l=a.filter((function(t){return-1===i.findIndex((function(o){return o.id===t.id}))})).map((function(t){return function createLegalMove(t,o){var r=document.createElement("div"),a=document.createElement("div");return r.id=t,r.className="legal-move-hint ".concat(o),a.classList.add("legal-move-hint-inner"),r.appendChild(a),r}(t.id,Je(t.fileRank))}));if(l.length>0){var c=document.createDocumentFragment();l.forEach((function(t){return c.appendChild(t)})),t.appendChild(c)}},et=r("./chessboard/src/components/chessboard/standalone/shared/config/style.config.js"),tt=function getPieceScheme(t){return et.b[t]?et.b[t]:{imgPath:t,imgFormat:".png"}},nt=new Array(76).join().split(",").map((function(t,o){return 2*o})).slice(22),ot=function getAdjustedSize(t){var o=function isHighRes(){return window.devicePixelRatio>1}()?2*t:t;return nt.reduceRight((function(t,r){return r===o||r>o?r:t}))},rt=function getBoardBackground(t,o){var r=function getBoardScheme(t){return et.a[t]}(t),a=ot(o);return"".concat(i.a.paths.boards,"/").concat(r[2],"/").concat(a).concat(r[3])},st=function getPieceBaseUrl(t,o){var r=tt("real3d"!==t?t:"neo"),a=ot(o);return"".concat(i.a.paths.pieces,"/").concat(r.imgPath,"/").concat(a,"/")},at="webkitTransform"in document.body.style?"webkitTransform":"transform",it={PIECE_ADDED:"DOM_PIECE_ADDED",PIECE_DROPPED:"DOM_PIECE_DROPPED",PIECE_MOVED:"DOM_PIECE_MOVED",PIECE_PICKED_UP:"DOM_PIECE_PICKED_UP",PIECE_REMOVED:"DOM_PIECE_REMOVED"},lt=function addPieces(t,o,r,a){var i=Array.from(t.getElementsByClassName("piece")),l=a.pieces.filter((function(t){return-1===i.findIndex((function(o){return o.id===t.id}))})).map((function(t){var o,a,i,l=r.test?(a=(o=t).color,i=o.type,"chessboard-piece-".concat(1===a?i.toUpperCase():i.toLowerCase())):void 0;return dt(t.type,t.key,Je(t),Qe(t,st(r.options.pieceStyle,150)),l)}));if(l.length>0){var c=document.createDocumentFragment(),u=r.options.pieceStyle.indexOf("3d")>=0;l.forEach((function(t){u&&t.setAttribute("piece-style","pseudo3d"),a.fadeTime?(t.style.opacity="0",t.style.transition="opacity ".concat(a.fadeTime,"s"),c.appendChild(t),requestAnimationFrame((function(){t.style.opacity="1"}))):c.appendChild(t),o(it.PIECE_ADDED,{id:t.id})})),t.querySelector(".pieces").appendChild(c)}},ct=function createSquare(t,o,r,a,i){var l=document.createElement("div");return l.id=t,l.className="square ".concat(o),void 0!==r&&(l.style.backgroundColor=r),void 0!==a&&(l.style.opacity=a),i&&l.setAttribute("data-test",i),l},ut=function addSquares(t,o,r,a){var i=a.map((function(t){var a=o.test?function(t){return"chessboard-square-".concat(t)}(r):void 0;return ct(t.id,"".concat(Je({file:t.file,rank:t.rank})," ").concat(r,"-square"),t.color,t.opacity,a)}));if(i.length>0){var l=document.createDocumentFragment();i.forEach((function(t){return l.appendChild(t)})),t.insertBefore(l,t.firstChild)}},dt=function createPiece(t,o,r,a,i){var l=document.createElement("div");return l.id=o,l.className="piece ".concat(r),l.style.backgroundImage=a,i&&l.setAttribute("data-test",i),l},mt="mousedown",pt="mousemove",ft="mouseup",bt="pointerdown",gt="pointermove",ht="pointerup",_t="touchstart",vt="touchmove",yt="touchend",wt=function getPointerEvents(){var t,o,r,a="onpointerdown"in window,i="ontouchstart"in window;return a?(t=bt,o=gt,r=ht):i?(t=_t,o=vt,r=yt):(t=mt,o=pt,r=ft),{pointerdown:t,pointermove:o,pointerup:r}}(),jt=wt.pointerdown,Et=(wt.pointermove,wt.pointerup,function setPiece(t,o){if(t){var r=t instanceof Node?t:document.getElementById(t.key);if(r instanceof Node){var a=Array.from(r.classList).filter((function(t){return t.includes("square")}))[0];r.classList.remove(a),r.classList.add(Je(o)),r.style.transform="",r.style.zIndex=""}}}),Ot=function removeSquares(t,o,r){(void 0===r?Array.from(t.getElementsByClassName("".concat(o,"-square"))):Array.from(t.getElementsByClassName("".concat(o,"-square"))).filter((function(t){return-1!==[].concat(r).findIndex((function(o){return t.id===o.id}))}))).forEach((function(t){return t.parentNode.removeChild(t)}))},St=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),kt=r.n(St),Ct=r("./node_modules/@babel/runtime/helpers/createClass.js"),Pt=r.n(Ct),xt=[];function animUpdate(t,o){Object.keys(t.fromValues).forEach((function(r){var a=t.fromValues[r],i=t.toValues[r];t.updatedValues[r]=(i-a)*o+a})),t.onUpdate&&t.onUpdate(t.updatedValues)}function animLoop(t){xt.forEach((function(o,r){var a=0;o.startTime<0?(o.startTime=t,o.onStart&&o.onStart()):(a=(t-o.startTime)*o.durationRatio)>1&&(a=1),animUpdate(o,a),1===a&&(o.onEnd&&o.onEnd(),xt.splice(r,1))})),xt.length&&requestAnimationFrame(animLoop)}var At=function(){function Animation(t){kt()(this,Animation),this.fromValues=t.from||null,this.toValues=t.to||null,this.updatedValues={},this.startTime=-1,this.durationRatio=t.duration?1/(1e3*t.duration):0,this.onStart=t.onStart||null,this.onUpdate=t.onUpdate||null,this.onEnd=t.onEnd||null}return Pt()(Animation,[{key:"start",value:function start(){xt.push(this),1===xt.length&&requestAnimationFrame(animLoop)}}],[{key:"endAll",value:function endAll(){xt.forEach((function(t){animUpdate(t,1),t.onEnd&&t.onEnd()})),xt.length=0}}]),Animation}(),Tt=function openPromotionMenu(t,o,r,a){var i=document.getElementById("promotion-menu");i||(!function createPromotionMenu(t,o,r){var a=document.createDocumentFragment(),i=document.createElement("div");i.classList.add("promotion-menu"),i.id="promotion-menu",i.style.height="".concat(Math.round(4.3*o.board.squareSize),"px"),i.style.width="".concat(o.board.squareSize,"px"),i.addEventListener(jt,(function clickHandler(t){t.preventDefault(),t.stopPropagation();var o=t.toElement||t.relatedTarget||t.target;return"promotion-close"===o.id?r.close():r.select(o.getAttribute("data-type"))}));var l=document.createElement("i");l.className="icon-x close-button icon-font-chess x",l.id="promotion-close",l.style.order=4,i.appendChild(l),["q","n","r","b"].map((function(t,r){var a=document.createElement("div");return a.classList.add("promotion-piece"),a.setAttribute("data-type",t),a.style.backgroundImage=Qe({color:1,type:t},st(o.options.pieceStyle,150)),a.style.order=r,a.style.width="".concat(o.board.squareSize,"px"),a.style.height="".concat(o.board.squareSize,"px"),a})).forEach((function(t){return i.appendChild(t)})),a.appendChild(i),t.appendChild(a)}(t,o,r),i=document.getElementById("promotion-menu"));var l=o.options.flipBoard?(o.board.files-a.toFileRank.file)*o.board.squareSize:(a.toFileRank.file-1)*o.board.squareSize;o.options.pieceStyle.indexOf("3d")>=0?i.classList.add("pseudo3d"):i.classList.remove("pseudo3d"),i.style.left="".concat(l,"px"),i.setAttribute("data-file",a.toFileRank.file),a.top?i.classList.add("top"):i.classList.remove("top");var c=a.top?["q","n","r","b"]:["b","r","n","q"];Array.from(i.getElementsByClassName("promotion-piece")).forEach((function(t){var r=t.getAttribute("data-type"),i=o.test?"chessboard-promotion-piece-".concat(r):void 0;i&&t.setAttribute("data-test",i),t.style.order=c.indexOf(r),t.style.backgroundImage=Qe({color:a.piece.color,type:r},st(o.options.pieceStyle,150))})),document.getElementById("promotion-close").style.order=a.top?5:0},Lt=r("./core/utils/features/index.js"),It=r("./core/utils/features/constants.js"),Mt=function updatePromotionMenuSize(t,o){var r=t.querySelector("#promotion-menu");if(r){r.style.height="".concat(Math.round(4.3*o.board.squareSize),"px"),r.style.width="".concat(o.board.squareSize,"px");var a=parseInt(r.getAttribute("data-file"),10),i=o.options.flipBoard?(o.board.files-a)*o.board.squareSize:(a-1)*o.board.squareSize,l=o.options.pieceStyle.indexOf("3d")>=0;r.style.left="".concat(i,"px"),Array.from(t.getElementsByClassName("promotion-piece")).forEach((function(t){t.style.width="".concat(o.board.squareSize,"px"),t.style.height="".concat(o.board.squareSize,"px"),l&&(t.style.backgroundSize="".concat(o.board.squareSize,"px ").concat(o.board.squareSize,"px"))}))}},usersnap_logger=function(t){var o=t.on,r=t.state;if(window.Raven){var a=Date.now(),i=[],l=0;Object.keys(I).forEach((function(t){o(t,(function(o){return addChessboardEvent("Emit: ".concat(t),o)}))})),Object.values(it).forEach((function(t){o(t,(function(o){return addChessboardEvent("DOM Event: ".concat(t),o)}))})),Object.keys(L).forEach((function(t){o(t,(function(o){return addChessboardEvent("Command: ".concat(t),o)}))})),Object.values(Me).forEach((function(t){o("action-".concat(t),(function(o){return addChessboardEvent("Action: ".concat(t),o)}))})),o(T,(function(t){t.slice(l).forEach((function(t){return addChessboardEvent("API History Event",t)})),l=t.length-1})),o(I.OPTIONS_CHANGED,(function(){Object(We.setSentryContext)({chessboardOptions:undefined})}))}function addChessboardEvent(t,o){i.unshift({timestamp:Date.now()-a,type:t,data:o}),i.length>50&&i.pop(),Object(We.setSentryContext)({chessboardEvents:i,chessboardState:r})}};function default_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function default_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?default_ownKeys(Object(r),!0).forEach((function(o){m()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):default_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Rt=function createChessboard(t,o){return new Promise((function(r){var a=Ye(default_objectSpread(default_objectSpread({},o),{},{usersnapLogger:usersnap_logger})),i={close:function close(){return a.dispatch(Me.CANCEL_PROMOTION)},select:function select(t){return a.dispatch(Me.SELECT_PROMOTION_PIECE,t)}};a.on(L.ADD_LEGAL_MOVES,(function(o){return Xe(t,a.state,o)})),a.on(L.ADD_PIECES,(function(o){return lt(t,a.emit,a.state,o)})),a.on(L.ADD_SQUARES,(function(o){return ut(t,a.state,o.type,o.moveSquares)})),a.on(L.BLINK_SQUARE,(function(o){return function blinkSquare(t,o){var r,a=ct(o.id,"".concat(Je({file:o.file,rank:o.rank})),o.color,.5);t.insertBefore(a,t.querySelector(".pieces"));var i=0;r=setInterval((function(){i+1===2*o.times?(clearInterval(r),t.removeChild(a)):(a.style.opacity=i%2?.5:0,i+=1)}),o.interval)}(t,o)})),a.on(L.CLOSE_PROMOTION_MENU,(function(){return function closePromotionMenu(t){var o=document.getElementById("promotion-menu");o&&t.removeChild(o)}(t)})),a.on(L.DRAG_PIECE,(function(t){return function dragPiece(t){var o=t.state,r=t.draggingPiece,a=t.coords;if(r){var i=document.getElementById(r.key);if(i){var l=o.options.flipBoard?a.x+o.board.squareSize/2-o.board.size:a.x-o.board.squareSize/2,c=o.options.flipBoard?a.y-o.board.squareSize/2:a.y+o.board.squareSize/2-o.board.size;i.style[at]="translate3d(".concat(l,"px, ").concat(c,"px, 0)")}}}(t)})),a.on(L.DROP_PIECE,(function(t){return function dropPiece(t,o){if(o.draggingPiece){var r=document.getElementById(o.draggingPiece.key);r&&(Et(r,o.fileRank),t(it.PIECE_DROPPED,{id:r.id,to:o.fileRank}),r.classList.remove("dragging"))}}(a.emit,t)})),a.on(L.FADE_PIECES,(function(){return function fadePieces(t,o){var r=t.getElementsByClassName("pieces")[0],a=o.options.fadeSetup;requestAnimationFrame((function(){r.style.transition="opacity 0s",r.style.opacity="0",requestAnimationFrame((function(){r.style.transition="opacity ".concat(a,"s"),r.style.opacity="1"}))}))}(t,a.state)})),a.on(L.FLIP_BOARD,(function(){return function flipPromotionMenu(t,o){var r=t.querySelector("#promotion-menu");r&&(Mt(t,o),r.classList.contains("top")?(r.classList.remove("top"),t.querySelector("#promotion-close").style.order=0):(r.classList.add("top"),t.querySelector("#promotion-close").style.order=5))}(t,a.state)})),a.on(L.MOVE_PIECES,(function(o){return function movePieces(t,o,r,a){Array.from(t.getElementsByClassName("piece")).map((function(t){var o=a.pieces.findIndex((function(o){return o.key===t.id}));return{domPiece:t,fromFileRank:Ee(t.className),toFileRank:-1!==o?{file:a.pieces[o].file,rank:a.pieces[o].rank}:null}})).filter((function(t){return null!==t.toFileRank})).forEach((function(t){var i=Ze(t.fromFileRank,r.options.flipBoard,r.options.pieceStyle),l=Ze(t.toFileRank,r.options.flipBoard,r.options.pieceStyle);a.animationSpeed>0?new At({duration:a.animationSpeed,from:{x:i.x,y:i.y},to:{x:l.x,y:l.y},onStart:function onStart(){t.domPiece.style.zIndex=3},onUpdate:function onUpdate(o){t.domPiece.style.transform="translate3d(".concat(o.x,"%, ").concat(o.y,"%, 0)")},onEnd:function onEnd(){Et(t.domPiece,t.toFileRank)}}).start():Et(t.domPiece,t.toFileRank),o(it.PIECE_MOVED,{to:t.toFileRank,id:t.domPiece.id})}))}(t,a.emit,a.state,o)})),a.on(L.OPEN_PROMOTION_MENU,(function(o){return Tt(t,a.state,i,o)})),a.on(L.PICK_UP_PIECE,(function(t){return function pickUpPiece(t,o){if(o){var r=document.getElementById(o.key);r&&(r.classList.add("dragging"),t(it.PIECE_PICKED_UP,{id:r.id}))}}(a.emit,t)})),a.on(L.REMOVE_LEGAL_MOVES,(function(){return function hideLegalMoves(t){Array.from(t.getElementsByClassName("legal-move-hint")).forEach((function(t){t.style.display="none"}))}(t)})),a.on(L.REMOVE_SQUARES,(function(o){return Ot(t,o.type,o.squares)})),a.on(L.REMOVE_PIECES,(function(o){return function removePieces(t,o,r){Array.from(t.getElementsByClassName("piece")).filter((function(t){return-1!==r.pieces.findIndex((function(o){return o.key===t.id}))})).forEach((function(t){var a=t.id;r.fadeTime?(t.style.opacity=1,t.style.transition="opacity ".concat(r.fadeTime,"s"),requestAnimationFrame((function(){t.style.opacity=0,setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),1e3*r.fadeTime)}))):t.parentNode.removeChild(t),o(it.PIECE_REMOVED,{id:a})}))}(t,a.emit,o)})),a.on(L.SET_PIECE,(function(t){return Et(t.piece,t.fileRank)})),a.on(L.SET_PIECES,(function(o){return function setPieces(t,o,r,a){At.endAll();var i=Array.from(t.getElementsByClassName("piece")),l=a.filter((function(t){return-1===i.findIndex((function(o){return o.id===t.key}))}));lt(t,o,r,{pieces:l,fadeTime:.3}),Array.from(t.getElementsByClassName("piece")).map((function(t){var o=a.findIndex((function(o){return o.key===t.id}));return-1===o&&t.parentNode.removeChild(t),{domPiece:t,to:-1!==o?a[o]:null}})).filter((function(t){return null!==t.to})).filter((function(t){return!(r.draggingPiece&&r.draggingPiece.key===t.domPiece.id)})).forEach((function(t){return Et(t.domPiece,{file:t.to.file,rank:t.to.rank})}))}(t,a.emit,a.state,o)})),a.on(L.SET_SQUARES,(function(o){return function setSquares(t,o,r){var a=Array.from(t.getElementsByClassName("".concat(M,"-square"))),i=r.filter((function(t){return-1===a.findIndex((function(o){return o.id===t.id}))}));a.filter((function(t){return-1===r.findIndex((function(o){return o.id===t.id}))})).forEach((function(t){return t.parentNode.removeChild(t)})),ut(t,o,M,i)}(t,a.state,o)})),a.on(L.SHOW_HOVER_SQUARE,(function(o){return function showHoverSquare(t,o){var r=o.state,a=o.coords;if(r.options.highlightLegalMoves){var i=_e(we(a,0,r.board.files,r.board.ranks,r.options.flipBoard)),l={id:"hover-square",file:i.file,rank:i.rank};Ot(t,"hover"),ut(t,r,"hover",[l])}}(t,o)})),a.on(L.HIDE_HOVER_SQUARE,(function(o){return function hideHoverSquare(t,o){o.state.options.highlightLegalMoves&&Ot(t,"hover")}(t,o)})),a.on(L.UPDATE_BOARD_CLASSES,(function(o){return function updateBoardClasses(t,o){var r={disabled:!o.enabled,flipped:o.flipBoard,rounded:o.rounded};Object.keys(r).forEach((function(o){return r[o]?t.classList.add(o):t.classList.remove(o)}))}(t,o)})),a.on(L.UPDATE_BOARD_IMAGE,(function(){return function updateBoardImage(t,o){var r="url('".concat(rt(o.options.boardStyle,Object(Lt.a)(It.a.OLD_BOARD_IMAGE_SIZE_150)?150:75),"') 0% 0% / 100% 100% no-repeat");o.options.overlayInAnalysisMode&&o.gameSettings.analysis&&(r="\n      linear-gradient(rgba(255, 255, 255, 0.2),\n      rgba(255, 255, 255, 0.2)) 0% 0% / 100% 100%,\n      ".concat(r,"\n    ")),t.style.background=r}(t,a.state)})),a.on(L.UPDATE_BOARD_SIZE,(function(){return function updateBoardSize(t,o){t.style.width="".concat(o.board.size,"px"),t.style.height="".concat(o.board.size,"px"),t.style.backgroundSize="".concat(o.board.size,"px ").concat(o.board.size,"px")}(t,a.state)})),a.on(L.UPDATE_PIECE_IMAGES,(function(){return function updatePieceImages(t,o){var r=st(o.options.pieceStyle,150),a=o.options.pieceStyle.indexOf("3d")>=0;Array.from(t.querySelectorAll(".piece")).forEach((function(t){var o=function getShortStringFromUrl(t){return t.replace("url(","").replace(")","").replace(/"/g,"").slice(-6,-4)}(t.style.backgroundImage);a&&t.setAttribute("piece-style","pseudo3d"),t.style.backgroundImage="url('".concat(r).concat(o,".png')")}))}(t,a.state)})),a.on(L.UPDATE_PROMOTION_MENU_SIZE,(function(){return Mt(t,a.state)})),function createBoard(t){if(!t.getElementsByClassName("pieces")[0]){var o=document.createElement("div");o.classList.add("pieces"),t.appendChild(o)}}(t),r(a)}))},Dt={name:"ChessBoard",mixins:[Ke],components:{CustomItem:j,Coordinates:u,MarkedArrow:b,MarkedEffect:y},computed:{coordColors:function coordColors(){return{white:a.a[this.options.boardStyle][1],black:a.a[this.options.boardStyle][0]}}},methods:{createChessboard:function createChessboard(){return Rt(this.$el,this.extensions)},getDomFormatters:function getDomFormatters(){return function getDomFormatters(t){return{click:$e(t),rightClick:Be(t),dragMove:Ue,dragStart:qe(t),dragStop:Ge(t),keydown:Ve,pointerdown:He(t),pointerup:ze(t)}}(je)}}},Nt=r("./chessboard/src/components/chessboard/standalone/default/chessboard.vue?vue&type=style&index=0&lang=scss&module=true&");var $t=Object(c.a)(Dt,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{staticClass:"board v-board",attrs:{tabindex:"-1",id:t.boardId}},[t.initialized&&t.options.coordinates?r("coordinates",{attrs:{colors:t.coordColors,position:t.options.coordinates,"board-style":t.options.boardStyle,flipped:t.options.flipBoard,size:t.squareSize}}):t._e(),t._v(" "),r("div",{staticClass:"arrows-container"},t._l(t.arrows,(function(o){return r("marked-arrow",{key:""+o.fromFileRank.file+o.fromFileRank.rank+o.toFileRank.file+o.toFileRank.rank,attrs:{"additional-styles":o.additionalStyles,"square-size":t.squareSize,files:t.game.setup.files,ranks:t.game.setup.ranks,flipped:t.options.flipBoard,"from-file-rank":o.fromFileRank,"to-file-rank":o.toFileRank,color:o.color,opacity:o.opacity}})})),1),t._v(" "),t._l(t.effects,(function(o){return r("marked-effect",{key:""+o.square.file+o.square.rank,attrs:{"additional-styles":o.additionalStyles,files:t.game.setup.files,flipped:t.options.flipBoard,position:o.position,ranks:t.game.setup.ranks,square:o.square,"square-size":t.squareSize,template:o.template}})})),t._v(" "),t._l(t.customItems,(function(o){return r("custom-item",{key:""+o.fileRank.file+o.fileRank.rank,attrs:{"square-size":t.squareSize,files:t.game.setup.files,ranks:t.game.setup.ranks,flipped:t.options.flipBoard,"file-rank":o.fileRank}})}))],2)}),[],!1,(function chessboard_injectStyles(t){this.$style=Nt.default.locals||Nt.default}),null,null);o.a=$t.exports},"./chessboard/src/components/chessboard/standalone/default/chessboard.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/standalone/default/chessboard.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./chessboard/src/components/chessboard/standalone/shared/config/style.config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i}));var a={default:["#B58863","#F0D9B5",null,".png","#ffff33"],"8_bit":["#6a9b41","#f3f3f4","8_bit",".png","#ffff33"],bases:["#c26b38","#efcca1","bases",".jpg","#f5cc2a"],blue:["#4D6D92","#ECECD7","blue",".png","#00a5ff"],brown:["#B58863","#F0D9B5","brown",".png","#ffff33"],bubblegum:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],burled_wood:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],dark_wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],dash:["#6b3a27","#bd9257","dash",".jpg","#eca722"],glass:["#282f3f","#667188","glass",".png","#5b91b3"],graffiti:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],green:["#779952","#edeed1","green",".png","#ffff33"],icy_sea:["#7a9db2","#c5d5dc","icy_sea",".jpg","#5ed7f1"],light:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],lolz:["#909898","#e0e9e9","lolz",".jpg","#a3becd"],marble:["#706b66","#c7bdaa","marble",".jpg","#f0db86"],metal:["#6e6e6e","#c9c9c9","metal",".jpg","#a3becd"],nature:["#8c976e","#c3d1a4","translucent",".png","#eef396"],neon:["#636363","#b9b9b9","neon",".png","#6d90a6"],newspaper:["#5a5956","#5a5956","newspaper",".jpg","#99976e"],orange:["#D08B18","#FCE4B2","orange",".png","#ffff33"],overlay:["#789ebd","#4878a0","overlay",".png","#0d9acf"],parchment:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],purple:["#8877B7","#EFEFEF","purple",".png","#7dacc9"],red:["#BA5546","#F0D8BF","red",".png","#f8f893"],sand:["#b8a590","#e5d3c4","sand",".jpg","#e2bc87"],sky:["#c2d7e2","#efefef","sky",".png","#65daf7"],stone:["#666463","#c8c3bd","stone",".jpg","#36525f"],tan:["#D08B18","#FCE4B2","tan",".png","#f7d84a"],tournament:["#316549","#ebece8","tournament",".jpg","#a4c25b"],translucent:["#667188","#282f3f","translucent",".png","#5b91b3"],walnut:["#835f42","#c0a684","walnut",".jpg","#d1a52d"],wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],grey:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],pink:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],natural:["#D08B18","#FCE4B2","tan",".png","#f0e464"],winboard:["#316549","#ebece8","tournament",".jpg","#a4c25b"],blackwhite:["#667188","#282f3f","translucent",".png","#5b91b3"],marbleblue:["#c2d7e2","#efefef","marbleblue",".jpg","#65daf7"],marblebrown:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],marblegreen:["#706b66","#c7bdaa","marblegreen",".jpg","#f0db86"],wooddark:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],woodlight:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],woodmid:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],woodolive:["#6e6e6e","#c9c9c9","woodolive",".jpg","#a3becd"]},i={modern2:{imgPath:"modern",imgFormat:".png"},lines:{imgPath:"alpha",imgFormat:".png"},"3dwood":{imgPath:"3d_wood",imgFormat:".png"},"3dplastic":{imgPath:"3d_plastic",imgFormat:".png"},"3dchesskid":{imgPath:"3d_chesskid",imgFormat:".png"}}},"./chessboard/src/components/chessboard/style/style.config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i}));var a={default:["#B58863","#F0D9B5",null,".png","#ffff33"],"8_bit":["#6a9b41","#f3f3f4","8_bit",".png","#ffff33"],bases:["#c26b38","#efcca1","bases",".jpg","#f5cc2a"],blue:["#4D6D92","#ECECD7","blue",".png","#00a5ff"],brown:["#B58863","#F0D9B5","brown",".png","#ffff33"],bubblegum:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],burled_wood:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],dark_wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],dash:["#6b3a27","#bd9257","dash",".jpg","#eca722"],glass:["#282f3f","#667188","glass",".png","#5b91b3"],graffiti:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],green:["#779952","#edeed1","green",".png","#ffff33"],icy_sea:["#7a9db2","#c5d5dc","icy_sea",".jpg","#5ed7f1"],light:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],lolz:["#909898","#e0e9e9","lolz",".jpg","#a3becd"],marble:["#706b66","#c7bdaa","marble",".jpg","#f0db86"],metal:["#6e6e6e","#c9c9c9","metal",".jpg","#a3becd"],nature:["#8c976e","#c3d1a4","translucent",".png","#eef396"],neon:["#636363","#b9b9b9","neon",".png","#6d90a6"],newspaper:["#5a5956","#5a5956","newspaper",".jpg","#99976e"],orange:["#D08B18","#FCE4B2","orange",".png","#ffff33"],overlay:["#789ebd","#4878a0","overlay",".png","#0d9acf"],parchment:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],purple:["#8877B7","#EFEFEF","purple",".png","#7dacc9"],red:["#BA5546","#F0D8BF","red",".png","#f8f893"],sand:["#b8a590","#e5d3c4","sand",".jpg","#e2bc87"],sky:["#c2d7e2","#efefef","sky",".png","#65daf7"],stone:["#666463","#c8c3bd","stone",".jpg","#36525f"],tan:["#D08B18","#FCE4B2","tan",".png","#f7d84a"],tournament:["#316549","#ebece8","tournament",".jpg","#a4c25b"],translucent:["#667188","#282f3f","translucent",".png","#5b91b3"],walnut:["#835f42","#c0a684","walnut",".jpg","#d1a52d"],wood:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],grey:["#aaaaaa","#dcdcdc","light",".png","#a4b8c4"],pink:["#f9cdd3","#fff3f3","bubblegum",".png","#de5d6f"],natural:["#D08B18","#FCE4B2","tan",".png","#f0e464"],winboard:["#316549","#ebece8","tournament",".jpg","#a4c25b"],blackwhite:["#667188","#282f3f","translucent",".png","#5b91b3"],marbleblue:["#c2d7e2","#efefef","marbleblue",".jpg","#65daf7"],marblebrown:["#b96f18","#aeaeae","graffiti",".jpg","#f39011"],marblegreen:["#706b66","#c7bdaa","marblegreen",".jpg","#f0db86"],wooddark:["#895132","#d9b088","burled_wood",".jpg","#ee9016"],woodlight:["#B58863","#F0D9B5","parchment",".jpg","#d8cc66"],woodmid:["#8d675e","#e7cdb2","dark_wood",".jpg","#cc9122"],woodolive:["#6e6e6e","#c9c9c9","woodolive",".jpg","#a3becd"]},i={modern2:{imgPath:"modern",imgFormat:".png"},lines:{imgPath:"alpha",imgFormat:".png"},"3dwood":{imgPath:"3d_wood",imgFormat:".png"},"3dplastic":{imgPath:"3d_plastic",imgFormat:".png"},"3dchesskid":{imgPath:"3d_chesskid",imgFormat:".png"}}},"./chessboard/src/components/chessboard/style/style.helpers.js":function(t,o,r){"use strict";r.d(o,"c",(function(){return l})),r.d(o,"a",(function(){return d})),r.d(o,"b",(function(){return m}));var a=r("./chessboard/src/components/config.js"),i=r("./chessboard/src/components/chessboard/style/style.config.js"),l=function getPieceScheme(t){return i.b[t]?i.b[t]:{imgPath:t,imgFormat:".png"}},c=new Array(76).join().split(",").map((function(t,o){return 2*o})).slice(22),u=function getAdjustedSize(t){var o=function isHighRes(){return window.devicePixelRatio>1}()?2*t:t;return c.reduceRight((function(t,r){return r===o||r>o?r:t}))},d=function getBoardBackground(t,o){var r=function getBoardScheme(t){return null==t||null==i.a[t]?i.a.default:i.a[t]}(t),l=u(o);return"".concat(a.a.paths.boards,"/").concat(r[2],"/").concat(l).concat(r[3])},m=function getPieceBaseUrl(t,o){var r=l("real3d"!==t?t:"neo"),i=u(o);return"".concat(a.a.paths.pieces,"/").concat(r.imgPath,"/").concat(i,"/")}},"./chessboard/src/components/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i}));var a="//images.chesscomfiles.com",i={paths:{boards:"".concat(a,"/chess-themes/boards"),pieces:"".concat(a,"/chess-themes/pieces"),sounds:"".concat(a,"/chess-themes/sounds"),variants:"//betacssjs.chesscomfiles.com/bundles/web/images/variants",webglData:"/bundles/web/images/webgl_data"},defaultBoardOptions:{boardStyle:"green",pieceStyle:"neo",highlightColor:"#FFFF33",highlightOpacity:.5,arrowColor:"rgb(255, 168, 0)",flipped:!1,files:8,ranks:8}}},"./chessboard/src/game/api/premoves/index.js":function(t,o,r){"use strict";r.d(o,"c",(function(){return m})),r.d(o,"a",(function(){return p})),r.d(o,"b",(function(){return b}));var a=r("./chessboard/src/game/history.js"),i=r("./chessboard/src/game/game.lib.js"),l=r("./chessboard/src/game/game.premoves.lib.js"),c=r("./chessboard/src/game/state.js"),u=r("./chessboard/src/game/api/select-node.js"),d=r("./chessboard/src/game/line.js"),m=function makePremove(t,o){var r=i.a.getJCEMove(t,o);return null===r?(a.b.add(t.history,a.a.ILLEGAL_MOVE),t):d.a.isHead(t.jce._lines(),t.tree.selected)||t.settings.analysis?t.settings.analysis?void 0:(l.a.premove(t,r)?(a.b.add(t.history,a.a.PREMOVE),c.a.updateState(t)):a.b.add(t.history,a.a.ILLEGAL_MOVE),t):Object(u.a)(t,d.a.getHeadIds(t.jce._lines(),t.tree.selected.line))},p=function cancelPremoves(t){return l.a.cancelPremoves(t)&&(a.b.add(t.history,a.a.CANCEL_PREMOVES),c.a.updateState(t)),t},b=function consumePremove(t){return t.premoves.length?(l.a.consumePremove(t)?(a.b.add(t.history,a.a.MAKE_MOVE),c.a.updateState(t)):p(t),t):t}},"./chessboard/src/game/api/select-node.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return m}));var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./chessboard/src/game/game.lib.js"),c=r("./chessboard/src/game/line.js"),u=r("./chessboard/src/game/history.js"),d=r("./chessboard/src/game/state.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var m=function selectNode(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=c.a.findNode(t.jce._lines(),o,r,a),m=_objectSpread({},t.tree.selected),p=m.line,b=m.move;if(!i)return t;var g={};return g=o.move+r<0&&o.line===i.ids.line?{line:0,move:-1}:i.ids,l.a.selectNode(t,g),u.b.add(t.history,u.a.JUMP_TO_POSITION,{from:{line:p,move:b},to:g}),d.a.updateState(t)}},"./chessboard/src/game/api/set-hand.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i}));r("./chessboard/src/game/state.js");var a={p:1,n:32,b:256,r:2048,q:16384},i=function setHand(t,o,r){return t.jce._hand[o]=r.split("").reduce((function(t,o){return t+a[o]}),0),t.setup.hand=t.jce.hand(),t}},"./chessboard/src/game/engine/JCE.js":function(t,o,r){"use strict";var a,i,l,c=r("./node_modules/@babel/runtime/helpers/typeof.js"),u=r.n(c),d=(a=function(){var t=[[2637767806,863464769],[720845184,95069639],[1155203408,610415943],[2618685246,1655139042],[1971536997,1218186377],[848342074,540017087],[263957791,1627660921],[3896152207,4076560586],[226391645,1484086288],[436746274,3467632685],[2516964848,3797861296],[3491888988,3510251221],[1086189917,1248276018],[18044180,1876255637],[1572111136,1190386149],[597658413,2146900428],[97624494,2243205793],[1738507407,1854916977],[1950989311,2149575947],[2098318769,3283594736],[2194108574,2015279052],[4079062812,2500884588],[856979699,2941369318],[1270058469,3877737539],[2858720366,3170717948],[2378012835,1387254795],[2278688587,2178388503],[435406673,3555273441],[3031118064,1655806655],[2063925420,1107589828],[3376753832,436852829],[615148625,1302492416],[1285502018,1963045959],[346460119,1016137793],[2803604355,1176288659],[55085973,2968618255],[1669016372,4287873088],[164740250,1037634196],[896886403,883023163],[1935551383,2764331555],[410153072,4055711755],[533441746,1505690343],[3541084098,3466290517],[3214426080,4267541060],[2675233103,1951705124],[1374411850,3115986997],[1552073989,3684348154],[4244110986,875606593],[844343081,3115990494],[2356462440,135999605],[3116133511,377238503],[2129956651,2197966368],[299173332,3276914047],[1701379241,745972291],[1306570996,254977976],[2530644806,214138461],[1122123979,1667800879],[1831591130,3801192033],[1116211970,920967505],[1594837592,2551651254],[972591349,2046373768],[2479207924,1935030411],[1675376029,2367888248],[3960916618,3935874422],[1398143232,3265801671],[133930885,1520005442],[1351827834,2829577566],[2076951437,2723839804],[435980918,2364847828],[1668970368,3738157273],[2185864314,3993911799],[2041407829,31969768],[346864372,2004703094],[4047877822,3437142421],[3669961416,538399484],[616810829,4190688246],[3144558884,4030272234],[216165387,2513010905],[2761740594,3216997572],[3919406634,4096014649],[669429112,2434161727],[2234904640,3111407601],[1421079802,1598085235],[1924213810,310373675],[4002762044,2067865415],[2592451728,2586110625],[1890340057,4031717877],[4189625662,2577429954],[2276713138,3049850801],[2741429688,3310307512],[2924122950,3426712818],[421576781,1193704381],[2277442246,3030264553],[153237420,595540057],[4278711886,4176286928],[2380848297,4030514510],[2618700582,1303682185],[3018992701,185284845],[957243316,1291916363],[1543415220,1898408169],[504378001,531073412],[2591337657,1692896435],[1333852064,903543556],[1661259930,188168388],[561112646,2197961224],[1536910315,2632972300],[1349168372,2307429186],[411152329,2745631190],[1694697476,1081411140],[3755185459,2631660711],[4019355068,4027326706],[2066937809,3761668332],[3120395808,3878773315],[94890149,2109283191],[3045629038,358812277],[1249184265,3465901047],[3477490924,2308583306],[4114113436,3875911716],[1014604031,1434513279],[3991324799,2222416029],[2040431088,1539915569],[2253613964,4081224332],[2547464012,1611168627],[2722521980,4281500978],[71289574,213969824],[2450408597,903689630],[1894451515,364024012],[1939968537,374938813],[1447259295,3785468557],[4021046128,1664847745],[3139524504,3562928047],[1173487682,4065269608],[2467266804,3907744866],[4284945151,3486998177],[2925674454,1953016432],[3710671816,1271453948],[2129465869,1422863833],[587093076,18243356],[3373793513,2411305257],[2156648078,1791034213],[3737413652,1534461430],[468575139,2935304962],[1129551363,3603256834],[2861996892,1763494778],[2826449619,2465197654],[1704209531,1014895022],[3738359347,3402630390],[569410928,4095796581],[3021312909,2108247612],[2444777957,2664129360],[282063667,3773661258],[682545472,3188439005],[3318488457,1917822038],[1447622272,4045023041],[757420137,4038580915],[2613420942,4146703316],[4012836163,150381244],[2938127093,3428591704],[1208226490,3086335530],[2935205706,1446903363],[430957978,3830532479],[1381578755,3757172800],[4109399782,1596778224],[288855589,1954372339],[3169178148,2256716053],[2644780093,3895892303],[107966643,1071681559],[1304747544,2607225372],[1359190711,1898207171],[3229237120,3273634996],[3027167685,3863637628],[3011615298,2883984519],[564135827,978463264],[770797430,362326607],[1983662611,1907583229],[4153656423,48268960],[3609759233,720080177],[3727911466,1270989899],[200708787,2366086947],[744508026,393422515],[1213261630,65757284],[3485747185,3845951003],[2958861301,1680248217],[2598470344,3163845864],[2767997908,4233451722],[3881113485,1492930166],[1773764017,2764062206],[4189435844,2898689174],[4234838742,1267095035],[2624081078,3302114327],[2395569449,390426320],[1728307101,690284926],[3309827454,1118258254],[2028172868,3888829086],[4271523049,909051386],[146617804,942892565],[2467685867,974297806],[2483428231,503635829],[3743260573,2018222096],[1002067894,2289153437],[3535252974,3738302271],[4154611160,1002664952],[3623154244,2349656961],[3646679180,3524329383],[862933752,4282853607],[2806008282,3272780913],[2734037942,3828874677],[1328176304,2137666995],[2278785213,2780788825],[381286368,1816476193],[2074232908,2316293454],[4087773386,3651330956],[967884669,3728964514],[4239349185,3213509668],[419231360,1463788948],[1275421624,2672384707],[1088456595,436245261],[2365565249,783696577],[1758083333,845223583],[2048846183,3530914274],[2635948261,124738415],[940630937,3069598626],[839474029,1253439921],[902477345,165479306],[2836079689,2681188273],[2007115168,2093139645],[1363041891,1282466609],[1130479818,1063857938],[3644959908,1260430427],[1385135238,46497915],[1386975934,3110156681],[2635987502,4233461619],[1915744629,4117939016],[487743653,285736599],[2049219159,3960249250],[69242857,3908563670],[1511066720,1488527520],[215590039,1703564952],[1459430344,4184955468],[676103291,2642967214],[83799035,3182827979],[1949179493,476101251],[2593534694,1493478716],[2283504289,995211746],[1349412676,3449243940],[2954378677,1878813305],[249149717,3329151870],[1578231917,1483986052],[4135085182,890874990],[461755528,3505523909],[3669622373,634949665],[219487622,2914465301],[2825233742,3703631897],[2479105382,2935590907],[2582097898,3187672881],[1221328648,1843341402],[2140891889,3958868911],[1482849818,345750049],[751922730,3178831411],[3546542069,4036458902],[216179596,877293293],[444615341,3117393729],[2424254530,494454238],[1344234989,3003337991],[929188581,2760877801],[2507911009,1879899982],[980166547,1311840394],[3566535507,1790747461],[143525013,2311336672],[4181962471,4273938872],[1815842366,862009811],[911175674,1179575598],[3591335374,3694215714],[1452686093,3393294272],[385158879,2447709103],[4011414929,1264623507],[1448477120,911094312],[3971299641,2289992053],[3133647265,2234591563],[3007628400,964409938],[1708345684,3673411261],[3031964479,2843021794],[3022128657,2480338599],[118850112,473449293],[2048127371,3202109429],[3158349745,382018770],[1505327237,3807570472],[2568424029,3272693060],[1866609495,3888556537],[844703982,1852802964],[3504617058,682636099],[1448882679,3733580327],[821387540,2215744532],[3631471417,311618895],[2077838877,2383929020],[3352949096,1688694420],[2491080787,3998672444],[3368630402,4182204255],[983299419,2837414346],[3651215291,1033373924],[265429091,3988955082],[3019003608,2896212153],[2955948456,3025235588],[903690197,2266253487],[3925215275,89402958],[3959093811,3609545561],[2455088053,223552128],[3115011301,2133669107],[1765081558,673805649],[3324795129,2111392191],[3443871631,432345706],[3152559950,3425427147],[3699649406,672784944],[3129545774,7668664],[2747044893,173040075],[3925243406,852328481],[164095314,3161868591],[2234471571,1302682825],[2164784335,105893718],[159995093,536831360],[599199451,425051327],[3274759746,1680930461],[1192619331,3903085578],[2832721114,3078660237],[91404660,4030521531],[3044880024,1578375623],[3906596030,754177855],[803516785,1894094672],[288455592,2030430096],[2143232492,2317305324],[388352703,3406060288],[2521731420,3588403719],[1043041227,4028028525],[3195290851,2468913324],[4166724431,3168683191],[1228226538,968516529],[500177583,3444787306],[533367442,4252082053],[4236023256,657816314],[413575568,3367198397],[3435884549,3334062733],[1004255532,1135705894],[2859513268,4170618274],[3914086821,1251487871],[3080761716,3489067886],[3571165255,699353261],[773372954,3648014952],[769693293,2939128604],[3116440923,507748478],[1687629160,3739431776],[2489486648,3502376324],[3686847158,2878383449],[3530767427,902211375],[2121652637,2493976397],[1827477891,930064171],[2549918411,4029725732],[2071415163,844118802],[2236083679,3088894868],[2040110303,4144562891],[3489536313,1133419300],[2190878435,2301466071],[2465915458,2448602097],[1675766804,2073834499],[3329799896,1613253148],[1483966600,1348836071],[159505618,2527621997],[2674227354,1695130688],[2683539437,1927873839],[3833196123,2570082188],[3891433165,759819981],[1455453349,2179602430],[1430583255,1957776111],[2067726741,4235143439],[303380021,2998980439],[2136024795,3126725799],[2054591852,1051702291],[1029141665,489794361],[2317027384,569642164],[2068461795,624418658],[2499875684,1830645251],[1302894490,4319401],[1002663431,2406815191],[1560941298,2060652753],[2141002286,515773223],[3661248027,475092913],[3705503008,2419919909],[914567990,3496539911],[3462935583,2039034761],[2878378006,2379243316],[1133857586,1390159333],[3023618742,2140726761],[282908558,944874642],[3686955701,1148723903],[2604456805,4163675010],[3061545110,377179268],[3218002352,76459088],[2836503392,916455101],[536836808,151306053],[2886925079,404221671],[2936593041,2011015485],[453815187,1852163908],[3042568989,82176306],[3279635891,4174836410],[3282689058,2360003049],[4088968807,1516570623],[2680453086,1322680794],[1731693966,3438253771],[1842894553,1294307894],[2736377365,2964642609],[121205621,521330014],[2324595870,3005710757],[3784465521,676493813],[1958759409,2030833406],[1306150933,1016370058],[2636541290,482366508],[1950415745,1695073534],[322077955,3746046623],[3602873262,3829181504],[1211684447,1861645455],[504701736,4080111082],[2407799203,1223857855],[1925743434,1498920209],[3617596327,845198428],[2498480299,3484773806],[2680229135,2560201696],[3731399221,1536412390],[2756509305,2924710846],[2635957500,3459716133],[1372762539,769635894],[802677945,3878474636],[1707760534,3075809808],[3714687192,2872792173],[1615679922,1606381794],[1940556374,1337437342],[445390489,731124040],[2864974375,64601760],[1984806574,2141516710],[513390958,1890172555],[744398315,1475299139],[982749166,852662657],[652663695,4260736510],[1184061125,82616221],[3363191899,147951756],[1064069880,1507328085],[2138882964,547595589],[2616926846,3186935246],[2298715513,3606862940],[2414381911,811477686],[2694745228,900437726],[4202576185,2201114451],[3602305260,3323446937],[3756663274,2658490339],[3061587876,2171079416],[3390977925,2850497765],[486312941,224925241],[3515712841,3510684394],[1322319486,2647200565],[3839619171,1148450258],[392296762,1154854654],[1401523788,957405781],[1934485528,527352730],[645968162,3131215255],[696971825,3361451947],[2038689491,1946699733],[1723966113,2785859721],[2652365974,1118037185],[3988018407,3134982149],[1354171594,3053634345],[1287854075,2631782435],[1723106141,2662328866],[563845090,1878819261],[639520332,171129501],[534957223,1696062352],[3612364282,2283204027],[3109494688,1304463816],[500957989,630925278],[3477030536,2149497258],[4109750364,281719363],[951472732,564407054],[922095147,2767874048],[3946156928,829677774],[2622281253,2086286851],[2936811901,850242186],[630086272,3340782667],[2340986210,1296336989],[4107355543,3865114709],[3560210278,3968418243],[3868847493,2967450637],[611513888,2083325060],[3265390517,3025776309],[2874106961,3424470508],[1668707698,2923258228],[2778598353,24320552],[292356118,3415510793],[754567370,86994591],[185141877,1621715171],[2884558258,3722473457],[1492107531,111281805],[3336927864,4225337056],[782994598,1021838039],[346133860,18281270],[2080909533,1649329040],[3612065399,3859901127],[2151962287,284556115],[3957975594,3745718727],[52533817,3998775856],[1232633839,397383972],[2716413964,3629253960],[1531307298,3836851439],[3030137657,2500401718],[3561556693,653345841],[313061910,2945718466],[2065276,3342140708],[410498334,1470588117],[2726640512,4051654894],[2570984935,758567696],[3008987264,3462702678],[623860175,228525243],[3527183895,1829844480],[467272850,3890501742],[568376656,650516927],[990477018,4035508558],[2366955227,817792110],[4183621538,989198068],[946958343,1639184195],[3395758993,3924097558],[1690887473,3220519765],[605184237,1255270525],[275515833,1926424610],[2142902612,283494960],[2021972412,1823828440],[105373677,3448326697],[1666662384,1042433908],[1338566998,261206307],[498685668,1344755577],[3101233780,3119109371],[2733370951,3808165089],[3656512268,3449289481],[4025308119,1607880299],[778896067,1612183167],[2846510368,3674754715],[3058428120,2991822529],[1892379383,3268787440],[2565895844,4154602030],[3213117192,98999135],[2495816991,116985075],[1040203361,1785041385],[3106252493,69316595],[1639829808,2087117568],[3213709576,3799911752],[604681594,2340981536],[4236730699,2938666503],[4009938384,1878897714],[2701667332,1725918218],[2182473079,1258184],[3550198211,2760750799],[657991062,875584532],[1640976276,3380476221],[460041378,2924352091],[1972323596,2287414795],[2510248061,1350206297],[2959337826,3762681165],[1625877874,3235902929],[2070189957,1429368735],[4245163299,1839731898],[2358312347,138364248],[275739390,2179122576],[2037777210,972544338],[2766930226,1984733259],[1933485829,4209310327],[3034118011,3286589799],[2653025529,62078937],[2641780289,2679545709],[3540781195,2787026415],[1569993599,3215949659],[441337890,3947723353],[1878946792,459505587],[3724105660,920173002],[1691411102,3934795955],[148741087,3647709027],[142506469,2776440083],[3811107376,3823285243],[472209891,252266174],[1913386482,1867329194],[2960608550,482740699],[1145005292,1513558421],[1091751784,1687823886],[3625186042,3086337482],[1712140887,940065262],[1504455800,1945702563],[3896940088,2003245591],[2478191531,4197739e3],[3233871270,250924495],[3404865229,1131917964],[1462204167,429621621],[1349259705,3641608989],[3627860584,2048468319],[1244251718,1513180369],[3979211282,371413143],[3043187861,4285699810],[581894202,3060983825],[1390895705,1811317301],[2599134010,3337406128],[2488233440,2436161462],[1816641224,2208816697],[1792034756,815866116],[2779893723,2695577703],[2084952115,2951772258],[1351806869,169269771],[2469979804,86740603],[1163545420,4264616949],[1795352113,2511146232],[1796715044,3134635815],[3521170642,1538900329],[3725363621,1455009392],[1342594643,1512127734],[2618386938,662157428],[2028859350,2494504685],[1841905045,648351336],[4002935891,4033319405],[850071259,1768358867],[979915719,3876018087],[830889197,1629549437],[1744763229,2455795856],[522919199,368499868],[3063822504,2522639205],[2861636095,407686388],[4097602344,1945259027],[4215946617,1251639506],[894485042,534122652],[924809191,1807237502],[1811585710,1589663609],[3439653887,1722232],[3810997538,105152714],[2677100683,4291805514],[77233985,102407776],[4239834691,2851274395],[148802076,2006440603],[2409138150,126301601],[3048474397,3217504870],[588133437,4221603123],[1139638106,263087485],[982032635,3165674595],[562514827,1294842959],[467575086,905357513],[1405117894,3370530088],[3813285157,242912619],[3601878331,1985076606],[1586505598,2092146221],[738488098,103663229],[2970334297,321718822],[1068097019,1742926233],[235518094,420804527],[283685722,4092504887],[2666392744,3799169331],[3569817788,1256762975],[2169728352,292617248],[2444571896,2239859206],[3967907832,1066404216],[420376911,2913277294],[3046293305,2956347747],[2311278792,2477686209],[2885955184,4172514290],[3030078181,2275536480],[4212469731,4280736393],[1046900335,1773022229],[995380926,1414273529],[3892683234,2429494358],[615726237,2127712535],[3880203074,2071130305],[176180504,3070850165],[1474506861,2283723599],[1256707747,1857412043],[764236850,359687368],[3521530334,511649419],[2318567964,3992868140],[128167623,2518992858],[2220129756,1042300052],[2567608573,1349636707],[441446694,384760969],[4143447316,829506048],[817912603,2738025500],[2368091832,357934982],[1187643061,1561463042],[3438021235,3030161697],[1318922279,895468690],[434876457,1130220303],[1180291767,1132759596],[2520707785,1798553137],[1962430872,2958700157],[1510954061,3534879512],[57831539,3269538993],[3354831405,3852135009],[891783098,2698494511],[2555636406,996018997],[2881342935,3982231648],[3473267445,2894952368],[1238029452,3958679326],[2051805420,559465638],[3655936674,1186951582],[330209165,167662935],[1929681327,2450868735],[1313566811,2458925988],[4283920930,3243182650],[1438004300,4185567150],[3093439067,89876832],[3401620219,3721579956],[3673745794,2682874719],[3053321309,825410712],[822915968,3681514755],[3900685126,561657358],[553823814,1857753416],[4166295066,983949325],[128359165,3426887194],[3300989119,3884968622],[4193552686,3647722552],[452189154,1569670618],[4122259632,3537825460],[2519387887,2821594244],[74333898,2940550377],[4032631446,2173999692],[2521268686,1934310532],[2620314688,2177785789],[1378755571,2455646622],[394133753,4231198609],[734399075,2800989170],[573292462,1634883078],[1214417373,3426576256],[2110224475,2399009920],[2331215665,3224086912],[531326186,698539511],[3839443603,583861850],[2644531398,2017784332],[616620850,3070237104],[590349237,2798642861],[3582377217,3317831670],[1582708616,1596570667],[2126148205,2358511947],[173450736,3219362418],[3616831144,1323437318],[2655785577,3131359031],[401600069,2967397952],[496349349,4244179910],[2479612086,2579650653],[1710903074,2049666425],[3589924952,690291925],[3266682943,1900485231],[1496318498,3025542656],[3459221058,3389461212],[2091479615,3140389256],[663040899,1207089672],[3323704225,1105530508],[353318429,2879253542],[2674540957,941987316],[1688550857,620657353],[338551967,4286217277],[204689992,2239736295],[178008789,3940832005],[3871613304,3300636974],[1911672356,2429684487],[4055679954,1974461722],[3878217928,1009991796],[2533095482,310920740],[2174833823,3596041637],[1604814460,2939543881],[1452830254,4092397851],[2441027029,4169690209],[3524103304,3372213855]],o=[[836181454,1689436944],[2776523577,3710710688],[4049974663,3750330768],[519497435,2979405513]],r=[[1892447193,197291556],[3793382197,3742120663],[3838936,2994760034],[479846099,1018728609],[3476112862,182272649],[3504620154,1427438450],[2009473484,2679350403],[1738755500,1129731339]],a=[4174784170,2938602761],i={p:0,P:1,n:2,N:3,b:4,B:5,r:6,R:7,q:8,Q:9,k:10,K:11},l=[];l[5]=1,l[6]=0,l[9]=3,l[10]=2,l[17]=5,l[18]=4,l[33]=7,l[34]=6,l[65]=9,l[66]=8,l[129]=11,l[130]=10;var c,u=[2,5,10,20,40,80,160,64],d=["","0000000","000000","00000","0000","000","00","0",""];function to32BitHex(t){var o=t.toString(16);return d[o.length]+o}function to64BitHex(t){return to32BitHex(t[0])+to32BitHex(t[1])}function hash(l,c){var d,m,p,b,g,h,_,v,y,w,j,O,S=l.split(" "),k=S[0].split("/"),C="w"===S[1],P=0,x=Number(C),A=x?3:4;for(p=7;p>=0;p-=1)for(b=0,_=(g=k[p]).length,h=0;h<_;h+=1)v=g[h],(j=i[v])>=0&&(d=(d^(y=t[64*j+8*(7-p)+b])[0])>>>0,m=(m^y[1])>>>0,j===x&&p===A&&(P|=1<<b)),b+=Number(v)||1;return"-"!==S[2]&&((w=S[2]).indexOf("K")>-1&&(d=(d^(y=o[0])[0])>>>0,m=(m^y[1])>>>0),w.indexOf("Q")>-1&&(d=(d^(y=o[2])[0])>>>0,m=(m^y[1])>>>0),w.indexOf("k")>-1&&(d=(d^(y=o[1])[0])>>>0,m=(m^y[1])>>>0),w.indexOf("q")>-1&&(d=(d^(y=o[3])[0])>>>0,m=(m^y[1])>>>0)),S[3]&&"-"!==S[3]&&(O=S[3].charCodeAt(0)-97,u[O]&P&&(d=(d^(y=r[O])[0])>>>0,m=(m^y[1])>>>0)),C&&(d=(d^a[0])>>>0,m=(m^a[1])>>>0),c&&"hex"===c?to64BitHex([d,m]):[d,m]}function wrap(t){var o,r,a,i,l={};function parseBook(t,o){var a,i,l,c,u,d,m=r.getUint16(t+8),p=r.getUint16(t+10);return i=m>>9&7,c=m>>3&7,u=7&m,d=m>>12&7,4==(l=m>>6&7)&&o&&i===c&&"-"!==o&&(7===u&&(0===i&&o.indexOf("K")>-1||7===i&&o.indexOf("k")>-1)?u-=1:0===u&&(0===i&&o.indexOf("Q")>-1||7===i&&o.indexOf("q")>-1)&&(u+=2)),a=String.fromCharCode(l+97)+(i+1)+String.fromCharCode(u+97)+(c+1),d&&(a+="nbrq"[d-1]),{move:a,weight:p}}function query(t){return"string"==typeof t&&(t={fen:t}),o(t)}if(l={query:query,pick:function pick(t){var o,r,a,i,l,c=0;if(function sortMoves(t){t.sort((function sorter(t,o){return o.weight-t.weight}))}(o=(t=t||{}).moves||query(t)),a=o.length){if(t.type&&1!==a&&"best"!==t.type){if("random"===t.type){for(i=Math.floor(Math.random()*o.sum)+1,l=0;l<a-1&&!(i<=(c+=o[l].weight));l+=1);return o[l].move}return"randomDisregardWeight"===t.type?o[Math.floor(Math.random()*a)].move:"worst"===t.type?o[a-1].move:((r=parseInt(t.type)||1)<0&&(r=a+r+1),r<1?r=1:r>a&&(r=a),o[r-1].move)}return o[0].move}}},t.getUint32)o=function bufferBookFind(t){var o,a,i,l,c,u=r.length||r.byteLength||0,d=t.offset||0,m=t.fen,p=t.chess960,b=t.checkAll,g=[],h=0;for(t.hash?"string"==typeof(o=t.hash)&&(o=function hex64ToDec(t){return[parseInt(t.substr(0,8),16),parseInt(t.substr(8),16)]}(o)):o=hash(m),!p&&m&&(c=m.split(" ")[2]),d=0;d<u;d+=16)if(r.getUint32(d)===o[0]&&r.getUint32(d+4)===o[1])i=parseBook(d,c),g[g.length]=i,h+=i.weight,a=!0;else if(a&&!b)break;if(g.sum=h,t.relative)for(l=g.length-1;l>=0;l-=1)g[l].relative=Math.round(g[l].weight/h*1e4);return g},r=t,l.buffer=r;else for(i in o=function jsonBookFind(t){var o,r,i,c,u,d,m=0,p=t.fen;if(l.useFen)i=p.replace(/ \d+ \d+$/,""),(o=a[i])||(c=i.replace(/[a-h][1-8]$/,"-"))!==i&&(o=a[c]);else if(t.hash||(t.hash=hash(p,"hex")),o=a[t.hash]){if(o[0]&&o[0].n&&(o=o[0]),o.n&&!o.b)return[];if(o.b)o=function decompressMoves(t){var o,r=[],a=t.b.length;for(o=0;o<a;++o)r.push({move:t.b[o],weight:t.w[o]});return r}(o);else if(!t.chess960&&p)for(d=p.split(" ")[2],r=o.length-1;r>=0;r-=1)(u=o[r].move.match(/e([18])([ah])\1/))&&("h"===u[2]&&("1"===u[1]&&d.indexOf("K")>-1||"8"===u[1]&&d.indexOf("k")>-1)?o[r]={move:"e"+u[1]+"g"+u[1],weight:o[r].weight}:"a"===u[2]&&("1"===u[1]&&d.indexOf("Q")>-1||"8"===u[1]&&d.indexOf("q")>-1)&&(o[r]={move:"e"+u[1]+"c"+u[1],weight:o[r].weight}))}if(o)for(r=o.length-1;r>=0;r-=1)m+=Number(o[r].weight);else o=[];return o.sum=m,o},a=t,l.json=a,a){l.useFen=i.indexOf(" ")>-1;break}return l}function getBook(t,o){!function ajaxLoad(t,o){var r=new XMLHttpRequest,a=t.toLowerCase().indexOf(".json")>-1;function onload(){var t;if(r.status>=200&&r.status<300||304===r.status||0===r.status||1223===r.status)if(a)try{o(null,JSON.parse(r.response))}catch(i){o(i)}else t=new DataView(r.response),o(null,t);else o(new Error("Error code: "+r.status))}r.open("GET",t,!0),a||(r.responseType="arraybuffer"),r.onload=onload,r.onerror=onload,r.send()}(t,(function onload(t,r){var a;if(r&&(a=wrap(r)),o)return o(t,a);if(t)throw t;return a}))}return{hash:hash,loadBook:(c={},function loadBook(t,o){c[t]?c[t].book?setTimeout((function(){o(null,c[t].book)}),0):c[t].cbs.push(o):(c[t]={cbs:[o]},getBook(t,(function onload(o,r){var a=c[t].cbs;o?delete c[t]:(c[t].book=r,c[t].cbs=void 0),a.forEach((function(t){setTimeout((function(){t(o,r)}),0)}))})))}),to64BitHex:to64BitHex,zobristPiece:t,zobristCastle:o,zobristEnPassant:r,zobristTurn:a,zobristPieceValue:i,zobristPieceValueNumbers:l}}(),i=function init(){var t,o,r,i,l={Chess:0,Chess960:1,Crazyhouse:2,"3-check":3,"King of the Hill":4,Bughouse:5,chess960:1,Fischerandom:1,fischerandom:1,crazyhouse:2,"three-check":3,kingofthehill:4,koth:4,bughouse:5},c=["Chess","Chess960","Crazyhouse","3-check","King of the Hill","Bughouse"],d={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},m=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],b=0,g=0,h=0,_=-1,v=32,y=128,w=252,j=255,O=512,S=112,k=14,C=21,P=127,x="pnbrqkPNBRQK",A="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",T=[];T[5]=[-16,-17,-15],T[6]=[16,17,15],T[8]=[-18,-33,-31,-14,18,33,31,14],T[16]=[-17,-15,17,15],T[32]=[-16,1,16,-1],T[64]=[-17,-16,-15,1,17,16,15,-1],T[128]=[-17,-16,-15,1,17,16,15,-1];var L={P:5,p:6,N:9,n:10,B:17,b:18,R:33,r:34,Q:65,q:66,K:129,k:130},I={P:4,p:4,N:8,n:8,B:16,b:16,R:32,r:32,Q:64,q:64,K:128,k:128},M={5:"P",6:"p",9:"N",10:"n",17:"B",18:"b",33:"R",34:"r",65:"Q",66:"q",129:"K",130:"k"},R={9:"N",10:"N",17:"B",18:"B",33:"R",34:"R",65:"Q",66:"Q",129:"K",130:"K"},D=[80,0,0,0,0,0,0,96,0,0,0,0,0,0,80,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,96,96,96,96,96,96,224,0,224,96,96,96,96,96,96,0,0,0,0,0,0,8,212,224,212,8,0,0,0,0,0,0,0,0,0,0,0,80,8,96,8,80,0,0,0,0,0,0,0,0,0,0,80,0,0,96,0,0,80,0,0,0,0,0,0,0,0,80,0,0,0,96,0,0,0,80,0,0,0,0,0,0,80,0,0,0,0,96,0,0,0,0,80,0,0,0,0,80,0,0,0,0,0,96,0,0,0,0,0,80,0,0,80,0,0,0,0,0,0,96,0,0,0,0,0,0,80],N=[336,80,80,0,0,0,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,360,508,252,0,252,508,360,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,476,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,0,0,0,80,80,336],$=[336,80,80,0,0,0,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,360,508,252,0,252,508,488,352,352,352,352,0,96,96,96,96,120,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,476,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,88,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,80,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,0,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,0,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,0,96,352,96,96,0,0,80,80,336],B=[336,80,80,0,0,96,96,352,96,0,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,352,352,352,352,488,508,252,0,252,508,360,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,120,96,96,96,96,0,0,0,0,80,88,508,252,508,252,476,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,88,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,80,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,0,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,0,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,0,0,0,80,80,336],U=[336,80,80,0,0,96,96,352,96,96,0,0,80,80,336,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,352,352,352,352,488,508,252,0,252,508,488,352,352,352,352,0,96,96,96,104,252,252,252,252,252,252,252,104,96,96,96,0,0,0,0,80,88,508,252,508,252,508,88,80,0,0,0,0,0,0,80,80,336,120,120,360,120,120,336,80,80,0,0,0,0,80,80,336,80,112,96,352,96,112,80,336,80,80,0,0,80,80,336,80,80,96,96,352,96,96,80,80,336,80,80,0,80,336,80,80,0,96,96,352,96,96,0,80,80,336,80,0,336,80,80,0,0,96,96,352,96,96,0,0,80,80,336],q=[336,80,80,112,112,112,96,352,96,96,112,112,112,80,336,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,352,352,480,480,488,508,252,0,252,508,488,480,480,480,352,0,96,104,252,252,252,252,252,252,252,252,252,252,252,252,104,0,0,80,88,120,120,508,252,508,252,508,120,120,120,88,80,0,80,80,80,112,368,120,120,376,120,120,368,112,112,80,80,0,80,80,80,368,112,112,112,368,112,112,112,368,112,80,80,0,80,80,336,112,112,112,112,368,112,112,112,112,368,80,80,0,80,336,80,112,112,112,112,352,96,112,112,112,112,336,80,0,336,80,80,112,112,112,96,352,96,96,112,112,112,80,336],G=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,33,16,31,15,0,0,0,0,0,0,0,0,0,0,0,18,17,16,15,14,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,-14,-15,-16,-17,-18,0,0,0,0,0,0,0,0,0,0,0,-15,-31,-16,-33,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],V=[0,5,8,11,14],H=[31,7,7,7,63],z={P:0,p:0,N:5,n:5,B:8,b:8,R:11,r:11,Q:14,q:14},K=[4,8,16,v,64],W=["","N","B","R","Q"],Y={CAPTURE:1,BIG_PAWN:2,EP_CAPTURE:4,ANY_CAPTURE:5,PROMOTION:8,KSIDE_CASTLE:16,QSIDE_CASTLE:32,KQSIDE_CASTLE:48,DROP:64,DROP_OR_PROMOTE:72},Q=[0,6,1],J={K:119,Q:112,k:7,q:0,A:112,B:113,C:114,D:115,E:116,F:117,G:118,H:119,a:0,b:1,c:2,d:3,e:4,f:5,g:6,h:7},Z=["Event","Site","Date","Round","White","Black","Result"],X=["Event","Site","Date","Round","White","Black","Result","Variant","SetUp","FEN","WhiteA","WhiteB","BlackA","BlackB"];function rank(t){return t>>4}function file(t){return 7&t}function algebraic(t){return String.fromCharCode(file(t)+97)+(8-rank(t))}function swapColor(t){return 3-t}function hashNum(t,o){t[0]=(t[0]^o[0])>>>0,t[1]=(t[1]^o[1])>>>0}function completeFen(t){var o,r;return(o=[""," w - - 0 1"," - - 0 1"," - 0 1"," 0 1"," 1"][(r=(t=t.trim()).split(" ")).length])&&t?t+=o:"0"===r[5]&&(r[5]=1,t=r.join(" ")),t}function createVariantZobristNumbers(){a.zobristCheck=[[441249556,340005552],[1040760204,311043682],[1621584863,1749286446],[1006868636,1625552915],[1953853171,24921145],[161251506,1935545265]]}function validateFen(t,o){var r,a,i,c,u,d,m,p,b,g,h,_,v,y,w,j,O,S,k,C,P=/^(?:[A-H]{1,2}[a-h]{0,2}|[A-H]{0,2}[a-h]{1,2}|KQ?k?q?|Qk?q?|kq?|q|-)$/,A=1*o===l.Crazyhouse||l[o]===l.Crazyhouse||1*o===l.Bughouse||l[o]===l.Bughouse,T=0,L=0,I=!0,M="",R={0:0,7:0},D={0:0,7:0},N={0:"k",7:"K"},$={0:"r",7:"R"},B=1*o===l.Chess960||l[o]===l.Chess960;if(!t)return 1;if((1*o===l.Bughouse||l[o]===l.Bughouse)&&2===(u=t.split(" | ")).length)return 0===(d=validateFen(u[0],o))&&(d=validateFen(u[1],o)),d;if(u=t.split(/\s+/),(1*o===l["3-check"]||l[o]===l["3-check"])&&7===u.length&&(c=u.pop(),!/^\+[0-3]\+[0-3]$/.test(c)||"+3+3"===c))return 14;if(6!==u.length)return 1;if(/\D|.{7,}|^0|^$/.test(u[5]))return 2;if(/\D|.{7,}|^0.|^$/.test(u[4]))return 3;if(!/^(?:-|[abcdefgh][36])$/.test(u[3]))return 4;if(g=u[2],B){if(!P.test(g))return 12}else if(!/^(?:KQ?k?q?|Qk?q?|kq?|q|-)$/.test(g)){if(void 0!==o||!P.test(g))return 5;B=!0}if("w"!==u[1]&&"b"!==u[1])return 6;if(A&&(u[0]=u[0].replace(/~(?=.*\/)/g,"")),a=u[0].split("/"),A&&9===a.length&&(c=a.pop(),!/^[pnbrq]{0,63}$/i.test(c)))return 13;if(8!==a.length)return 7;if("3"===u[3][1]&&"w"===u[1]||"6"===u[3][1]&&"b"===u[1])return 11;for("-"!==u[3]&&(m=4==(L="3"===u[3][1]?4:3)?5:2,T=u[3].charCodeAt(0)-97,I=!1,M=4===L?"P":"p"),r=0;r<a.length;++r){for(S=0,k=!1,C=0;C<a[r].length;C++)if(+(i=a[r][C])==+i){if(k)return 8;S+=1*i,k=!0}else{if(-1===x.indexOf(i))return 9;if(I||L!==r||T!==S||M!==i||(I=!0),m===r&&T===S)return 11;r%7==0&&(i===N[r]?D[r]=1<<S:i===$[r]&&(R[r]|=1<<S)),++S,k=!1}if(8!==S)return 10}if(!I)return 11;if("-"!==g)if(B)for(_={0:0,1:0,2:252,4:248,8:240,16:224,32:192,64:128,128:0},h={0:0,1:0,2:1,4:3,8:7,16:15,32:31,64:63,128:0},O={0:[0,0],7:[0,0]},r=g.length-1;r>=0;--r){if(w=g.charCodeAt(r),j&&j>w&&j-w<8)return 15;if(75===w?v=R[y=7]&_[D[y]]:81===w?v=R[y=7]&h[D[y]]:107===w?v=R[y=0]&_[D[y]]:113===w?v=R[y=0]&h[D[y]]:(v=1<<w-((y=w>=97?0:7)?65:97),j=w),!v||0!=(v&v-1))return 15;if(D[y]<2||D[y]>64||(v&R[y])!==v)return 15;if(++O[y][1*(D[y]<v)]>1)return 15}else{if((p=(g.indexOf("K")>-1?128:0)|(g.indexOf("Q")>-1?1:0))&&(16!==D[7]||(p&R[7])!==p))return 15;if((b=(g.indexOf("k")>-1?128:0)|(g.indexOf("q")>-1?1:0))&&(16!==D[0]||(b&R[0])!==b))return 15}return 0}function handToString(t,o){var r,a,i="",l=0,c=o?6:0;if(t)for(;l<5;){for(r=t>>V[l]&H[l],a=0;a<r;++a)i+=x[l+c];++l}return i}function hashEP(t,o,r,i){t[r+1]!==i&&t[r-1]!==i||hashNum(o,a.zobristEnPassant[file(r)])}function addPawnMove(t,r,a){var i;(0===o||2&m[r])&&(rank(r)%7==0?(i=a|Y.PROMOTION|t<<7|r<<k,p[g++]=8388608|i,p[g++]=6291456|i,p[g++]=4194304|i,p[g++]=2097152|i):p[g++]=a|t<<7|r<<k)}function kingOfTheHillWin(t){switch(t){case 67:case 68:case 51:case 52:return!0}return!1}function canCastle960(t,o,r,a){var i,l,c,u=o+(r-o%8),d=r>o%8?1:-1;for(c=o+d;c!==u;c+=d)if(t[c])return!1;if(l=(i=1===a?1===d?118:114:1===d?6:2)-d,m[i]||t[i]&&i!==o&&i!==u||t[l]&&l!==o&&l!==u)return!1;if(i!==o)for(c=o+(d=i>o?1:-1);c!==i;c+=d)if(c!==u&&t[c]||m[c])return!1;return!0}var ee=function(){function createLine(t,o,r,a,i,c){var u,d,m,p,b,g,h,_,v,y,w,j,O=[],S="",k=!0,C=o[r],P=C.length,x="";if(C.commands&&!c)for(b in C.commands)x+="[%"+b+" "+C.commands[b]+"]";for(C.initComment&&(x=(x+" "+C.initComment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),x&&O.push("{"+x+"}"),m=0;m<P;++m){if(h=1===(d=C[m]).color,S="",x="",u=d.commands,a!==l.Bughouse?(k&&!h?S=t+"...":h&&(S=t+"."),i&&(h||k)&&(S+=" ")):(O.bughouseOrder||(O.bughouseOrder=[]),O.bughouseOrder.push(d.bughouseOrder),m||(O.blackCountOffset=2===C[0].color?1:0)),S+=d.san,d.annotation&&(S+=d.annotation),d.additionalAnnotation&&(S+=" "+d.additionalAnnotation.join(" ")),k=!1,void 0===d.time||u||(u={clk:(y=d.time,w=void 0,j=void 0,w=Math.floor(y%36e3/600),j=Math.floor(y%36e3%600)/10,Math.floor(y/36e3)+":"+(w<10?"0":"")+w+":"+(j<10?"0":"")+j)}),u&&!c)for(b in u)x+="[%"+b+" "+u[b]+"]";if(d.comment&&(x=(x+" "+d.comment.replace(/(\"|\}|\%|\\)/g,"\\$1")).trim()),x&&(S+=" {"+x+"}",k=!0),O.push(S),d.lines)for(_=d.lines.length,p=0;p<_;++p)o[v=d.lines[p]].length&&((g=createLine(t,o,v,a,i,c))[0]="("+g[0],g[g.length-1]+=")",O=O.concat(g),k=!0);h||t++}return O}function createHeader(t,o){return"["+t+' "'+String(o).replace(/(\"|\\)/g,"\\$1")+'"]'}return function generatePgn(t,o,r,a,i,c){var u,d,m="string"==typeof t.newline?t.newline:"\n",p=void 0===t.spaceAfterPeriods||t.spaceAfterPeriods,b="";for(u in b+=createHeader("Event",o.Event)+m,b+=createHeader("Site",o.Site)+m,b+=createHeader("Date",o.Date)+m,b+=createHeader("Round",o.Round)+m,i===l.Bughouse?(b+=createHeader("WhiteA",o.WhiteA||"?")+m,b+=createHeader("BlackA",o.BlackA||"?")+m,b+=createHeader("WhiteB",o.WhiteB||"?")+m,b+=createHeader("BlackB",o.BlackB||"?")+m):(b+=createHeader("White",o.White)+m,b+=createHeader("Black",o.Black)+m),b+=createHeader("Result",o.Result)+m,i&&(b+=createHeader("Variant",o.Variant)+m),o.FEN&&o.FEN!==A&&(b+=createHeader("SetUp","1")+m,b+=createHeader("FEN",o.FEN)+m),o)-1===X.indexOf(u)&&(b+=createHeader(u,o[u])+m);if(b+=m,d=createLine(a,r,0,i,p,t.hideCommands),i===l.Bughouse){if(c.isDependent)return d;d=function makeBugHousePgn(t,o,r){var a=o,i=t.siblingGame.pgn(),l=0,c=0,u=[];for(o.bughouseOrder=o.bughouseOrder||[],i.bughouseOrder=i.bughouseOrder||[];o.bughouseOrder.length||i.bughouseOrder.length;)!o.bughouseOrder.length||i.bughouseOrder.length&&o.bughouseOrder[0]>i.bughouseOrder[0]?(i.bughouseOrder.shift(),u.push("B")):(o.bughouseOrder.shift(),u.push("A"));return o=[],u.forEach((function(u){var d,m,p,b="";"A"===u?(d=a,m=++l,p=t.startingMoveNumber()):(d=i,m=++c,p=t.siblingGame.startingMoveNumber()),b=String(Math.floor((m+1)/2)+p-1),(d.blackCountOffset+m)%2?b+=u:b+=u.toLowerCase(),b+="."+(r?" ":"")+d.shift(),o.push(b)})),o}(c,d,p)}return d.push(o.Result),b+function wordWrap(t,o,r){return o<1?t:(o="number"==typeof o?o:80,t.replace(new RegExp("(.{1,"+o+"})(?: |$|\r?\n)","g"),"$1"+r).slice(0,-r.length))}(d.join(" "),t.maxWidth,m)}}(),te=function(){var t="!?~",o=/\[%(\S+)\s([^\]]+)\]/,r=/^(?:[+=~\/\-\u2212]+|T?N|RR|D)$/;function extractCommands(t){var r,a,i={};do{(r=o.exec(t.value))&&(a=!0,t.value=t.value.replace(r[0],"").trim(),i[r[1]]=r[2])}while(r);a&&(t.commands=i)}function isSplitGame(t,o,r){for(var a;++o<r;)if(a=t[o].match(/^\s*(\S+)/))return/^(?:\[|1(?:\.|$))/.test(a[1])}return function tokenize(o,a){var i,l,c,u,d,m,p,b="tags",g=[],h={type:b,value:""},_=0,v=[],y=!0;for(a=a||{},u=(i=o.split(/\r?\n/)).length,l=0;l<u;++l)if("%"!==(c=i[l].trim())[0])if(c){if(m=(c=" "+c+" ").length,d=0,y)for(;d<m;++d)if(p=c[d],"tags"===b){if("["===p)h={type:b="tagName",value:""};else if(p.trim()){h={type:b="san",value:""},y=!1;break}}else if("tagName"===b)h.value&&""===p.trim()?(g.push(h),b="tagValueStart"):" "!==p&&(h.value+=p);else if("tagValueStart"===b){if('"'===p||""===p)h={type:b="tagValue",value:""};else if(p.trim())return!1}else if("tagValue"===b)'"'===p||""===p?(g.push(h),"]"===c[d+1]?(h={type:b="tags",value:""},++d):b="tagEnd"):("\\"===p&&d+2<m&&(p=c[++d]),d>0&&(h.value+=p));else if("]"===p)h={type:b="tags",value:""};else if(p.trim())return!1;for(;d<m;++d)if(p=c[d],"san"===b)if(t.indexOf(p)>-1)"!"===p||"?"===p||t.indexOf(p)<6&&(p=["!!","??","!?","?!"][t.indexOf(p)-2])?(h.value&&g.push(h),h={type:"a",value:p},"!"!==c[d+1]&&"?"!==c[d+1]||(h.value+=c[++d]),g.push(h),h={type:"san",value:""}):(""===p&&"=/"===h.value?(h.type="aa",h.value+=p):(h.value&&(r.test(h.value)&&("--"!==h.value||a.rejectNullMoves)&&(h.type="aa"),g.push(h)),h={type:"aa",value:p},""===p&&""===c[d+1]&&(h.value="",++d)),g.push(h),h={type:"san",value:""});else if(" "===p||"\t"===p||"\n"===p||"\r"===p||"{"===p||"("===p||")"===p){if(h.value){if("$"===h.value[0])h.type="nag";else if("*"===h.value||"1-0"===h.value||"0-1"===h.value||"1/2-1/2"===h.value||"-"===h.value){if(d+1<m)return!1;h.type="result","-"===h.value&&(h.value="1/2-1/2")}r.test(h.value)&&("--"!==h.value||a.rejectNullMoves)&&(h.type="aa"),g.push(h),h={type:b,value:""}}if(" "===p||"\t"===p||"\n"===p||"\r"===p)b="san";else if("{"===p)b="comment";else if("("===p)b="san",g.push({type:"variationStart",value:++_});else if(g.push({type:"variationEnd",value:_}),b="san",!_--)return!1;h.type=b}else if("."===p||!h.value&&+p==+p&&"-"!==c[d+1]&&"/"!==c[d+1]){if(+p==+p)switch(h.number||(h.number=""),h.number+=p,c[d+1]){case"A":case"a":case"B":case"b":h.number+=c[++d],g.push({type:"number",value:h.number}),delete h.number}}else h.value+=p;else 0===d&&(h.value=h.value.trim()),"}"!==p?("\\"===p&&d+2<m&&(p=c[++d]),h.value+=p):(h.value=h.value.trim(),h.value.indexOf("[")>-1&&extractCommands(h),g.push(h),h={type:b="san",value:""})}else"tags"===b?(b="san",y=!1):"comment"!==b&&"tagValueStart"!==b&&!_&&g.length&&isSplitGame(i,l,u)&&("tagValue"!==g[g.length-1].type&&(v.push(g),g=[]),b="tags",y=!0);return v.push(g),v}}();function Chess(X,ne){var oe,re,se=0,ae=!0,ie=[],le=1,ce=[],ue=_,de=0,me=1,pe=1,fe=[],be=[fe],ge=0;fe.id=ge;var he={},_e=[],ve=!1,ye=!1,we=makeMoveChess;function hashPosition(){var t,o,r,i=1===le?[4174784170,2938602761]:[0,0];for(r=0;r<120;++r)136&r&&(r+=8),(t=re[r])&&hashNum(i,a.zobristPiece[64*a.zobristPieceValueNumbers[t&j]+8*(7-rank(r))+file(r)]);if(ye)for(o=1;o<3;++o)ce[o]&&(0!=(ce[o]&ce[o]-1)?(hashNum(i,a.zobristCastle[o-1]),hashNum(i,a.zobristCastle[o+1])):ce[o]>1<<file(ie[o])?hashNum(i,a.zobristCastle[o-1]):hashNum(i,a.zobristCastle[o+1]));else{for(o=1;o<3;++o)ce[o]&&(ce[o]&Y.KSIDE_CASTLE&&hashNum(i,a.zobristCastle[o-1]),ce[o]&Y.QSIDE_CASTLE&&hashNum(i,a.zobristCastle[o+1]));ve?function hashHand(t,o){var r,i,l,c,u,d,m,p=0;for(r=1;r<3;++r){if(i=o[r])for(l=0;l<5;){for(u=p+63*l,c=i>>V[l]&H[l],d=0;d<c;++d)hashNum(t,[31*(m=a.zobristPiece[u++])[0]>>>0,17*m[1]>>>0]);++l}p=315}}(i,oe._hand):se===l["3-check"]&&function hash3Check(t,o){o[1]&&hashNum(t,a.zobristCheck[o[1]-1]),o[2]&&hashNum(t,a.zobristCheck[o[2]+2])}(i,_e)}return ue!==_&&hashEP(re,i,ue+(1===le?16:-16),4|le),i}function getCurrentHash(){var t;return fe.length?t=fe[fe.length-1].hash:(fe.hash||(fe.hash=hashPosition()),t=fe.hash),[t[0],t[1]]}function setVariant(t,o){se!==(se=t?l[t]||1*t||l[String(t).replace(/ /g,"").toLowerCase()]||l.Chess:0)&&(se===l.Bughouse?(ve=!0,oe.isDependent||(oe.siblingGame=Chess(),oe.siblingGame.hashing(ae),oe.siblingGame.isDependent=!0,oe.siblingGame.siblingGame=oe,oe.siblingGame.header({Variant:"Bughouse"})),createVariantZobristNumbers(),we=makeMoveVariant):(delete oe.siblingGame,ve=se===l.Crazyhouse,ye=se===l.Chess960,se?(createVariantZobristNumbers(),we=makeMoveVariant):we=makeMoveChess),o||updateSetup(generateFen()))}function disambiguate960Rook(t,o){for(var r,a,i=t>7?1:2;!(136&t);){if((r=re[t])&i)if(r&v){if(a)return;a=t%8+(1===i?65:97)}else if(r&y)return a;t+=o}}function _clear(t,o,r){re=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],le=1,ie[1]=_,ie[2]=_,ce[1]=0,ce[2]=0,oe._hand[1]=0,oe._hand[2]=0,_e[1]=0,_e[2]=0,ue=_,de=0,me=1,o||(be=[fe=[]],ge=0,fe.id=ge,he={Event:"?",Site:"?",Date:"????.??.??",Round:"?",White:"?",Black:"?",Result:"*"},t?setHeader(["Variant",t]):setVariant(!1,r),r||updateSetup(generateFen()))}function reset(){_clear(0,!1,!0),fe.hash=[1178310168,378666140],re=[34,10,18,66,130,18,10,34,0,0,0,0,0,0,0,0,6,6,6,6,6,6,6,6,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,5,5,5,5,5,5,5,0,0,0,0,0,0,0,0,33,9,17,65,129,17,9,33],pe=1,ie[1]=116,ie[2]=4,ce[1]=48,ce[2]=48}function load(t,o,r,a){var i,u,m,p,b,g,h,w,j,S,k,C,P=0;if(a?(C=(i=t.split(" "))[3],k=i[2]):(C=(i=t.trim().split(/\s+/))[3]||"-",k=i[2]||"-"),void 0===o?(31&k.charCodeAt(0))<9&&setVariant(l.Chess960,!0):setVariant(o,!0),u=i[0],!a&&!(u=function fixFenPieces(t,o){var r,a,i=t.length,c=0,u=0,d=o&&(o===l.Crazyhouse||o===l.Bughouse);for(r=0;r<i;++r)if(+(a=t[r])!=+a)if("/"===a){if(8!==u&&(t=t.substr(0,r)+(8-u)+t.substr(r),++r,++i),u=0,++c>7){if(!d&&r<i-1||!/^[pnbrq]{0,63}$/i.test(t.substr(r+1)))return!1;break}}else if(L[a]){if(++u>8)return!1}else{if("~"!==a)return!1;d&&r&&/[nbrq]/i.test(t[r-1])||(t=t.substr(0,r)+t.substr(r+1),--r,--i)}else(u+=1*a)>8&&(t=t.substr(0,r)+(a-(u-8))+t.substr(r+1),u=8);return t}(u,se)))return!1;if(p=u.length,_clear(c[se],r,!0),ve){if(se===l.Bughouse&&!oe.isDependent&&(g=t.split(" | "),!oe.siblingGame.load(1===g.length?t:g[1],o,r,a)))return reset(),!1;for(b=0;b<p;++b)if(+(h=u[b])!=+h)if("/"===h){if(P>111){for(++b;b<p;++b)h=u[b],oe._hand[h<"a"?1:2]+=1<<z[h]>>>0;break}P+=8}else re[P]=L[h],"~"===u[b+1]&&(++b,re[P]|=O),re[P]&y&&(ie[3&re[P]]=P),++P;else P+=1*h}else for(b=0;b<p;++b)+(h=u[b])!=+h?"/"===h?P+=8:(re[P]=L[h],re[P]&y&&(ie[3&re[P]]=P),++P):P+=1*h;if(le="b"===i[1]?2:1,"-"!==k)if(ye){for(j={1:[0,0],2:[0,0]},b=k.length-1;b>=0;--b)75===(m=k.charCodeAt(b))?m=disambiguate960Rook(119,-1):81===m?m=disambiguate960Rook(112,1):107===m?m=disambiguate960Rook(7,-1):113===m&&(m=disambiguate960Rook(0,1)),w=m<97?1:2,S=J[String.fromCharCode(m)],(h=re[S])===(v|w)&&(m>=97?ie[w]>=1&&ie[w]<=6&&(ce[w]|=1<<m-97):ie[w]>=113&&ie[w]<=118&&(ce[w]|=1<<m-65),++j[w][1*(ie[w]<S)]);(j[1][0]>1||j[1][1]>1)&&(ce[1]=0),(j[2][0]>1||j[2][1]>1)&&(ce[2]=0)}else{if(!a)for(b=k.length-1;b>=0;--b)h=re[J[k[b]]],w=k.charCodeAt(b)<97?1:2,h===(v|w)&&ie[w]===(1===w?116:4)||(k=k.substr(0,b)+k.substr(b+1)||"-");for(b=k.length-1;b>=0;--b)switch(k[b]){case"K":ce[1]|=Y.KSIDE_CASTLE;break;case"Q":ce[1]|=Y.QSIDE_CASTLE;break;case"k":ce[2]|=Y.KSIDE_CASTLE;break;case"q":ce[2]|=Y.QSIDE_CASTLE}}return!a&&(2!==C.length||1===le&&"6"!==C[1]||2===le&&"3"!==C[1]||re[C.charCodeAt(0)-97+16*(8-("3"===C[1]?4:5))]!==(4|swapColor(le))||re[d[C]])&&(C="-"),ue="-"===C?_:d[C],de=1*i[4]||0,me=1*i[5]||1,se===l["3-check"]&&(i[6]&&"+3+3"!==i[6]&&(g=i[6].match(/^\+([0-3])\+([0-3])$/)),g=g||[0,0,0],_e[1]=1*g[1],_e[2]=1*g[2]),r||(pe=me,updateSetup(generateFen())),!0}function generateFen(){return se?function generateVariantFen(){var t,o,r,a=0,i="",c="";for(t=0;t<120;++t)136&t&&(a&&(i+=a),i+="/",a=0,t+=8),(r=re[t])?(a&&(i+=a,a=0),i+=M[r&j],ve&&r&O&&(i+="~")):++a;if(a&&(i+=a),ve&&(i+="/"+handToString(oe._hand[1],!0)+handToString(oe._hand[2])),ye){for(o=ce[2],t=0;o;)1&o&&(c=String.fromCharCode(t+97)+c),o>>=1,++t;for(o=ce[1],t=0;o;)1&o&&(c=String.fromCharCode(t+65)+c),o>>=1,++t}else ce[1]&Y.KSIDE_CASTLE&&(c+="K"),ce[1]&Y.QSIDE_CASTLE&&(c+="Q"),ce[2]&Y.KSIDE_CASTLE&&(c+="k"),ce[2]&Y.QSIDE_CASTLE&&(c+="q");return i+=" "+(1===le?"w":"b")+" "+(c||"-")+" "+(ue===_?"-":algebraic(ue))+" "+de+" "+me,se===l["3-check"]?i+=" +"+_e[1]+"+"+_e[2]:se!==l.Bughouse||oe.isDependent||(i+=" | "+oe.siblingGame.fen()),i}():function generateStandardFen(){var t,o,r=0,a="",i="";for(t=0;t<120;++t)136&t&&(r&&(a+=r),a+="/",r=0,t+=8),(o=re[t])?(r&&(a+=r,r=0),a+=M[o&j]):++r;return r&&(a+=r),ce[1]&Y.KSIDE_CASTLE&&(i+="K"),ce[1]&Y.QSIDE_CASTLE&&(i+="Q"),ce[2]&Y.KSIDE_CASTLE&&(i+="k"),ce[2]&Y.QSIDE_CASTLE&&(i+="q"),a+" "+(1===le?"w":"b")+" "+(i||"-")+" "+(ue===_?"-":algebraic(ue))+" "+de+" "+me}()}function setHeader(t){var o,r,a;for(o=0;o<t.length;o+=2)r=t[o],a=t[o+1],r&&("Variant"===r&&(setVariant(a),a=se?c[se]:void 0),"Result"===r&&"*"!==a&&"1-0"!==a&&"0-1"!==a&&"1/2-1/2"!==a&&(a="*"),void 0!==a?he[r]=String(a):Z.indexOf(r)>-1?he[r]="Date"===r?"????.??.??":"?":delete he[r]);return he}function updateSetup(t){fe.length>0||ge||(t!==A?(he.SetUp="1",he.FEN=t,fe.hash=null):(delete he.SetUp,delete he.FEN,fe.hash=[1178310168,378666140]))}function get(t){var o=re[d[t]];return o?{type:M[o&w|2],color:3&o,promoted:0!=(o&O)}:null}function calculateLegalMoveInfo(a,l){var c,u,d,p,b,g,h,v,j,O,k,C,P,x,A=le,L=y|A,I=m;if(t=[],o=0,r=0,i=0,I[0]=I[1]=I[2]=I[3]=I[4]=I[5]=I[6]=I[7]=I[16]=I[17]=I[18]=I[19]=I[20]=I[21]=I[22]=I[23]=I[32]=I[33]=I[34]=I[35]=I[36]=I[37]=I[38]=I[39]=I[48]=I[49]=I[50]=I[51]=I[52]=I[53]=I[54]=I[55]=I[64]=I[65]=I[66]=I[67]=I[68]=I[69]=I[70]=I[71]=I[80]=I[81]=I[82]=I[83]=I[84]=I[85]=I[86]=I[87]=I[96]=I[97]=I[98]=I[99]=I[100]=I[101]=I[102]=I[103]=I[112]=I[113]=I[114]=I[115]=I[116]=I[117]=I[118]=I[119]=0,l!==_){for(P=function chooseKingThreats(t,o){return ye&&ce[t]?q:ce[t]&Y.KSIDE_CASTLE&&!re[o+1]&&!re[o+2]?ce[t]&Y.QSIDE_CASTLE&&!re[o-1]&&!re[o-2]&&!re[o-3]?(i=Y.KQSIDE_CASTLE,U):(i=Y.KSIDE_CASTLE,$):ce[t]&Y.QSIDE_CASTLE&&!re[o-1]&&!re[o-2]&&!re[o-3]?(i=Y.QSIDE_CASTLE,B):N}(A,l),c=0;c<120;++c)if(136&c&&(c+=8),p=re[c])if(p&A)(!a||(0|p)&a)&&t.push(c);else if(0!=((x=P[c-l+119])&p))if(4&p)for(O=T[p],u=1;u<3;++u)136&(v=c+O[u])||(I[v]|=1,v===l&&(++o,I[c]|=2));else for(j=(O=T[p&w]).length,C=p&S,u=0;u<j;++u)if(k=O[u],!(l>(v=c)&&k<0&&l-v>16||l<v&&k>0&&v-l>16))for(;!(136&(v+=k));){if(I[v]|=1,b=re[v]){if(b&A)if(v===l){for(d=v-k;d!==c;d-=k)I[d]|=2;I[c]|=2,++o,C&&0==(136&(v+=k))&&(I[v]|=1)}else if(C&&256&x&&o<2)for(h=v+k;0==(136&h);){if(g=re[h]){g===L&&(I[v]|=4+(Math.abs(k)<<3),++r);break}h+=k}break}if(!C)break}o>1&&(t=[l])}else t=function getPieces(t,o){var r,a,i=[];for(r=0;r<120;++r)136&r&&(r+=8),(a=t[r])&&(a&o)===o&&i.push(r);return i}(re,A|a)}function validateEnPassant(t,r){var a,i,l,c=r+16*(1===le?1:-1);return(1!==o||0!=(2&m[r])||0!=(2&m[c]))&&(a=re[t],re[r]=a,re[t]=0,i=re[c],re[c]=0,l=inCheck(),re[t]=a,re[r]=0,re[c]=i,!l)}function addCastlingMoves(t){var o,r,a;if(ye){if(ce[t])for(r=(o=ie[t])%8,a=0;a<8;++a)ce[t]&1<<a&&canCastle960(re,o,a,t)&&(p[g++]=(a>r?Y.KSIDE_CASTLE:Y.QSIDE_CASTLE)+(o<<7)+(o+(a-r)<<k),++a)}else i&Y.KSIDE_CASTLE&&(r=(o=ie[t])+2,0===m[o+1]&&0===m[o+2]&&(p[g++]=Y.KSIDE_CASTLE+(o<<7)+(r<<k))),i&Y.QSIDE_CASTLE&&(r=(o=ie[t])-2,0===m[o-1]&&0===m[o-2]&&(p[g++]=Y.QSIDE_CASTLE+(o<<7)+(r<<k)))}function generateMoves(a,i){var l,c,u,d,_,v,y,j,O,P,x=le,A=swapColor(x),L=ie[x];for(calculateLegalMoveInfo(a,L),h=t.length,g=b,O=0;O<h;++O)if(l=t[O],d=re[l],!(o&&r&&4&m[l]))if(4&d)for(v=T[d],0!==r&&0!=(4&m[l])&&m[l]>>3!=16||(_=l+v[0],0===re[_]&&(addPawnMove(l,_,0),Q[x]===rank(l)&&(_+=v[0],re[_]||addPawnMove(l,_,Y.BIG_PAWN)))),c=1;c<3;++c)136&(_=l+(y=v[c]))||r&&4&m[l]&&m[l]>>3!==Math.abs(y)||(re[_]&A?addPawnMove(l,_,Y.CAPTURE):_===ue&&validateEnPassant(l,_)&&(p[g++]=Y.EP_CAPTURE|l<<7|_<<k));else{if(r&&4&m[l]){if(8&d)continue;if(!(D[l-ie[x]+119]&d))continue;v=[y=m[l]>>3,-y]}else v=T[d&w];if(P=l<<7,l===L){for(c=0;c<8;++c)0==(136&(_=l+(y=v[c])))&&(re[_]?re[_]&A&&0==(1&m[_])&&(p[g++]=Y.CAPTURE|P|_<<k):0==(1&m[_])&&(p[g++]=P|_<<k));0===o&&addCastlingMoves(x)}else for(u=v.length,j=d&S,c=0;c<u;++c)for(y=v[c],_=l;!(136&(_+=y));){if(re[_]){re[_]&A&&(0===o||2&m[_])&&(p[g++]=Y.CAPTURE|P|_<<k);break}if((0===o||2&m[_])&&(p[g++]=P|_<<k),!j)break}}return ve&&function drop(t,r,a){var i,l,c,u,d;if(!t)for(r&&(r>>=26),u=0;u<5;++u)if((!r||(0|r)==1<<u)&&oe._hand[a]&H[u]<<V[u]){for(0===u?(i=16,l=103,c=Y.DROP):(i=0,l=119,c=Y.DROP|u<<C),d=i;d<=l;++d)136&d&&(d+=8),re[d]||(0===o||1===o&&2&m[d])&&(p[g++]=c|d<<k);if(r)return}}(i,a,x),g}function inCheckAfterMove(t,o,r,a){var i,c,u,d,m,p,b,g;if(se===l["King of the Hill"]&&t&y&&kingOfTheHillWin(r))return!0;if(a&Y.KQSIDE_CASTLE&&(r=1===le?a&Y.KSIDE_CASTLE?117:115:a&Y.KSIDE_CASTLE?5:3,t=v,g=!0),(i=ie[swapColor(le)])===_)return!1;if(0==(t&y)&&D[r-i+119]&t)for(m=t&S,d=r+(u=G[r-i+119]);0==(136&d);){if(d===i){if(4&t){if(1==(3&t)?i-r<0:i-r>0)return!0;break}return!0}if(d!==o&&re[d]||!m)break;d+=u}if(!g){if((c=D[o-i+119])&S&&(u=G[o-i+119])!==G[r-i+119])for(d=i-u;0==(136&d);){if(d!==o&&(p=re[d])){if(p&le&&c&p&&p&S)return!0;break}d-=u}if(a&Y.EP_CAPTURE&&(c=D[(b=r+16*(1===le?1:-1))-i+119])&S)for(d=i-(u=G[b-i+119]);0==(136&d);){if(d!==o&&d!==b){if(d===r)break;if(p=re[d]){if(p&le&&c&p&&p&S)return!0;break}}d-=u}}return!1}function moveToSan(t,o){var r,a,i,c,u,d,m="";return t&Y.KQSIDE_CASTLE?m=t&Y.KSIDE_CASTLE?"O-O":"O-O-O":t&Y.DROP?((r=t>>C)&&(m+=W[r]),m+="@"+algebraic(i=t>>k&P)):(i=t>>k&P,4&(c=re[a=t>>7&P])?(t&Y.ANY_CAPTURE&&(m+=String.fromCharCode(file(a)+97)+"x"),m+=algebraic(i),t&Y.PROMOTION&&(m+="="+W[r=t>>C])):(m+=R[c&j],h>1&&(m+=function getDisambiguator(t,o,r){var a,i,l,c,u,d;if(g<2)return"";for(t&=w,d=0;d<g;++d)if(r===(a=p[d])>>k&&(l=a>>7&P)!==o&&re[l]&t){if(i=!0,rank(o)===rank(l)){if(c)return algebraic(o);u=!0}if(file(o)===file(l)){if(u)return algebraic(o);c=!0}}return i?c?String(8-rank(o)):String.fromCharCode(file(o)+97):""}(c,a,i)),t&Y.ANY_CAPTURE&&(m+="x"),m+=algebraic(i))),o||(t&Y.KQSIDE_CASTLE?(a=t>>7&P,i=t>>k&P):t&Y.DROP_OR_PROMOTE&&(c=K[r]+le),inCheckAfterMove(c,a,i,t)&&(we(t,a,i,r),u=b,b=g,d=h,se!==l.Chess&&isVariantWin()?m+="#":generateMoves()-b?m+="+":m+="#",g=b,b=u,h=d,reverseMove(fe.pop()))),m}function kingAttacked(t){return ie[t]!==_&&function attacked(t,o){var r,a,i,l,c=T[8],u=8|t;for(r=0;r<8;++r)if(0==(136&(i=o+c[r]))&&((a=re[i])&u)===u)return!0;for(c=T[128],r=0;r<8;++r)for(i=o+(l=c[r]);0==(136&i);){if(a=re[i]){if(a&t&&D[o-i+119]&a){if(!(4&a))return!0;if(1===t?o-i<0:o-i>0)return!0}break}i+=l}return!1}(swapColor(t),ie[t])}function inCheck(){return kingAttacked(le)}function inCheckmate(){return inCheck()&&0===generateMoves()}function inStalemate(){var t=!inCheck()&&0===generateMoves();return t&&se===l.Bughouse&&!oe.isDependent&&(t=oe.siblingGame.inStalemate()),t}function insufficientMaterial(t){var o,r,a=0,i=0,l=0;for(r=0;r<120;++r)if(136&r&&(r+=8),o=re[r]){if(t&&0==(o&t))continue;if(100&o)return!1;if(8&o){if(i||a++)return!1}else if(16&o){if(a)return!1;if(++i,(rank(r)+r)%2&&++l,l&&i!==l)return!1}}return!0}function inThreefoldRepetition(){if(de<8)return!1;for(var t,o=getCurrentHash(),r=!1,a=de,i=!1,l=fe,c=l.length-1;;){if((c-=2)<0){if(l.id){c=l.atMoveNode+c+2,l=be[l.parentId];continue}if(-2===c)return!1;t=l.hash,i=!0}else t=l[c].hash,l[c].halfMoves>a||a<2?i=!0:a=l[c].halfMoves;if(t[0]===o[0]&&t[1]===o[1]){if(r)return!0;r=!0}if(i)return!1}}function modifyHand(t){var o,r,i,c,u,d,m,p,b,g=t.move;if(se===l.Crazyhouse||g&Y.DROP?(r=oe._hand,u=t.hash,b=t.color):(r=oe.siblingGame._hand,t.handSibling=!0,ae&&((d=oe.siblingGame._history()).length?u=d[d.length-1].hash:(d.hash||(d.hash=oe.siblingGame._hashPosition()),u=d.hash)),b=swapColor(t.color)),t.captured){switch((t.captured&O?4:t.captured&w)&w){case 4:m=0;break;case 8:m=1;break;case 16:m=2;break;case v:m=3;break;default:m=4}o=1<<V[m],ae&&(c=r[b]>>V[m]&H[m],p=a.zobristPiece[c+63*m+(1===b?0:315)])}else o=-1<<V[i=g>>C],ae&&(c=r[b]>>V[i]&H[i],p=a.zobristPiece[c-1+63*i+(1===b?0:315)]);r[b]+=o,t.handChange=o,ae&&hashNum(u,[31*p[0]>>>0,17*p[1]>>>0])}function makeMoveChess(t,o,r,i){var l,c,u,d,m,p,b,g,h=le,w=swapColor(h),S={move:t,epSquare:ue,halfMoves:de,castlingW:ce[1],castlingB:ce[2],color:h},k=1===h;ae&&(d=getCurrentHash(),S.hash=d,hashNum(d,a.zobristTurn),ue!==_&&hashEP(re,d,ue+(k?16:-16),4|h)),0==(t&Y.KQSIDE_CASTLE)?ve&&t&Y.DROP?(re[r]=K[i]|h,ae&&hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[re[r]]+8*(7-rank(r))+file(r)]),modifyHand(S),b=0):(b=re[o],(g=re[r])&&(S.captured=g,ae&&hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[re[r]&j]+8*(7-rank(r))+file(r)]),g&v&&ce[w]&&(ye?rank(r)===(k?0:7)&&(u=1<<file(r),ce[w]&u&&(ce[w]^=u,ae&&(u>1<<file(ie[h])?hashNum(d,a.zobristCastle[w-1]):hashNum(d,a.zobristCastle[w+1])))):r===(k?7:119)?ce[w]&Y.KSIDE_CASTLE&&(ce[w]^=Y.KSIDE_CASTLE,ae&&hashNum(d,a.zobristCastle[w-1])):r===(k?0:112)&&ce[w]&Y.QSIDE_CASTLE&&(ce[w]^=Y.QSIDE_CASTLE,ae&&hashNum(d,a.zobristCastle[w+1])))),re[r]=t&Y.PROMOTION?K[i]|h|O:re[o],re[o]=0,ae&&(hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[b&j]+8*(7-rank(o))+file(o)]),hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[re[r]&j]+8*(7-rank(r))+file(r)]))):b=y,t&Y.EP_CAPTURE?(k?(p=r+16,m=6):(p=r-16,m=8),S.captured=4|w,re[p]=0,ae&&hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[4|w]+8*(m-rank(r))+file(r)])):b&y?(ye?(t&Y.KQSIDE_CASTLE&&(re[r]=0,re[o]=0,t&Y.KSIDE_CASTLE?k?(l=118,c=117):(l=6,c=5):k?(l=114,c=115):(l=2,c=3),re[l]=h|y,re[c]=h|v,ae&&(hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[y|h]+8*(7-rank(o))+file(o)]),hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[v|h]+8*(7-rank(r))+file(r)]),hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[y|h]+8*(7-rank(l))+file(l)]),hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[v|h]+8*(7-rank(c))+file(c)]))),ae&&(0!=(ce[h]&ce[h]-1)?(hashNum(d,a.zobristCastle[h-1]),hashNum(d,a.zobristCastle[h+1])):ce[h]>1<<file(ie[h])?hashNum(d,a.zobristCastle[h-1]):hashNum(d,a.zobristCastle[h+1])),ie[h]=l||r):(t&Y.KQSIDE_CASTLE&&(re[r]=re[o],re[o]=0,t&Y.KSIDE_CASTLE?(l=r-1,c=r+1):(l=r+1,c=r-2),re[l]=re[c],re[c]=0,ae&&(hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[y|h]+8*(7-rank(o))+file(o)]),hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[v|h]+8*(7-rank(c))+file(c)]),hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[y|h]+8*(7-rank(r))+file(r)]),hashNum(d,a.zobristPiece[64*a.zobristPieceValueNumbers[v|h]+8*(7-rank(l))+file(l)]))),ae&&(ce[h]&Y.KSIDE_CASTLE&&hashNum(d,a.zobristCastle[h-1]),ce[h]&Y.QSIDE_CASTLE&&hashNum(d,a.zobristCastle[h+1])),ie[h]=r),ce[h]=0):b&v&&ce[h]&&(ye?rank(o)===(k?7:0)&&(u=1<<file(o),ce[h]&u&&(ce[h]^=u,ae&&(u>1<<file(ie[h])?hashNum(d,a.zobristCastle[h-1]):hashNum(d,a.zobristCastle[h+1])))):o===(k?119:7)?ce[h]&Y.KSIDE_CASTLE&&(ce[h]^=Y.KSIDE_CASTLE,ae&&hashNum(d,a.zobristCastle[h-1])):o===(k?112:0)&&ce[h]&Y.QSIDE_CASTLE&&(ce[h]^=Y.QSIDE_CASTLE,ae&&hashNum(d,a.zobristCastle[h+1]))),t&Y.BIG_PAWN?(ue=k?r+16:r-16,ae&&hashEP(re,d,r,4|w)):ue=_,4&b||t&Y.ANY_CAPTURE?de=0:de++,le=w,fe.push(S)}function makeMoveVariant(t,o,r,i){var c,u=le;makeMoveChess(t,o,r,i),c=fe[fe.length-1],ve?(de=c.halfMoves+1,c.captured&&modifyHand(c),se===l.Bughouse&&(c.bughouseOrder=oe.moveCount()-1+oe.siblingGame.moveCount())):se===l["3-check"]&&kingAttacked(le)&&(c.checked=!0,ae&&_e[u]&&hashNum(c.hash,a.zobristCheck[_e[u]+(1===u?-1:2)]),++_e[u],ae&&hashNum(c.hash,a.zobristCheck[_e[u]+(1===u?-1:2)]))}function reverseMove(t){var o,r,a=le,i=swapColor(a),c=t.move,u=c>>k&P,d=c>>7&P;if(le=i,ce[2]=t.castlingB,ce[1]=t.castlingW,ue=t.epSquare,de=t.halfMoves,se){if(ye&&c&Y.KQSIDE_CASTLE)return c&Y.KSIDE_CASTLE?1===i?(r=118,o=117):(r=6,o=5):1===i?(r=114,o=115):(r=2,o=3),re[r]=0,re[o]=0,re[d]=i|y,re[u]=i|v,void(ie[i]=d);if(t.handChange&&(se!==l.Crazyhouse&&t.handSibling?oe.siblingGame._hand[swapColor(i)]-=t.handChange:oe._hand[i]-=t.handChange),c&Y.DROP)return void(re[u]=0);t.checked&&--_e[i]}c&Y.PROMOTION?(re[d]=4|i,re[u]=c&Y.CAPTURE?t.captured:0):(re[d]=re[u],c&Y.KQSIDE_CASTLE?(re[u]=0,c&Y.KSIDE_CASTLE?(o=u+1,r=u-1):(o=u-2,r=u+1),re[o]=i|v,re[r]=0,ie[i]=d):(u===ie[i]&&(ie[i]=d),c&Y.CAPTURE?re[u]=t.captured:(re[u]=0,c&Y.EP_CAPTURE&&(re[u-(1===i?-16:16)]=4|a))))}function beautifyMove(t,o,r){var a,i,l=t>>k&P,c={color:le,to:algebraic(l),flags:t&P};return ve&&0!=(t&Y.DROP)?(i=t>>C,c.drop=i,c.piece=K[i]+le):(a=t>>7&P,c.from=algebraic(a),c.piece=re[a],t&Y.PROMOTION&&(i=t>>C,c.promotion=K[i]+le),t&Y.CAPTURE?c.captured=re[l]:t&Y.EP_CAPTURE&&(c.captured=4|swapColor(le))),c.san=o||moveToSan(t,r),c}function isVariantWin(){return se===l["3-check"]?3===_e[swapColor(le)]:se===l["King of the Hill"]?kingOfTheHillWin(ie[swapColor(le)]):void 0}function isBughouseWin(){if(se===l.Bughouse)return oe.siblingGame.inCheckmate()}function createVariation(){var t=[],o=generateFen(),r=fe.length-1,a=fe[r];return!!a&&(t.parentId=ge,t.id=be.length,fe.curFen=o,a.lines||(a.lines=[]),a.lines.push(t.id),a.move?reverseMove(a):(ue=a.epSquare,--de,le=swapColor(le)),2===le&&--me,t.atMoveNode=r,t.hash=r?fe[r-1].hash:fe.hash,ge=t.id,be.push(t),fe=t,!0)}function selectLine(t){var o=generateFen();fe.curFen=o,fe=be[t],ge=t,load(fe.curFen,se,!0,!0)}return oe={WHITE:1,BLACK:2,PAWN:4,KNIGHT:8,BISHOP:16,ROOK:v,QUEEN:64,KING:y,FLAGS:Y,load:load,reset:reset,moves:function moves(t){var o,r,a,moves=[],i=moveToSan;for(t&&(t.verbose&&(i=beautifyMove),t.type&&(r=t.type|t.type<<24),a=t.noDrop),generateMoves(r,a),o=0;o<g;++o)moves.push(i(p[o]));return moves},inCheck:inCheck,inCheckmate:inCheckmate,inStalemate:inStalemate,isBughouseWin:isBughouseWin,in50MoveRule:function in50MoveRule(){return de>=100},inDraw:function inDraw(){return de>=100||inStalemate()||insufficientMaterial()||inThreefoldRepetition()||Boolean(function isBughouseDraw(){if(se===l.Bughouse)return oe.siblingGame.in50MoveRule()||oe.siblingGame.inThreefoldRepetition()}())},insufficientMaterial:insufficientMaterial,inThreefoldRepetition:inThreefoldRepetition,isVariantWin:isVariantWin,gameOver:function gameOver(){return oe.inDraw()||inCheckmate()||Boolean(isVariantWin())||Boolean(isBughouseWin())},isPositionValid:function isPositionValid(t){var o,r,a,i=0;if(!1!==(t=t||{}).pawns)for(o=0;o<=119;){if(4&(a=re[o]))return!1;8==++o&&(o=112)}if(!1!==t.kings){for(o=0;o<=119;++o)if(136&o&&(o+=8),(a=re[o])&y){if(++i>2)return!1;if(r&&r&a)return!1;r=3&a}if(2!==i)return!1}return!1===t.check||!1===t.kings&&ie[swapColor(le)]===_||!kingAttacked(swapColor(le))},validateFen:validateFen,fen:generateFen,pgn:function pgn(t){return(t=t||{}).useResultHeader||ge||(isVariantWin()||inCheckmate()?he.Result=2===le?"1-0":"0-1":oe.inStalemate()?he.Result="1/2-1/2":isBughouseWin()&&(he.Result=1===oe.siblingGame.turn()?"1-0":"0-1")),ee(t,he,be,pe,se,oe)},loadPgn:function loadPgn(t,o,r){var a,i,c,u,d,m,p,b,g,h={},_=0;if("number"!=typeof o&&(r=r||o,o=0),r=r||{},"string"==typeof t&&(r.singleGame&&(t=t.replace(/(?:\r?\n\s*){2,}/g,"\n")),t=oe.tokenizePgn(t,r)),o<0&&(o=t.length+o),!(u=t[o]))return!1;for(reset(),i=u.length,a=0;a<i&&"tagName"===(c=u[a]).type;++a){if(!u[a+1]||"tagValue"!==u[a+1].type)return!1;++a,"FEN"===c.value?p=completeFen(u[a].value):h[c.value]=u[a].value}if(r.variant&&(h.Variant=r.variant),h.Variant&&!p&&(p=A),p||"1"===h.SetUp)if("0"===h.SetUp)h.FEN=p;else if(!p||!load(p,h.Variant))return!1;for(oe.header(h),m=(d=oe)._history();a<i;++a)if("san"===(c=u[a]).type&&0===_){if(!d.move(c.value)){if(!r.skipBadLines||!(0!==ge||fe.length&&r.allowBadMainLine))return reset(),!1;_=1}}else if("result"===c.type&&"*"===he.Result)setHeader(["Result",c.value]);else if("a"===c.type&&0===_&&m[m.length-1])m[m.length-1].annotation=c.value;else if("nag"!==c.type&&"aa"!==c.type||0!==_||!m[m.length-1]){if("comment"===c.type&&0===_)m.length?(c.value.trim()&&(m[m.length-1].comment=c.value),c.commands&&(m[m.length-1].commands=c.commands,c.commands.clk&&(m[m.length-1].time=(b=c.commands.clk,g=void 0,10*(3600*(g=b.split(":"))[0]+60*g[1]+1*g[2]))))):(m.initComment=String(c.value),c.commands&&(m.commands=c.commands));else if("variationStart"===c.type){if(_>0)++_;else if(!createVariation())return reset(),!1;m=d._history()}else if("variationEnd"===c.type)_>0&&--_,0===_&&(selectLine(m.parentId),m=d._history());else if("number"===c.type&&se===l.Bughouse){if(!(d=/b/i.test(c.value.slice(-1))?oe.siblingGame:oe))return!1;m=d._history()}}else m[m.length-1].additionalAnnotation||(m[m.length-1].additionalAnnotation=[]),-1===m[m.length-1].additionalAnnotation.indexOf(c.value)&&m[m.length-1].additionalAnnotation.push(c.value);return!0},header:function header(t){return Array.isArray(t)?setHeader(t):"object"===u()(t)?(Object.keys(t).forEach((function(o){setHeader([o,t[o]])})),he):he},turn:function turn(t){return 1!==t&&2!==t||(le=t),le},move:function playMove(t){var o,r,i,c,u,m,b,h,v,j,S,A,T;if("string"==typeof t){switch(t[c=t.length-1]){case"+":case"#":t=t.substr(0,c)}for(v=x.indexOf(t[0])>6?I[t[0]]:"O"===t[0]?y:4,ve&&(-1===t.indexOf("@")?j=!0:(j=!1,v<<=24)),generateMoves(v,j),c=0;c<g;++c)if(t===(m=moveToSan(p[c],!0))){r=p[c];break}if(!r)return"--"===t?function makeNullMove(){var t,o={color:le,san:"--",epSquare:ue},r={color:le,san:"--"};return ae&&(t=getCurrentHash(),o.hash=t,hashNum(t,a.zobristTurn),ue!==_&&hashEP(re,t,ue+(1===le?16:-16),4|le)),ue=_,de++,1===(le=swapColor(le))&&++me,fe.push(o),r}():(t=Chess.fixSanMove(t,re,le))?playMove(t):null;b=r>>7&P,h=r>>k&P,i=r>>C}else{if(t.drop){switch(t.drop){case"p":i=0;break;case"n":i=1;break;case"b":i=2;break;case"r":i=3;break;case"q":i=4;break;default:return null}v=1<<26+i}else{if(t.promotion)switch(t.promotion){case"q":i=4;break;case"n":i=1;break;case"r":i=3;break;case"b":i=2;break;default:return null}b=d[t.from],j=!0,v=re[b]&w}for(h=d[t.to],o=((i?i<<C:0)|h<<k)>>7|b,generateMoves(v,j),c=0;c<g;++c)if(p[c]>>7===o){r=p[c];break}if(!r)return(t=Chess.fixObjMove(t,re,le))?playMove(t):null}return T=r&Y.DROP_OR_PROMOTE?K[i]+le:re[b],u=beautifyMove(r,m,!0),S=inCheckAfterMove(T,b,h,r),we(r,b,h,i),S&&(se!==l.Chess&&isVariantWin()||0===generateMoves()?u.san+="#":u.san+="+"),(A=fe[fe.length-1]).san=u.san,u.piece&O&&(A.promoted=!0),1===le&&++me,u},undo:function undo(t){var o=fe.pop();return o?(1===le&&--me,o.move?(reverseMove(o),!!t||beautifyMove(o.move,o.san)):(ue=o.epSquare,--de,le=swapColor(le),!!t||{san:"--",color:o.color})):null},clear:function clear(t){_clear(t)},put:function put(t,o,r){var a,i=d[o],l=!1,c=re[i],u=3&c,m=t.color;if(isNaN(i)||!t.type||!m||-1===x.indexOf(t.type))return!1;if(re[i]=I[t.type]|m|(t.promoted?O:0),re[i]&y&&(ie[m]=i),c&&re[ie[u]]&&re[ie[u]]!==(y|u)){for(a=0;a<120;++a)136&a&&(a+=8),re[a]===(y|u)&&(ie[u]=a,l=!0);l||(ie[u]=_)}return r||load(generateFen(),se,!0,!1),!0},get:get,remove:function remove(t,o){var r,a=re[d[t]],i=get(t),l=3&a;if(re[d[t]]=0,a&y)for(ie[l]=_,ce[l]=0,r=0;r<120;++r)if(136&r&&(r+=8),re[r]===(y|l)){ie[a.color]=r;break}return o||load(generateFen(),se,!0,!1),i},history:function history(t,o){for(var r,a=[],i=fe,l=i.length;;){if(-1==--l){if(i.id&&!o){l=i.atMoveNode,i=be[i.parentId];continue}break}t?((r=beautifyMove(i[l].move,i[l].san)).color=i[l].color,!l&&i.initComment&&(r.firstComment=i.initComment),void 0!==i[l].comment&&(r.comment=i[l].comment),void 0!==i[l].time&&(r.time=i[l].time),void 0!==i[l].annotation&&(r.annotation=i[l].annotation),void 0!==i[l].additionalAnnotation&&(r.additionalAnnotation=i[l].additionalAnnotation),void 0!==i[l].commands&&(r.commands=i[l].commands),void 0!==i[l].captured&&(r.captured=i[l].captured),void 0!==i[l].promoted&&(r.promoted=i[l].promoted),void 0!==i[l].lines&&(r.lines=i[l].lines),void 0!==i[l].bughouseOrder&&(r.bughouseOrder=i[l].bughouseOrder),x.indexOf(i[l].san[0])>6?r.piece=I[i[l].san[0]]:"O"===i[l].san[0]?r.piece=y:r.piece=4,r.piece|=r.color,a.unshift(r)):a.unshift(i[l].san)}return a},hashes:function hashes(){for(var hashes=[],t=fe,o=t.length;;){if(-1==--o){if(t.id){o=t.atMoveNode,t=be[t.parentId];continue}t.hash||getCurrentHash(),hashes.unshift(t.hash);break}hashes.unshift(t[o].hash)}return hashes},moveCount:function moveCount(){return fe.length},startingMoveNumber:function startingMoveNumber(){return pe},completeFen:completeFen,createVariation:createVariation,selectLine:selectLine,hash:function hash(){var hash=getCurrentHash();return se!==l.Bughouse||oe.isDependent?hash:[hash,oe.siblingGame.hash()]},hashing:function hashing(t){ae=t,se!==l.Bughouse||oe.isDependent||oe.siblingGame.hashing(ae)},hand:function hand(){if(ve)return handToString(oe._hand[1],!0)+handToString(oe._hand[2])},checks:function checks(){if(se===l["3-check"])return[_e[1],_e[2]]},tokenizePgn:te,_hand:[],_history:function _history(t){return t&&(ge=(fe=t).id),fe},_lines:function _lines(){return be},_hashPosition:hashPosition,_board:function _board(){return re}},X&&load(X,ne)||reset(),oe}return Chess.fixSanMove=function(t,o,r){var a,i,l;if(/0|[?!+#]$|[18][QNRB]$|^P/.test(t))return t.replace(/[?!+#]+$/,"").replace(/0/g,"O").replace(/([18])([QNRB])$/,"$1=$2").replace(/^P/,"");if(i=t.indexOf("=")>0?-4:-2,a=t.substr(i,2),r=swapColor(r),o[d[a]]&r||/^[a-h]x?[a-h]/.test(t)){if(-1===t.indexOf("x"))return t.slice(0,i)+"x"+t.substr(i)}else if(t.indexOf("x")>-1)return t.replace("x","");return(l=t.match(/^([KQNRB]?)([a-h][1-8]?|[1-8])(x?[a-h][1-8])=?(.?)$/))?o[d[l[2]]]?{from:l[2],to:a,promotion:l[4].toLowerCase()}:l[1]+l[3]+l[4]:void 0},Chess.fixObjMove=function(t,o,r){if(o[d[t.from]]===(y|r)&&t.to&&t.from[1]===t.to[1]){if(t.from<t.to)return"O-O";if(t.from>t.to)return"O-O-O"}},Chess.variants=c,Chess}(),l=function ENGINE_MANAGER(t){var o=["bench","d","eval","flip","isready","perft","ponderhit","stop","uci","ucinewgame"],r=[{cmd:"position",args:["fen","startpos","moves","continuation"]},{cmd:"go",args:["binc","btime","confidence","depth","infinite","mate","mindepth","mintime","maxdepth","maxtime","movestogo","movetime","ponder","searchmoves","shallow","winc","wtime"]}],i=["moves","searchmoves"],l=["ponder","infinite","startpos"],c=/Total Evaluation[\s\S]+\n$/i;function createWebWorker(t,o,r){var a=new Worker(t||"stockfish.js"),i={terminate:function terminate(){a.terminate()},postMessage:postMessage,addEventListener:function addEventListener(t,o){i["on"+t]=o}};function postMessage(t){a.postMessage(t)}return a.onmessage=function(t){i.onmessage(t)},a.onerror=function(l){if(o.pathToNonWasmEngine&&o.pathToNonWasmEngine!==t){l.preventDefault&&l.preventDefault();try{a.terminate()}catch(l){}return(a=createWebWorker(o.pathToNonWasmEngine,o,r)).onmessage=function(t){i.onmessage(t)},function requeue(t){t.length&&t.forEach((function(t){t.message="",postMessage(t.cmd)}))}(r._activeCommands()),!1}if(o.onError)return o.onError(l)},i}function parseSearchLine(t){var o,r,a,i,l,c={},u=["lowerbound","upperbound","score"],d=["depth","seldepth","time","nodes","multipv","cp","mate","currmovenumber","hashfull","nps","tbhits","sbhits","cpuload"],m=["depth","seldepth","time","nodes","pv","multipv","score","cp","mate","lowerbound","upperbound","currmove","currmovenumber","hashfull","nps","tbhits","sbhits","cpuload","string","refutation","currline","bestmove","ponder","baseTurn","pvSan","bestmoveSan","ponderSan","bmc"],p=["pv","pvSan","string","refutation","currline"];for(r=(o=t.split(" ")).length,a="info"===o[0]?1:0,c.mtype=o[0];a<r;a+=1)o[a]&&(!l||i&&m.indexOf(o[a])>-1?(l=o[a],u.indexOf(l)>-1?(c[l]=!0,l=null):i=p.indexOf(l)>-1||-1===m.indexOf(l)):(d.indexOf(l)>-1&&(o[a]=Number(o[a])),i?(void 0===c[l]&&(c[l]=[]),c[l].push(o[a])):(c[l]=o[a],l=null)));return"(none)"!==c.bestmove&&"0000"!==c.bestmove||(c.bestmove=void 0,c.bestmoveSan=void 0),"(none)"!==c.ponder&&"0000"!==c.ponder||(c.ponder=void 0,c.ponderSan=void 0),c}function getFirstWord(t){var o=t.indexOf(" ");return-1===o?t:t.substr(0,o)}return function loadEngine(u,d){var m,p,b={},g=function createWorker(t,o){var r=t.pathToNonWasmEngine&&"undefined"==typeof WebAssembly?t.pathToNonWasmEngine:t.enginePath||t.pathToEngineWorker;if(t.pathToWasmEngine&&(r+="#"+t.pathToWasmEngine),"undefined"!=typeof Worker)return createWebWorker(r,t,o)}(u,b),h=[],_=[];function onmessage(o){var r,a,i,l,u,d,m="string"==typeof o?o:o.data;if(b)if((null===(r=m.indexOf)||void 0===r?void 0:r.call(m,"\n"))>-1)for(u=m.split("\n"),d=0;d<u.length;d+=1)onmessage(u[d]);else if(t.log&&console.log("debug (onmessage): "+m),b.stream&&b.stream(m),h.length&&0!==m.indexOf("No such option")&&0!==m.indexOf("id ")&&0!==m.indexOf("Stockfish")&&0!==m.indexOf("info string variant")&&(i=function determineQueueNum(t,o){var r,a,i,l,c=getFirstWord(t);if("bench"!==o[0].cmd&&"perft"!==o[0].cmd)for(r="uciok"===c||"option"===c?"uci":"readyok"===c||"ready"===c?"isready":"json"===c?"fetch":"bestmove"===c||"info"===c?"go":"other",l=o.length,i=0;i<l;i+=1)if((a=getFirstWord(o[i].cmd))===r||"other"===r&&("d"===a||"eval"===a))return i;return 0}(m,h),l=h[i])){if(l.stream&&!l.discard&&l.stream(m),void 0===l.message?l.message="":""!==l.message&&(l.message+="\n"),l.message+=m,"uciok"===getFirstWord(m))a=!0;else if("readyok"===getFirstWord(m)||"ready"===getFirstWord(m))a=!0,b.ready=!0;else if(0!==m.indexOf("bestmove")&&"bestmove"!==getFirstWord(m)||"bench"===l.cmd)if("d"===l.cmd)0!==m.indexOf("Legal uci moves")&&0!==m.indexOf("Key is")||(l.done=!0,a=!0);else if("fetch json"===l.cmd)try{l.message=JSON.parse(l.message.replace(/^json /gm,"").replace(/\n/g,"")),a=!0}catch(o){}else"eval"===l.cmd?c.test(l.message)&&(a=!0):(0===m.indexOf("pawn key")||0===m.indexOf("Nodes/second")||0===m.indexOf("Unknown command"))&&(a=!0);else a=!0,l.message=m;a&&(h.splice(i,1),l.cb&&!l.discard?l.cb(l.message):l.ondiscard&&l.ondiscard())}}function bestMoveSearch(){var o,r,a,i,l,c=1,u=[],d=[],p=null,g=_[0].args,h=_[0].cb,v=_[0].stream,y=g.timeout,w=1;function convertpv(t){var o=[],r=d[t]||createSanPv(u[t]);return u[t].forEach((function oneach(t,a){o.push({moveSan:r[a],moveLan:t})})),o}function getpv(t,o,r,a){var i;for(i=u.length-1;i>=0;i-=1)if(u[i][0]===t)return convertpv(i);return r?[{moveSan:o,moveLan:t},{moveSan:a,moveLan:r}]:o?[{moveSan:o,moveLan:t}]:[]}function convertScore(t){0===t.mate?(t.mateIn=0,t.cp=-31800*w):(t.mateIn=Number(t.mate*w)||null,"number"!=typeof t.mateIn||isNaN(t.mateIn)||"number"==typeof t.cp?(t.cp*=w,9===Math.abs(t.cp)&&(t.cp=0),g.normalize&&t.depth<=14&&"number"==typeof loadEngine._previousCP&&1===t.multipv&&function normalize(t){var o=.03*Math.pow(32,t.depth/14);t.cp=loadEngine._previousCP+(t.cp-loadEngine._previousCP)*o}(t)):t.cp=31800*w*(t.mate/Math.abs(t.mate))),t.score=t.cp/100}function addBestMoveProps(l){var u;if(l.baseTurn=a,l.cp=o,l.score=o/100,l.mate=r,l.mateIn=p,l.depth=c,l.moveLan=l.bestmove,l.moveLan){if(l.move=t.uciToObj(l.moveLan)[0],!(u=i.move(l.move)))throw b.forceStop(),new Error("Bad moveLan in line: "+l.moveLan+" at "+i.fen()+"\ndata: "+JSON.stringify(l)+"\nargs: "+JSON.stringify(g));if(l.moveSan=l.bestmoveSan=u.san,l.ponder&&("(none)"!==l.ponder||"0000"!==l.ponder)){if(!(u=i.move(t.uciToObj(l.ponder)[0])))throw b.forceStop(),new Error("Bad ponder in line: "+l.ponder+" at "+i.fen()+"\ndata: "+JSON.stringify(l)+"\nargs: "+JSON.stringify(g));l.ponderSan=u.san,i.undo(!0)}i.undo(!0)}}function createSanPv(o){var r,a,l=o.length,c=[];for(r=0;r<l;++r){if(!(a=i.move(t.uciToObj(o[r])[0])))throw b.forceStop(),new Error("Bad pv in line: "+o[r]+" ("+r+") at "+i.fen()+"\npv: "+JSON.stringify(o)+"\nargs: "+JSON.stringify(g));c.push(a.san)}for(r=0;r<l;++r)i.undo(!0);return c}function createTimeout(){y&&(clearTimeout(m),m=setTimeout((function(){b.stop(),h&&(h(),h=void 0)}),y))}g.timeout=void 0,_[0].started=!0,g.difficulty>=0&&g.difficulty<20?(b.setoption("Skill Level",g.difficulty),g.maximumError>=0&&g.maximumError<=4999&&b.setoption("Skill Level Maximum Error",g.maximumError),g.errorProbability>=1&&g.errorProbability<=128&&b.setoption("Skill Level Probability",g.errorProbability)):b.setoption("Skill Level",20),void 0!==g.contempt?b.setoption("Contempt",g.contempt):b.setoption("Contempt","0"),g.multiPv>1?b.setoption("MultiPV",g.multiPv):b.setoption("MultiPV",1),g.movetime||g.wtime&&g.btime||g.depth||(g.btime=g.btime||72e3,g.wtime=g.wtime||72e3),!g.startpos&&g.fen||g.moves||g.variant?(i=t.createGame({fen:g.fen?(l=g.fen,(l+"").replace(/\[([qrbnp]*)\]/i,"/$1").replace(/([0-3])\+([0-3]) (\d+ \d+)/,(function(t,o,r,a){return a+" +"+(3-o)+"+"+(3-r)}))):"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",moves:g.moves,variant:g.variant,disableHashing:!0})).turn()===i.WHITE?a="w":(a="b",w=-1):(a="w",i=t.createGame({disableHashing:!0})),b.setVariant(g.variant),b.position(g),b.go(g,(function returnBestMove(t){var r=parseSearchLine(t);if(addBestMoveProps(r),c>14&&o<5e3&&o>-5e3&&(loadEngine._previousCP=o),r.pv=getpv(r.moveLan,r.moveSan),1===r.pv.length&&r.ponder&&(r.pv=getpv(r.moveLan,r.moveSan,r.ponder,r.ponderSan)),h)try{h(r)}catch(a){console.error(a)}_.shift(),_.length>0&&bestMoveSearch(),clearTimeout(m)}),(function streamInfo(t){var i=parseSearchLine(t);i.score&&(i.baseTurn=a,convertScore(i),!i.multipv&&i.depth&&(i.multipv=1),1!==i.multipv&&0!==i.depth||(o=i.cp,r=i.mate,p=i.mateIn)),i.pv&&v&&(i.pvSan=createSanPv(i.pv)),!i.pv||i.lowerbound||i.upperbound||(u.push(i.pv),v&&d.push(i.pvSan)),i.depth>c?c=i.depth:"bestmove"===i.mtype&&addBestMoveProps(i),!v||0===i.mateIn&&i.pv||v(i),createTimeout()})),createTimeout()}function startUp(){b.isready((function onstart(){u.settings?b.uci((function onuci(){Object.keys(u.settings).forEach((function oneach(t){b.setoption(t,u.settings[t])})),d&&d(b)})):d&&d(b)}))}return b.send=function(o,r,a){var i;o=String(o).trim(),t.log&&console.log("debug (send): "+o),"ucinewgame"!==o&&"flip"!==o&&"stop"!==o&&"ponderhit"!==o&&0!==o.indexOf("position")&&0!==o.indexOf("setoption")?h[h.length]={cmd:o,cb:r,stream:a}:i=!0,g&&(g.postMessage(o),i&&r&&setTimeout(r,0))},b._activeCommands=function(){return h},b.quit=function(){g&&g.terminate&&(g.terminate(),g=null,b.ready=void 0),clearTimeout(m)},o.forEach((function oneach(t){b[t]=function makeSCmd(o,r){b.send(t,o,r)}})),r.forEach((function oneach(t){b[t.cmd]=function makeCCmd(o,r,a){var c=[t.cmd];p&&o.fen&&(o.fen=function convertStockfishVariantFen(t){return(t+"").replace(/^([^/]+)((?:\/[^/]+){7})\/([qrbnp]*)/i,"$1$2[$3]").replace(/( \d+ \d+) \+([0-3])\+([0-3])/,(function(t,o,r,a){return" "+(3-r)+"+"+(3-a)+o}))}(o.fen)),t.args.forEach((function oneach(t){if(o[t]||0===o[t]){if(i.indexOf(t)>-1){if(!o[t]||!o[t].length)return;Array.isArray(o[t])&&(o[t]=o[t].join(" "))}c.push(t),-1===l.indexOf(t)&&c.push(o[t])}})),b.send(c.join(" "),r,a)}})),b.setoption=function(t,o){b.send("setoption name "+t+" value "+o)},b.setVariant=function(t){var o;t!==p&&(o=String(t).toLowerCase().replace(/ |-/g,""),t&&"chess"!==o?"chess960"===o?(b.setoption("UCI_Variant","chess"),b.setoption("UCI_Chess960","true")):("threecheck"===o&&(o="3check"),b.setoption("UCI_Variant",o),b.setoption("UCI_Chess960","false")):(o=void 0,b.setoption("UCI_Variant","chess"),b.setoption("UCI_Chess960","false")),p=o)},b.loadBook=function(t,o){a.loadBook(t,(function onload(r,a){b.book=a,b.pathToBook=t,b.bookLoaded=!0,r&&(console.error("Error loading opening book."),console.error(r),b.pathToBook=null,b.bookLoaded=!1),o()}))},b.getBestMove=function(o,r,a){var i;if((o=o||{}).fen=o.fen||o.baseFen,o.is960&&(o.variant="Chess960"),b.bookLoaded&&o.useBook&&(i=function getBookMove(o){var r,a,i;if(i=o.moves&&o.moves.length?t.getFenFromMoves(o.fen,o.moves,o.variant):o.fen,(r=b.book.pick({fen:i,type:void 0!==o.bookPick?o.bookPick:"random",chess960:"Chess960"===o.variant}))&&(t.getLegalMoves(i,o.variant).some((function(t){if(t.from+t.to+(t.promotion||"")===r)return a=t,!0})),a))return{moveSan:a.san,moveLan:r,move:{from:a.from,to:a.to,promotion:a.promotion||null},baseTurn:i.split(" ")[1],pv:[{moveSan:a.san,moveLan:r}],depth:null,score:null,mateIn:null,isBookMove:!0}}(o)))return setTimeout((function(){i.mtype="bestmove",r(i)}),0);!function queueBestMoveSearch(t,o,r){_.push({args:t,cb:o,stream:r}),1===_.length&&bestMoveSearch()}(o,r,a)},b.stopAll=function(o){var r,a=h.length,i=0;function ondiscard(){0==(i-=1)&&o()}for(_=[],r=0;r<a;r+=1)t.log&&console.log("debug (stop_moves): "+r,getFirstWord(h[r].cmd)),"go"!==getFirstWord(h[r].cmd)||h[r].discard||(b.stop(),h[r].discard=!0,o&&(i+=1,h[r].ondiscard=ondiscard));o&&!i&&b.isready(o)},b.restartEngine=function(t){return b.stopAll(),b.quit(),h=[],_=[],b.bookLoaded&&!u.book&&((u=JSON.parse(JSON.stringify(u))).book=b.book),loadEngine(u,t)},b.forceStop=function(){b.stopAll((function(){}))},b.stopFast=function(t,o){var r;b.stopAll((function(){clearTimeout(r),t(b)})),r=setTimeout((function(){b.restartEngine(t)}),o||5e3)},"undefined"!=typeof Worker&&(function addListener(){g.addEventListener("message",onmessage,!1)}(),u.book&&(b.book=u.book,b.bookLoaded=!0,b.pathToBook=u.pathToBook),!b.book&&u.pathToBook?b.loadBook(u.pathToBook,startUp):setTimeout(startUp,0),b.getFenFromMoves=t.getFenFromMoves,b.getLegalMoves=t.getLegalMoves,b.getPositionInfo=t.getPositionInfo,b.isFenValid=t.isFenValid,b.ready=!1,b)}},function(){var t,o=i(),r="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",c=252,d={4:"p",5:"P",6:"p",8:"n",9:"N",10:"n",16:"b",17:"B",18:"b",32:"r",33:"R",34:"r",64:"q",65:"Q",66:"q",128:"k",129:"K",130:"k"},m="pnbrq",p=512,b="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!?{~}(^)[_]@#$,./&-*++=",g="qnrbkp";function decodeTCN(t){var o,r,a,i,l=t.length,c=[];for(o=0;o<l;o+=2)i={},r=b.indexOf(t[o]),(a=b.indexOf(t[o+1]))>63&&(i.promotion=g[Math.floor((a-64)/3)],a=r+(r<16?-8:8)+(a-1)%3-1),r>75?i.drop=g[r-79]:i.from=b[r%8]+(Math.floor(r/8)+1),i.to=b[a%8]+(Math.floor(a/8)+1),c.push(i);return c}function uciToObj(t){var o,r,a=t.split(" "),i=a.length,l=[];if(t)for(o=0;o<i;++o)4===(r=a[o]).length?"@"===r[1]?l.push({drop:r[0].toLowerCase(),to:r.substr(2,2)}):l.push({from:r.substr(0,2),to:r.substr(2,2)}):l.push({from:r.substr(0,2),to:r.substr(2,2),promotion:r[4]});return l}function isSameMove(t,o){return t.san===o.san||t.from==o.from&&t.to==o.to&&t.promotion==o.promotion&&t.drop==o.drop}function makePremove(t,r,a){var l,c,u,d,m,p=t.header().Variant,b=getPremoves(t.fen(),r,p);if(b){for(l=b.length-1;l>=0;--l)if(isSameMove(c=b[l],a)){u=!0;break}if(u)return c.drop?t.put({type:c.drop,color:r},c.to,!0):(d=t.remove(c.from,!0),c.flags===o.FLAGS.KSIDE_CASTLE?(m=t.remove("Chess960"===p?c.to:"h"+c.from[1],!0),t.put(d,"g"+c.from[1],!0),t.put(m,"f"+c.from[1],!0)):c.flags===o.FLAGS.QSIDE_CASTLE?(m=t.remove("Chess960"===p?c.to:"a"+c.from[1],!0),t.put(d,"c"+c.from[1],!0),t.put(m,"d"+c.from[1],!0)):(c.promotion&&(d.type=c.promotion,d.promoted=!0),t.put(d,c.to,!0))),c}if(a.from&&(a=i.fixObjMove(a,t._board(),r)))return makePremove(t,r,{san:a})}function getPieces(t,o){var r,a,i,l=o?{}:[],u=t._board();if(o)for(r=112;r>=0;++r)136&r&&(r-=24),(a=u[r])&&(l[i=b[7&r]+(8-(r>>4))]={type:d[a&c],color:3&a,promoted:0!=(a&p),square:i});else for(r=112;r>=0;++r)136&r&&(r-=24),(a=u[r])&&l.push({type:d[a&c],color:3&a,promoted:0!=(a&p),rank:8-(r>>4),file:1+(7&r)});return l}function makeMoves(t,o,r,a){var i,l,c,u,d,m,p,b,g,h;for(r=r||{},"string"==typeof o&&(o=o.trim().split(" ")),c=o.length,i=0;i<c;i+=1){if(d="b"===o[i].board||"B"===o[i].board?t.siblingGame:t,m="string"==typeof o[i]?uciToObj(o[i])[0]:o[i].san?o[i].san:o[i],!d.move(m)){if(!r.autoPromote){if(r.skipBadLines)break;return!1}if(!0===r.autoPromote?m.promotion="q":m.promotion=r.autoPromote,!d.move(m)){if(r.skipBadLines)break;return!1}}if(b=(p=d._history())[p.length-1],a&&(g=parseInt(a[i],10)),("number"!=typeof g||isNaN(g))&&(g=parseInt(o[i].time,10)),"number"!=typeof g||isNaN(g)||(b.time=g,g=void 0),o[i].firstComment&&(p.initComment=o[i].firstComment),o[i].comment&&(b.comment=o[i].comment),o[i].annotation&&(b.annotation=o[i].annotation),o[i].additionalAnnotation&&(b.additionalAnnotation=o[i].additionalAnnotation),o[i].commands&&(b.commands=o[i].commands),o[i].lines)for(u=o[i].lines.length,l=0;l<u;++l){if(h=t._history().id,t.createVariation(),!makeMoves(t,o[i].lines[l],r)&&!r.skipBadLines)return!1;t.selectLine(h)}}return!0}function extendChess(t){var o,a,l=-1,c=0;function fixContComment(o){var r=t._lines()[o.ids.line];return r.initComment&&(o.comment=(r.initComment+" "+(o.comment||"")).trim(),r.initComment=""),!0}t.extended||(t.extended=!0,o={header:t.header,load:t.load,loadPgn:t.loadPgn,createVariation:t.createVariation,undo:t.undo,pgn:t.pgn},t._move=t.move,t.premoves=[],t.undo=function(){return t.deletePosition(l,c)},t.isLegalMove=function(r){return!!t._move(r)&&o.undo(!0)},t.premove=function(o,r){var a,l=t.premoves.length,c=i();return l?c.load(t.premoves[l-1].fen,t.header().Variant):c.load(t.fen(),t.header().Variant),(a=makePremove(c,r,o))?(t.premoves.push({move:a,pieces:getPieces(c),fen:c.fen()}),a):null},t.getPieces=function(o){return getPieces(t,o)},t.origHistory=t.history,t.history=function(o,r){var a,i,l,c=[],d=t._history(),m=d.length,p=t._lines();for("boolean"==typeof o&&(o={verbose:o}),o=o||{},r&&(o.noParentLines=r),o.toCurrent&&(m=t.ids().move+1);;){if(-1==--m){if(d.id&&!o.noParentLines){m=d.atMoveNode,d=p[d.parentId];continue}break}if(o.verbose){for(i in a={},d[m])if(d[m][i]&&"object"===u()(d[m][i]))for(l in a[i]=d[m][i].constructor===Array?[]:{},d[m][i])a[i][l]=d[m][i][l];else a[i]=d[m][i];c.unshift(a)}else c.unshift(d[m].san)}return c},t._getPos=function(a,i){var u,d;return"number"!=typeof a&&(a=l),"number"!=typeof i&&(i=c),u=(d=t._lines())[i],a>=0?u[a]:u.id?u.atMoveNode?d[u.parentId][u.atMoveNode-1]:t._getPos(u.atMoveNode-1,u.parentId):{fen:o.header().FEN||r,hash:u.hash,initial:!0}},t.move=function(o,r){var a,i,u,d,m=t._history();if(o&&("string"==typeof o||o.to&&(o.from||o.drop))){if(c===m.id&&l<m.length-1||r){if(t.moveForward(r,o))return!0;l<m.length-1&&(t.selectPosition(l+1),t.createVariation(),m=t._history())}t.siblingGame&&(u=t.isDependent?t.siblingGame.fen():t.fen()),(a=t._move(o))&&(normalizeMoveObj(a),c=m.id,i=m[l=m.length-1],d=t._getPos(l-1),t.siblingGame?(t.isDependent?i.fen=t.siblingGame.fen():i.fen=t.fen(),i.beforeFen=u):(i.fen=t.fen(),i.beforeFen=d.fen),d.initial?(i.moveNumber=0,i.previous=null):(i.moveNumber=d.moveNumber+1,i.previous=d.ids,d.isContinuation&&fixContComment(d)),c&&0===l&&t._lines()[m.parentId][m.atMoveNode].move===i.move&&(i.isContinuation=!0),i.flags=a.flags,i.to=a.to,i.from=a.from,i.drop=a.drop,i.capturedStr=a.captured,i.promotion=a.promotion,i.piece=a.piece,a.promoted&&(i.promoted=!0),a.capturedPromotedPawn&&(i.capturedPromotedPawn=!0),i.ids={move:l,line:c})}return a},t.header=t.headers=function(r){var a=o.header(r);return t.siblingGame&&extendChess(t.siblingGame),a},t.load=function(r,a,i,u){var d=o.load(r,a,i,u);return t.siblingGame&&extendChess(t.siblingGame),d&&!i&&(l=-1,c=0),d},t.removeEmptyLines=function(){var o,r,a=t._lines();for(o=a.length-1;o>0;--o)a[o].length||(a[o]=void 0,r=!0);r&&t.reorderLines()},t.loadPgn=function(r,a,i){var u=o.loadPgn(r,a,i),d=t._history();return t.removeEmptyLines(),l=d.length-1,c=d.id,u},t.ids=function(){return{move:l,line:c}},t.selectLine=function(o){t.selectPosition(null,o)},t.moveBackward=function(){var o;if(l<=1)if(0===c){if(-1===l)return!1;t.selectPosition(l-1)}else(o=t._getPos(l-1,c)).isContinuation?t.selectPosition(t._history().atMoveNode,t._history().parentId):o.initial?t.selectPosition(-1,0):t.selectPosition(o.ids.move,o.ids.line);else t.selectPosition(l-1);return!0},t.moveForward=function(o,r){var a,u,d,m,p,b,g=t._lines();if("string"==typeof r&&(r={san:r}),!(a=g[c][l+1])||r&&!isSameMove(r,a)){if(r&&a&&a.lines)for(p=a.lines.length,m=0;m<p;++m)if((d=g[a.lines[m]][0])&&isSameMove(r,d)){a=d,b=!0;break}if(!b&&o&&(u=g[c][l])&&u.lines)for(p=u.lines.length,m=0;m<p;++m)if((d=g[u.lines[m]][0])&&d.isContinuation&&(d=g[u.lines[m]][1])&&(!r||isSameMove(r,d))){a=d,b=!0;break}if(!b)return!!(r&&r.san&&(r=i.fixSanMove(r.san,t._board(),t.turn()))||r&&r.to&&r.from&&Math.abs(r.to.charCodeAt(0)-r.from.charCodeAt(0))>1&&(r=i.fixObjMove(r,t._board(),t.turn())))&&t.moveForward(o,r)}return t.selectPosition(a.ids.move,a.ids.line)},t.moveVariation=function(o,r){var a,i,l,c=t._lines(),u=c[o];if(u&&u.id)for(i=(a=c[u.parentId][u.atMoveNode].lines).length-1;i>=0;--i)if(a[i]===o&&a[l=i-(r?1:-1)])return a[i]=a[l],a[l]=o,t.reorderLines(),!0;return!1},t.promoteVariation=function(o,r){for(var a,i,u,d,m,p,b=t._lines(),g=b[o];g&&g[0]&&g.id&&(-1!==r||g.parentId);){for(a=b[u=g.parentId],d=g.atMoveNode,g[0].lines=a[d].lines.concat(g[0].lines||[]),a[d].lines=void 0,p=a.length-d,i=a.splice(d,p),m=0;m<p;++m)i[m].ids.line=o,i[m].ids.move=m;for(i.id=o,i.parentId=u,i.atMoveNode=d,i.hash=g.hash,0===d?(i.initComment=a.initComment,a.initComment=g.initComment):g.initComment&&(a[d-1].comment=((a[d-1].comment||"")+" "+g.initComment).trim()),b[o]=i,p=g.length,m=0;m<p;++m)g[m].ids.line=u,g[m].ids.move=m+d,a.push(g[m]);for(i[0].isContinuation=!!g[0].isContinuation&&fixContComment(i[0]),a[d].isContinuation=!d&&"number"==typeof a.parentId&&b[a.parentId][a.atMoveNode].move===a[0].move&&fixContComment(a[d]),p=a[d].lines.length,m=0;m<p;++m)b[a[d].lines[m]].atMoveNode=d,b[a[d].lines[m]][0]&&(b[a[d].lines[m]][0].isContinuation=b[a[d].lines[m]][0].move===a[d].move&&fixContComment(b[a[d].lines[m]][0]));if(c===o?(c=u,l+=d):c===u&&l>=d&&(c=o,l-=d),1===r)break;g=b[o=u]}return void 0!==a&&(t._history(b[c]),t.reorderLines(),!l&&b[c][0].isContinuation&&t.selectPosition(b[c].atMoveNode,b[c].parentId),!0)},t.reorderLines=function(o,r){var i,l,u,d,m,p,b,g,h,_,v=t._lines();for(o?h=r.length-1:(o=0,r=[v[0]],h=0,a=!1),u=(i=v[o]).length,l=0;l<u;++l)if((d=i[l]).ids.line=h,d.lines)for(m=d.lines.length,p=0;p<m;++p)(g=v[b=d.lines[p]])?(g.atMoveNode=l,_=r.length,d.lines[p]=_,g.parentId=h,a||b!==c||(a=!0,c=_),r.push(g),t.reorderLines(b,r)):(1===d.lines.length?delete d.lines:d.lines.splice(p,1),--p,--m);o||t.saveLines(r,!0)},t.createVariation=function(){var r,a,i,u,d=t._history(),m=t._lines();return l===d.length-1?(r=o.createVariation(),d=t._history(),l=d.length-1,c=d.id,r):-1!==l&&(a=[],i=d[l],a.parentId=d.id,a.id=m.length,i.lines||(i.lines=[]),i.lines.push(a.id),u=t._getPos(l-1),a.hash=u.hash,a.atMoveNode=l,m.push(a),t.selectPosition(-1,a.id))},t.selectLineEnd=function(o){return"number"!=typeof o&&(o=c),(o!==c||l<t._history().length-1)&&t.selectPosition(null,o,!0)},t.selectLineStart=function(){var o,r;return c?(l>1||1===l&&!t._getPos(0).isContinuation?o=t._history():(r=t._getPos(-1),o=t._lines()[r.ids?r.ids.line:0]),t.selectPosition(o.id?o[1]&&o[0].isContinuation?1:0:-1,o.id)):-1!==l&&t.selectPosition(-1,0)},t.selectPosition=function(r,a,i){var u=t._lines(),d=t._history();if("number"==typeof a&&(a!==c||i)){if(a<0||a>=u.length)return!1;if(d=u[a],"number"!=typeof r)r=d.length-1;else if(r<-1||r>=d.length)return!1;c=a,t._history(d),i=!0}if("number"==typeof r&&(r!==l||i)){if(r<-1||r>=d.length)return!1;o.load(t._getPos(r).fen,o.header().Variant,!0,!0),l=r}return!0},t.resetToMainLine=function(){var o=t._lines();t.selectLineEnd(0),o.length>1&&(o.length=1,t.reorderLines())},t.saveLines=function(o,r){var a,i,l,c=t._lines(),u=o.length;for(o!==c&&(c.length=0),i=0;i<u;++i){if(a=o[i],i&&"number"!=typeof a.parentId)return!1;o!==c&&c.push(a),a.id=i}return r||(l=t.ids(),t.selectPosition(-1,0,!0),t.selectPosition(l.move,l.line)),!0},t.deletePosition=function(o,r){var a,i,u=t._lines();return!(!u[r]||!(u[r][o]||-1===o&&0!==r))&&(r&&(0===o||1===o&&u[r][0].isContinuation)&&(o=-1),c>0&&r!==c?i=!1!==(a=function descendsFromMove(t,o,r){for(var a,i=t[o];"number"==typeof(a=i.parentId);){if(a===r)return i.atMoveNode;i=t[a]}return!1}(u,c,r))&&a>=o:r===c&&o<=l&&(i=!0),i&&(o>1?t.selectPosition(o-1,r):(t.selectPosition(u[r][0].isContinuation||1===o?1:0,r),t.moveBackward())),o>0?u[r].length=o:r?u[r]=null:u[0].length=0,t.reorderLines(),t.ids())},t.mark=function(o,r){var a=l<0?t._lines()[c]:t._lines()[c][l],i=o.type,u=1;o.color&&("arrow"===i?t.mark({key:o.color+o.key,type:"cal"},r):"square"===i&&t.mark({key:o.color+o.key,type:"csl"},r)),"cal"!==i&&"csl"!==i&&(i="c_"+i,u=0),a.commands&&a.commands[i]&&(a.commands[i]=a.commands[i].split(",").filter((function rm(t){return t.slice(u).split(";")[0]!==o.key.slice(u)})).join(","),a.commands[i]||delete a.commands[i]),r||(a.commands||(a.commands={}),a.commands[i]=(a.commands[i]?a.commands[i]+",":"")+o.key+(o.data?";"+o.data.join(";"):""))},t.markings=function(){var o,r,a,i,u,d,m,p,b={},g=l<0?t._lines()[c]:t._lines()[c][l],h={cal:"arrow",csl:"square"};for(r in g.commands){if(a=g.commands[r],h[r])r=h[r],i=0;else{if("c_"!==r.substr(0,2))continue;r=r.slice(2),i=1}for(b[r]=b[r]||{},d=(u=a.split(",")).length,o=0;o<d;++o)i?(p=(m=u[o].split(";")).shift(),b[r][p]=b[r][p]||{type:r,key:p},b[r][p].data=m):(p=u[o].slice(1),b[r][p]=b[r][p]||{type:r,key:p},b[r][p].color=u[o][0])}return b},t.clearMarkings=function(){var o,r=l<0?t._lines()[c]:t._lines()[c][l];for(o in r.commands)/^c[sa]l$|^c_/.test(o)&&delete r.commands[o]},t.pgn=function(r){var a,i=t.ids();return t.selectLineEnd(0),a=o.pgn(r),t.selectPosition(i.move,i.line),a},t.loadMoves=function(o,r){var a,i,u;if(r=r||{},"string"==typeof o&&(o=decodeTCN(o)),o){for(r.atCurrent||t.selectPosition(-1,0),u=c,i=o.length,a=0;a<i;++a){if(!t.move(o[a],!0)&&(o[a].promotion=!0===r.autoPromote?"q":r.autoPromote,!t.move(o[a],!0)))return!1;c!==u&&"merge"!==r.method&&(t.promoteVariation(c,1),"promote"!==r.method&&(t._history()[l].lines=void 0,t.reorderLines()),u=c)}"merge"!==r.method&&"promote"!==r.method&&t.deletePosition(l+1,c)}return!0})}function createGame(t){var o,a;if((t=t||{}).game)return t.game;if(o=i(),t.analysis&&extendChess(o),t.disableHashing&&o.hashing(!1),t.pgn){if(!(o.loadPgn(t.pgn,t.index,t.options)||"detect"===t.variant&&i.variants.some((function(r){return t.options=t.options||{},t.options.variant=r,o.loadPgn(t.pgn,t.index,t.options)}))))return!1}else{if(t.headers&&(t.variant=t.headers.Variant||t.variant,t.fen||(t.fen=t.headers.FEN)),"detect"===t.variant&&t.fen&&(t.fen.indexOf("|")>-1?t.variant="Bughouse":9===t.fen.split("/").length?t.variant="Crazyhouse":t.fen.indexOf("+")>-1?t.variant="3-check":t.variant=void 0),(t.fen||t.variant)&&!o.load(t.fen||r,t.variant))return!1;t.headers&&"object"===u()(t.headers)&&!Array.isArray(t.headers)&&o.header(t.headers)}if(t.tcn)if("object"===u()(t.tcn)){if(!function playBughouseTCN(t,o,r){var a,i,l,c=[decodeTCN(o[0]),decodeTCN(o[1])],u=[0,0],d=[0,0],m=c[0].length+c[1].length,p=Math.max(0|r[0][0],0|r[0][1],0|r[1][0],0|r[1][1]),b=[0,0],g=[0,0];for(a=[[p+=600-p%600,p],[p,p]];m--;){if(g[0]=b[0]+a[0][d[0]]-r[0][u[0]]||0,g[1]=b[1]+a[1][d[1]]-r[1][u[1]]||0,c[i=g[0]<=g[1]?0:1][u[i]]||(i^=1),(!(l=i?t.siblingGame:t).move(c[i][u[i]])||m&&l.inCheckmate()&&l.undo(!0))&&!(l=(i^=1)?t.siblingGame:t).move(c[i][u[i]]))return!1;l._history()[u[i]].time=r[i][u[i]],a[i][d[i]]=r[i][u[i]],b[i]=g[i],d[i]^=1,++u[i]}return!0}(o,t.tcn,t.timestamps||[[],[]]))return!1}else a=decodeTCN(t.tcn);else a=t.moves;return!(a&&!makeMoves(o,a,t,t.timestamps))&&o}function normalizeMoveObj(t){return t&&(t.piece&p&&(t.promoted=!0),t.piece=d[t.piece&c],t.captured&&(t.captured&p&&(t.capturedPromotedPawn=!0),t.captured=d[255&t.captured]),t.promotion&&(t.promotion=d[t.promotion&c]),void 0!==t.drop&&(t.drop=m[t.drop])),t}function normalizeHistory(t){var o,r,a,i,l,c,u,d=t.history(!0,!0);if(t.siblingGame){for(o=t.siblingGame.history(!0,!0),a=d.length+o.length,r=[],i=0;i<a;++i)!d.length||o.length&&o[0].bughouseOrder<d[0].bughouseOrder?(l=o.shift()).board="b":(l=d.shift()).board="a",r.push(l);d=r}for(a=d.length,i=0;i<a;++i)if((c=d[i]).fen||normalizeMoveObj(c),c.lines)for(u=c.lines.length-1;u>=0;--u)t.selectLine(c.lines[u]),c.lines[u]=normalizeHistory(t).moves;return{moves:d}}function getPremoves(t,r,a){var l,c,u,d,p,b,g,h,_=[];function pawnCapture(t){var a,i=p[0]+"x"+t;if(1===r&&7===l||2===r&&2===l)for(a=4;a>0;--a)_.push({color:r,to:t,flags:o.FLAGS.CAPTURE|o.FLAGS.PROMOTION,from:p,promotion:1<<a+2,piece:4,san:i+"="+m[a].toUpperCase()});else 1===l&&2===r||8===l&&1===r||_.push({color:r,to:t,flags:o.FLAGS.CAPTURE,from:p,piece:4,san:i})}if(1!==r&&2!==r||!o.load(t,a||"chess"))return null;for(t=o.fen(),(d=i()).clear(),a&&d.header({Variant:a}),o.turn(r),d.turn(r),l=1;l<9;++l)for(c=1;c<9;++c)p=String.fromCharCode(c+96)+l,(u=o.get(p))&&(o.remove(p,!0),u.color===r&&("p"===u.type?(c>1&&pawnCapture(String.fromCharCode(c-1+96)+(l+(1===r?1:-1))),c<8&&pawnCapture(String.fromCharCode(c+1+96)+(l+(1===r?1:-1)))):"k"===u.type&&(g=p[0],h=l),d.put(u,p,!0),_=_.concat(d.moves({verbose:!0})),d.remove(p,!0)));return"-"!==(b=t.split(" ")[2])&&b.split("").forEach((function(t){(1===r&&t<"a"||2===r&&t>="a")&&("k"===(t=t.toLowerCase())?_.push({color:r,to:"g"+h,flags:o.FLAGS.KSIDE_CASTLE,from:"e"+h,piece:128,san:"O-O"}):"q"===t?_.push({color:r,to:"c"+h,flags:o.FLAGS.QSIDE_CASTLE,from:"e"+h,piece:128,san:"O-O-O"}):t>g?_.push({color:r,to:t+h,flags:o.FLAGS.KSIDE_CASTLE,from:g+h,piece:128,san:"O-O"}):_.push({color:r,to:t+h,flags:o.FLAGS.QSIDE_CASTLE,from:g+h,piece:128,san:"O-O-O"}))})),(_=_.concat(o.moves({verbose:!0}))).forEach((function(t){normalizeMoveObj(t)})),_}function getLegalMoves(t,r){var a,i,l,c;if("string"==typeof t){if(!(i=o).load(t,r))return null}else i=createGame(t);for(c=(a=i.moves({verbose:!0})).length,l=0;l<c;++l)normalizeMoveObj(a[l]);return a}function jce(o,r){return(t=t||l(jce))(o,r)}return jce.gameFingerprints=function gameFingerprints(t){var o,i,l,c,u,d,m,p,b,g=createGame(t),h=[""],_=[];if(!g)return!1;for(b=(p=g.header()).Variant||"",d=g.hashes(),o="function"==typeof g.origHistory?g.origHistory(!0):g.history(!0),u=d.length,i=[d[0][0],d[0][1]],_.push(a.to64BitHex(i)+b),d[0]=a.to64BitHex(d[0]),l=1;l<u;++l)i[0]=(i[0]^d[l][0]*(l+58465))>>>0,i[1]=(i[1]^d[l][1]*(l+984))>>>0,d[l]=a.to64BitHex(d[l]),_.push(a.to64BitHex(i)+b),normalizeMoveObj(o[c=l-1]),m=(o[c].from?o[c].from:o[c].drop.toUpperCase()+"@")+o[c].to+(o[c].promotion||""),c&&(m=h[c]+" "+m),h.push(m);return{startingFen:p.FEN||r,hashes:d,fingerprints:_,moves:h,variant:p.Variant}},jce.getFenFromMoves=function getFenFromMoves(t,r,a){return o.reset(),o.load(t,a),!(r&&!makeMoves(o,r))&&o.fen()},jce.getLegalMoves=getLegalMoves,jce.getPremoves=getPremoves,jce.getPositionInfo=function getPositionInfo(t,r,a){var i,l,c,u={gameOver:!1,check:!1,checkmate:!1,draw:!1,stalemate:!1,threefold:!1,insufficient:!1};if(Array.isArray(r)||(a=r,r=null),"boolean"==typeof a?(i=a,a={}):i=(a=a||{}).variant,"string"==typeof t){if(0!==(c=o).validateFen(t,i)||!c.load(t,i))return!1}else c=createGame(t);return!(r&&!makeMoves(c,r))&&(a.getLegalMoves?(l=getLegalMoves({game:c}),u.legalMoves=l):l=c.moves(),c.inCheck()?(u.check=!0,u.checkmate=0===l.length):u.stalemate=0===l.length,a.premove&&(a.check=!1,a.kings=!1),u.threefold=c.inThreefoldRepetition(),u.insufficient=c.insufficientMaterial(a.color),u.fiftyMoveRule=c.in50MoveRule(),u.draw=u.stalemate||u.threefold||u.insufficient||u.fiftyMoveRule||c.inDraw(),a.skipValidation||(u.isValid=c.isPositionValid(a)),i&&(u.variantWin=c.isVariantWin(),void 0===u.variantWin&&(u.variantWin=c.isBughouseWin())),u.gameOver=u.checkmate||u.draw||Boolean(u.variantWin),u)},jce.isFenValid=function isFenValid(t,r){return 0===o.validateFen(t,r)},jce.encodeTCN=function encodeTCN(t){var o,r,a,i,l="";for(Array.isArray(t)||(t=[t]),r=t.length,o=0;o<r;o+=1)a=t[o].drop?79+g.indexOf(t[o].drop):b.indexOf(t[o].from[0])+8*(t[o].from[1]-1),i=b.indexOf(t[o].to[0])+8*(t[o].to[1]-1),t[o].promotion&&(i=3*g.indexOf(t[o].promotion)+64+(i<a?9+i-a:i-a-7)),l+=b[a]+b[i];return l},jce.decodeTCN=decodeTCN,jce.uciToObj=uciToObj,jce.generatePgn=function generatePgn(t){var o;return(t=t||{}).disableHashing=!0,!!(o=createGame(t))&&o.pgn(t)},jce.pgnToFen=function pgnToFen(t,r){var a,i,l=[];if(o.reset(),!o.loadPgn(t))return!1;if(a=o.moveCount(),"number"==typeof r){for(r<0&&(r=a+r+1),i=a-1;i>=r&&i>=0;i-=1)o.undo();return o.fen()}for(i=0;i<=a;i+=1)l.unshift(o.fen()),o.undo();return l},jce.pgnToJson=function pgnToJson(t,r,a){var i,l=[],c=o;return"number"!=typeof r&&(a=r,r=void 0),i=c.tokenizePgn(t,a),r<0&&(r=i.length+r),!!i&&(a&&a.includeFen&&(c=createGame({analysis:!0})),i.forEach((function(t,o){var i,u;o===r||void 0===r?c.loadPgn([t],0,a)?(u=normalizeHistory(c),i=c.header(),l.push({headers:i,moves:u.moves})):l.push(!1):l.push(void 0)})),"number"==typeof r?l[r]:l)},jce.sanToObj=function sanToObj(t,r,a){return o.reset(),!!o.load(r,a)&&normalizeMoveObj(o.move(t))},jce.completeFen=o.completeFen,jce.shortenFen=function shortenFen(t,r){return o.completeFen(t).split(" ").slice(0,r||4).join(" ")},jce.createGame=createGame,jce.getPositionDetails=function getPositionDetails(t,o){var r,a,i,l;if((t=t||{}).disableHashing=!0,!(r=createGame(t)))return null;if(o)if(t.premove){if(!(i=makePremove(r,t.color,o)))return null}else{if(!(i=r.move(o)))return null;r.extended||normalizeMoveObj(i)}return l=r.fen(),t.premove&&(t.check=!1,t.kings=!1),t.skipValidation||r.isPositionValid(t)?(a=l.split(" "),{fen:l,pieces:getPieces(r),sideToMove:r.turn(),castling:a[2],epSquare:"-"===a[3]?null:a[3],halfMoves:+a[4],moveNumber:+a[5],move:i,hand:r.hand(),checks:r.checks()}):null},jce.predict=function predict(t,o){var r=Math.min(Math.max(.20773843*Math.atan(2.49085889*t/100-2.47841945*o/100)+.02262979*t/100-.02256839*o/100+.52239679,0),1),a=Math.min(Math.max(-.20720905*Math.atan(2.49626837*t/100-2.48220286*o/100)+-.02352551*t/100+.02172627*o/100+.49443923,0),1),i=Math.min(Math.max(Math.exp(.037043456*t/100+.178106427*o/100-8.069742932)+.004823544*Math.exp(-1.364136591*Math.pow(t/100-o/100,2))+-.001625539,0),1),l=r+a+i;return{w:r/l,b:a/l,d:i/l}},jce.FLAGS=o.FLAGS,jce.loadECO=function loadECO(t,o){a.loadBook(t,(function onload(t,r){if(!r||!r.json)return o(t||new Error("Invalid book"));o(t,(function queryECO(t){var o,i,l,c,u,d,m,p,b;if(t.hash)i="string"==typeof t.hash?[a.hex64ToDec(t.hash)]:[t.hash],c=1;else{if(!(o=createGame(t)))return!1;c=(i=o.hashes()).length}for(l=0;l<c;++l)if(u=r.json[a.to64BitHex(i[l])]){if(u.constructor===Array)if(d&&-1===u[0].m.indexOf(d.m)){for(p=u.length-1;p>=0;--p)if(!p||-1!==u[p].m.indexOf(d.m)){(b=u[p]).e=u[0].e,b.s=u[0].s,b.mate=u[0].mate,b.v=u[0].v,b.h=u[0].h,b.n=b.n||u[0].n,b.u=b.u||u[0].u,b.c=b.c||u[0].c;break}}else b=u[0];else b=u;(b.n||t.allowNameless)&&(d=b)}else t.mustEndInBook&&(d=void 0);if(d)return m={name:d.n},d.m&&(m.moves=d.m),void 0!==d.d&&(m.sdiff=d.d/100),d.c&&(m.code=d.c,m.url=d.u||d.n.replace(/[\u00e1-\u00e5]/g,"a").replace(/[\u0107\u010d]/g,"c").replace(/[\u00e9\u00e8\u0117\u0113]/g,"e").replace(/[\u00f3\u00f6\u00f8]/g,"o").replace(/[\u016f\u00fc]/g,"u").replace(/['+,]/g,"").replace(/[^a-z0-9.]+/gi,"-").replace(/(with-\d|St)\.+-?/,"$1-")),d.e?(m.eval=d.e,m.depth=d.h,m.score=d.e[0].cp/100,void 0!==d.e[0].mate&&(m.mate=d.e[0].mate)):(m.score=d.s/100,void 0!==d.mate&&(m.mate=d.mate)),d.v&&(m.bad=!0),m}),r.json)}))},jce}());o.a=d},"./chessboard/src/game/game.lib.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return u}));var a=r("./chessboard/src/game/engine/JCE.js"),i=r("./chessboard/src/game/line.js"),l=r("./chessboard/src/game/index.js"),c=r("./chessboard/src/game/utils.js"),u={createJce:function createJce(t){var o=Object.assign({},t,{analysis:!0});return a.a.createGame(o)||null},updateIdsFromJce:function updateIdsFromJce(t){return t&&t.jce?(t.tree.selected=t.jce.ids(),t):null},getSelectedIds:function getSelectedIds(t){return t.jce.ids()},getPositionInfo:function getPositionInfo(t){var o=a.a.getPositionInfo({game:t.jce},{skipValidation:!0,getLegalMoves:!0});return t.settings.premoves?o.legalPremoves=u.getLegalPremoves(t):o.legalPremoves=[],o},getPositionDetails:function getPositionDetails(t){return Object.assign(a.a.getPositionDetails({game:t.jce,kings:!1,skipValidation:!0}),{hand:u.getHand(t)})},addExtraCastlingMoves:function addExtraCastlingMoves(t){t.setup.legalMoves.forEach((function(o){16!==o.flags&&32!==o.flags||("chess960"===t.variant?u.addCastlingMoves960(t,o):u.addCastlingMoves(t,o))}))},addCastlingMoves:function addCastlingMoves(t,o){var r=1===o.color?1:8;(16===o.flags?[8]:[1,2]).forEach((function(a){t.setup.legalMoves.push({color:o.color,flags:o.flags,piece:"k",from:o.from,san:16===o.flags?"O-O":"O-O-O",to:c.a.getSanFromFileRank({file:a,rank:r})})}))},addCastlingMoves960:function addCastlingMoves960(t,o){for(var r=c.a.getFileRankFromSan(o.from).rank,a=1,i=0;i<2;){var l=c.a.getPieceAt(t,{file:a,rank:r});void 0!==l&&"r"===l.type&&i++,(1===i&&32===o.flags||2===i&&16===o.flags)&&t.setup.legalMoves.push({color:o.color,flags:o.flags,piece:"k",from:o.from,san:16===o.flags?"O-O":"O-O-O",to:c.a.getSanFromFileRank({file:a,rank:r})})}a++},getHeaders:function getHeaders(t){return t.jce.header()},getFen:function getFen(t){return t.jce.fen()},getPgn:function getPgn(t,o){return t.jce.pgn(o)},getPremoves:function getPremoves(t){return t.jce.premoves},getHand:function getHand(t){return t.jce.hand()},getChecks:function getChecks(t){return t.jce.checks()},getLegalPremoves:function getLegalPremoves(t){return a.a.getPremoves(t.jce.premoves&&t.jce.premoves.length>0?t.jce.premoves[t.jce.premoves.length-1].fen:t.jce.fen(),t.setup.playingAs,t.variant)},load:function load(t,o){return t.jce.load(o)&&u.updateIdsFromJce(t),t},loadPgn:function loadPgn(t,o){return t.jce.loadPgn(o)&&u.updateIdsFromJce(t),t},loadPgnSoft:function loadPgnSoft(t,o){if(!t.jce.loadPgn(o)){var r=a.a.createGame({variant:"detect",pgn:o});r&&(o=r.pgn())}return t.jce.loadPgn(o)||u.updateIdsFromJce(t),t},createVariation:function createVariation(t){return t.jce.createVariation()&&(t.jce.reorderLines(),u.updateIdsFromJce(t)),t},getJCEMove:function getJCEMove(t,o){var r=o;return u.isValidMoveObject(o)?(r.san?r=a.a.sanToObj(r.san,u.getFen(t),t.variant):r.tcn&&(r=a.a.decodeTCN(r.tcn)[0]),r):null},move:function move(t,o){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!o)return null;var a=!1;if(!1===r){var i=o.from?t.jce.get(o.from):null,l=o.to?t.jce.get(o.to):null;if(i&&l&&"k"===l.type)return null;t.jce.remove(o.to),t.jce.remove(o.from);var c=o.drop||o.put;a=t.jce.put(i||{type:c.toLowerCase(),color:c&&c.toUpperCase()===c?1:2},o.to),o.from&&i&&null===o.to&&(a=!0)}else o.drop&&(o.drop=o.drop.toLowerCase()),a=t.jce.move(o);return a&&u.updateIdsFromJce(t),a},selectLine:function selectLine(t,o){var r=i.a.getLine(t.tree.lines,o);return r&&(t.jce.selectLine(o),t.tree.selected={line:o,move:r.length-1}),t},selectNode:function selectNode(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{line:0,move:0};return t.jce.selectPosition(o.move,o.line),t},updateHeaders:function updateHeaders(t,o){return t.jce.header(o)},clear:function clear(t){return t.jce.clear(t.variant)},isFileRankEqual:function isFileRankEqual(t,o){return t.file&&o.file&&t.rank&&o.rank&&t.file===o.file&&t.rank===o.rank},isValidMoveObject:function isValidMoveObject(t){return"string"==typeof t.from&&"string"==typeof t.to||"string"==typeof t.san||"string"==typeof t.tcn||!t.from&&"string"==typeof t.to&&"string"==typeof t.drop||null===t.to&&"string"==typeof t.from||!t.from&&"string"==typeof t.to&&"string"==typeof t.put},movesMatch:function movesMatch(t,o){return!(t.from!==o.from||t.to!==o.to||t.promotion&&t.promotion!==o.promotion||t.drop&&t.drop!==o.drop)},getMoveNumber:function getMoveNumber(t,o){return 1===t?Math.ceil(o/2+1):Math.floor(o/2+1)},isUserTurn:function isUserTurn(t){return t.setup.playingAs===t.setup.sideToMove},getFens:function getFens(t){var o=[t.setup.fen];return(t.tree.lines||r("./web/core/api/move-list/move-list.js").default.state.lines)[0].forEach((function(t){o.push(t.fen)})),o},getLastTcn:function getLastTcn(t){var o=l.a.getTcn(t);return o.substr(o.length-2)},getSanMoves:function getSanMoves(t,o){var a=[];return(t.tree.lines||r("./web/core/api/move-list/move-list.js").default.state.lines)[0].some((function(t,r){return"number"==typeof o&&r>=o||(a.push(t.san),!1)})),a}}},"./chessboard/src/game/game.premoves.lib.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i}));var a=r("./chessboard/src/game/game.lib.js"),i={premove:function premove(t,o){var r=!1;return t.settings.premoves&&!t.settings.analysis&&t.jce.premoves.length<8&&(r=t.jce.premove(o,t.setup.playingAs)),r},cancelPremoves:function cancelPremoves(t){return!!t.jce.premoves.length&&(t.jce.premoves.length=0,!0)},consumePremove:function consumePremove(t){if(t.jce.premoves.length){var o=t.jce.premoves.shift();if(a.a.move(t,o.move)){var r=t.jce.premoves.map((function(t){return t}));t.jce.premoves.length=0;for(var l=0;l<r.length;l+=1){var c=r[l];if(delete c.move.san,!i.premove(t,c.move))break}return!0}}return!1}}},"./chessboard/src/game/history.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i}));var a={ADD_BLINKING_SQUARE:"ADD_BLINKING_SQUARE",CLEAR_ARROW:"CLEAR_ARROW",CLEAR_BLINKING_SQUARE:"CLEAR_BLINKING_SQUARE",CLEAR_EFFECT:"CLEAR_EFFECT",CLEAR_MARKED_SQUARE:"CLEAR_MARKED_SQUARE",INIT:"INIT",LOAD:"LOAD",MAKE_MOVE:"MAKE_MOVE",ILLEGAL_MOVE:"ILLEGAL_MOVE",JUMP_TO_POSITION:"JUMP_TO_POSITION",TREE_CHANGE:"TREE_CHANGE",TREE_AMENDED:"TREE_AMENDED",SETTINGS_CHANGE:"SETTINGS_CHANGE",PGN_HEADERS_UPDATED:"PGN_HEADERS_UPDATED",CANCEL_PREMOVES:"CANCEL_PREMOVES",PREMOVE:"PREMOVE",GUESS_THE_MOVE:"GUESS_THE_MOVE",CANCEL_GUESS_THE_MOVE:"CANCEL_GUESS_THE_MOVE",UPDATE_NODE:"UPDATE_NODE"},i={MAX_HISTORY_LIMIT:200,getInitialHistory:function getInitialHistory(){return[]},add:function add(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t.length>i.MAX_HISTORY_LIMIT-1){var a=t.findIndex((function(t){return null!==t}));t[a]=null}t.push({type:o,payload:r})},getLastItem:function getLastItem(t){return t[t.length-1]}}},"./chessboard/src/game/index.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return q}));var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./chessboard/src/game/utils.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var c=r("./chessboard/src/game/game.lib.js"),u=r("./chessboard/src/game/api/select-node.js"),d=r("./chessboard/src/game/history.js"),m=r("./chessboard/src/game/state.js"),p=r("./chessboard/src/game/engine/JCE.js"),b=r("./chessboard/src/game/line.js");function create_variation_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function create_variation_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?create_variation_ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):create_variation_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var g=function createVariation(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=create_variation_objectSpread({},t.tree.selected);if(!t.settings.variations)return null;void 0!==r.line&&void 0!==r.move?c.a.selectNode(t,r):r=t.tree.selected;var i=b.a.getNode(t.jce._lines(),{line:r.line,move:r.move}).san;return c.a.createVariation(t),o&&c.a.move(t,i),d.b.add(t.history,d.a.JUMP_TO_POSITION,{from:a,to:r}),m.a.updateState(t)},h=function shouldNotMutateLine(t){return-1!==t.tree.selected.move&&t.settings.mainLineIsImmutable&&b.a.isMainLine(t.tree.selected.line)},_=function isValidMove(t,o){return null!==p.a.getPositionDetails({fen:c.a.getFen(t),variant:c.a.getHeaders(t).Variant||"Chess"},o)},v=function makeMove(t,o){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=c.a.getJCEMove(t,o);if(null===a)return d.b.add(t.history,d.a.ILLEGAL_MOVE),t;var i=t.settings.analysis||r;if(!b.a.isHead(t.jce._lines(),t.tree.selected)){if(!i)return Object(u.a)(t,b.a.getHeadIds(t.jce._lines(),t.tree.selected.line));var l=b.a.getNextMatchingNode(t.jce._lines(),t.tree.selected,a);if(l)return Object(u.a)(t,l.ids);if(_(t,a)){if(d.b.add(t.history,d.a.TREE_AMENDED),t.settings.variations)return c.a.selectNode(t,{line:t.tree.selected.line,move:t.tree.selected.move+1}),c.a.createVariation(t),m.a.updateState(t),makeMove(t,a);if(!t.settings.mainLineIsImmutable)return b.a.prune(t.jce._lines(),t.tree.selected),makeMove(t,a)}return d.b.add(t.history,d.a.ILLEGAL_MOVE),t}if(!i&&!c.a.isUserTurn(t))return d.b.add(t.history,d.a.ILLEGAL_MOVE),t;if(i&&t.settings.variations&&h(t)&&_(t,a)){var p=b.a.getNextMatchingNode(t.jce._lines(),t.tree.selected,a);return p?Object(u.a)(t,p.ids):(g(t,!0),m.a.updateState(t),makeMove(t,a))}return!h(t)&&c.a.move(t,a,t.settings.rules)?(d.b.add(t.history,d.a.MAKE_MOVE,a),m.a.updateState(t)):(d.b.add(t.history,d.a.ILLEGAL_MOVE),t)},y=function setPlayingAs(t,o){return[1,2].indexOf(o)>=0&&(t.setup.playingAs=o),t},w=r("./chessboard/src/game/api/premoves/index.js"),j=function changeSettings(t,o){var r=Object.prototype.hasOwnProperty.call(o,"premoves")&&t.settings.premoves!==o.premoves;return t.settings=Object.assign(t.settings,o),t.settings.premoves||Object(w.a)(t),d.b.add(t.history,d.a.SETTINGS_CHANGE),r&&m.a.updateState(t),t},O=function loadFromFen(t,o){return o?(b.a.clearAllMarkings(t.jce._lines()),c.a.load(t,o),d.b.add(t.history,d.a.LOAD),m.a.updateState(t)):null},S=function clearMarkings(t,o){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=b.a.getNode(t.jce._lines(),o)||b.a.getNode(t.jce._lines(),c.a.getSelectedIds(t))||t.tree.initialMarkings;return(a.arrows&&a.arrows.length||a.squares&&a.squares.length||a.effects&&a.effects.length)&&(a.arrows=[],a.squares=[],a.effects=[],r&&(m.a.updateState(t),d.b.add(t.history,d.a.TREE_CHANGE))),t},k=function convertFileToInteger(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return t.charCodeAt(0)-97+1},C=function createGame(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={id:l.a.getId(),variant:t.variant||"chess",settings:Object.assign(m.a.getInitialSettings(),t.settings),setup:Object.assign(m.a.getInitialSetup(),t.setup),tree:Object.assign(m.a.getInitialTree(),t.tree),history:d.b.getInitialHistory(),markings:Object.assign(m.a.getInitialMarkings(),t.markings),premoves:[]};return y(o,t.player||1),Object.defineProperty(o,"jce",{writable:!1,enumerable:!1,configurable:!1,value:c.a.createJce(t)}),c.a.updateIdsFromJce(o),d.b.add(o.history,d.a.INIT),o.jce.siblingGame&&!o.sibling&&(o.sibling={id:l.a.getId(),variant:o.variant||"chess",sibling:o,settings:o.settings,setup:m.a.getInitialSetup(),tree:m.a.getInitialTree(),history:d.b.getInitialHistory(),markings:Object.assign(m.a.getInitialMarkings(),t.markings),premoves:[]},Object.defineProperty(o.sibling,"jce",{writable:!1,enumerable:!1,configurable:!1,value:c.a.createJce({game:o.jce.siblingGame})}),c.a.updateIdsFromJce(o.sibling)),m.a.updateState(o),o},P=r("./chessboard/src/game/move-node/helper.js");function select_line_start_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var x=function selectLineStart(t){var o=b.a.getSelectedLine(t),r=0,a=function select_line_start_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?select_line_start_ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):select_line_start_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({},t.tree.selected);0===t.tree.selected.move&&void 0!==o.parentId?(c.a.selectLine(t,o.parentId),o=b.a.getSelectedLine(t)):b.a.isMainLine(o.id)&&(r=-1);var l={line:o.id,move:r};return c.a.selectNode(t,l),d.b.add(t.history,d.a.JUMP_TO_POSITION,{from:a,to:l}),m.a.updateState(t)},A=function deleteNode(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign(t.tree.selected,o);return r.line>0&&(r.move<=0||b.a.isFirstVisibleNode(t.jce._lines(),r))&&(r.move=-1),t.jce.deletePosition(r.move,r.line),d.b.add(t.history,d.a.TREE_CHANGE),m.a.updateState(t),t},T=function deleteRemainingNodes(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=Object.assign(t.tree.selected,o);return A(t,{move:r.move+1,line:r.line})},L=function getTcn(t,o){var a=t.jce&&t.jce._lines()||r("./web/core/api/move-list/move-list.js").default.state.lines;return p.a.encodeTCN(b.a.getLine(a,o)||a[0])},I=r("./chessboard/src/game/move-list/helper.js"),M=r("./chessboard/src/game/api/set-hand.js"),R=function loadFromTcn(t,o){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.a.getInitialFen(),a=arguments.length>3?arguments[3]:void 0;O(t,r);var i=p.a.decodeTCN(o);return i?(i.forEach((function(o){"Crazyhouse"!==t.variant&&"Bughouse"!==t.variant||!o.drop||Object(M.a)(t,t.setup.sideToMove,o.drop),v(t,o,!0)})),m.a.updateState(t),a?Object(u.a)(t,t.tree.selected,-1):(d.b.add(t.history,d.a.LOAD),t)):null},D=function markArrow(t,o,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=b.a.getNode(t.jce._lines(),r)||b.a.getNode(t.jce._lines(),c.a.getSelectedIds(t))||t.tree.initialMarkings;return i.arrows||(i.arrows=[]),i.arrows.find((function(t){return c.a.isFileRankEqual(t.fromFileRank,o.fromFileRank)&&c.a.isFileRankEqual(t.toFileRank,o.toFileRank)}))||(i.arrows.push(o),a&&(m.a.updateState(t),d.b.add(t.history,d.a.TREE_CHANGE))),t},N=function markEffect(t){var o=t.game,r=t.effect,a=t.ids,i=t.persist,l=t.updateState,u=void 0===l||l;if(i)return o.setup.effects=r?[r]:null,m.a.updateState(o),o;var p=b.a.getNode(o.jce._lines(),a)||b.a.getNode(o.jce._lines(),c.a.getSelectedIds(o))||o.tree.initialMarkings;return p.effects||(p.effects=[]),p.effects.find((function(t){return c.a.isFileRankEqual(t.square,r.square)}))||(p.effects.push(r),u&&(m.a.updateState(o),d.b.add(o.history,d.a.TREE_CHANGE))),o},$=function markSquare(t,o,r){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=b.a.getNode(t.jce._lines(),r)||b.a.getNode(t.jce._lines(),c.a.getSelectedIds(t))||t.tree.initialMarkings;return i.squares||(i.squares=[]),i.squares.find((function(t){return c.a.isFileRankEqual(t,o)}))||(i.squares.push(o),a&&(m.a.updateState(t),d.b.add(t.history,d.a.TREE_CHANGE))),t},B=function fixTcn(t,o){var r=C({variant:t.variant,fen:l.a.getFirstFen(t)});return R(r,o,r.setup.fen),L(r)};function merge_tcn_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function select_line_end_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function select_line_end_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?select_line_end_ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):select_line_end_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var U=function selectLineEnd(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.tree.selected.line,r=b.a.getLine(t.jce._lines(),o).length-1,a=select_line_end_objectSpread({},t.tree.selected);if(t.tree.selected.move!==r||o!==t.tree.selected.line){var i={line:o,move:r};return c.a.selectNode(t,i),d.b.add(t.history,d.a.JUMP_TO_POSITION,{from:a,to:i}),m.a.updateState(t)}return t};function reset_to_main_line_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var q={addBlinkingSquare:function addBlinkingSquare(t,o,r,a){var c=l.a.getId(),u=function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({id:c,interval:o,times:r},a);return t.markings.blinkingSquares.push(u),setTimeout((function(){var o=t.markings.blinkingSquares.findIndex((function(t){return t.id===c}));t.markings.blinkingSquares.splice(o,1)}),0),t},addVariant:function addVariant(t,o){return o?(Object(u.a)(t,{line:0,move:0}),o.match(/.{2}/g).forEach((function(o){return v(t,{tcn:o},!0)})),t):t},canMoveBackward:function canMoveBackward(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===t.tree.selected.line&&t.tree.selected.move-o<-1)return!1;var a=t.tree.lines||r("./web/core/api/move-list/move-list.js").default.state.lines;return null!==b.a.findNode(a,t.tree.selected,-1*o,!1)},canMoveForward:function canMoveForward(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=t.tree.lines||r("./web/core/api/move-list/move-list.js").default.state.lines;return null!==b.a.findNode(a,t.tree.selected,o,!1)},changeSettings:j,clearAnalysis:function clearAnalysis(t){var o=q.resetToMainLine(t),r=b.a.clearAnalysis(o.jce._lines());return o.jce.saveLines(r),d.b.add(o.history,d.a.TREE_CHANGE),m.a.updateState(t)},clearArrow:function clearArrow(t,o,r){var a=b.a.getNode(t.jce._lines(),r)||b.a.getNode(t.jce._lines(),c.a.getSelectedIds(t))||t.tree.initialMarkings;a.arrows||(a.arrows=[]);var i=a.arrows.findIndex((function(t){return c.a.isFileRankEqual(t.fromFileRank,o.fromFileRank)&&c.a.isFileRankEqual(t.toFileRank,o.toFileRank)}));return-1!==i&&(a.arrows.splice(i,1),m.a.updateState(t),d.b.add(t.history,d.a.TREE_CHANGE)),t},clearBlinkingSquare:function clearBlinkingSquare(t,o){return t.markings.blinkingSquares[o]&&delete t.markings.blinkingSquares[o],t},clearBoard:function clearBoard(t){return j(t,{rules:!1}),O(t,"8/8/8/8/8/8/8/8 w - - 0 1"),d.b.add(t.history,d.a.LOAD),m.a.updateState(t)},clearEffect:function clearEffect(t,o,r){var a=b.a.getNode(t.jce._lines(),r)||b.a.getNode(t.jce._lines(),c.a.getSelectedIds(t))||t.tree.initialMarkings;a.effects||(a.effects=[]);var i=a.effects.findIndex((function(t){return c.a.isFileRankEqual(t.square,o.square)}));return-1!==i&&(a.effects.splice(i,1),m.a.updateState(t),d.b.add(t.history,d.a.TREE_CHANGE)),t},clearMarkedSquare:function clearMarkedSquare(t,o,r){var a=b.a.getNode(t.jce._lines(),r)||b.a.getNode(t.jce._lines(),c.a.getSelectedIds(t))||t.tree.initialMarkings;a.squares||(a.squares=[]);var i=a.squares.findIndex((function(t){return c.a.isFileRankEqual(t,o)}));return-1!==i&&(a.squares.splice(i,1),m.a.updateState(t),d.b.add(t.history,d.a.TREE_CHANGE)),t},clearMarkings:S,clearNodes:function clearNodes(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.jce._lines();if(!r)return t;if(void 0===o.line&&void 0===o.move)return r.forEach((function(t){t.forEach((function(t,o){return b.a.clearNode(r,{line:t.ids.line,move:o})}))})),d.b.add(t.history,d.a.TREE_CHANGE),t;if(void 0===o.move){var a=b.a.getLine(t.jce._lines(),o.line);return a?(a.forEach((function(t,o){return b.a.clearNode(r,{line:a.id,move:o})})),d.b.add(t.history,d.a.TREE_CHANGE),t):t}return b.a.getNode(r,o)?(b.a.clearNode(r,o),d.b.add(t.history,d.a.TREE_CHANGE),t):t},convertLanToFileRanks:function convertLanToFileRanks(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{fromFileRank:{file:k(t[0]),rank:Number(t[1])},toFileRank:{file:k(t[2]),rank:Number(t[3])}}},createGame:C,createVariation:g,deleteLine:function deleteLine(t,o){return t.jce.deletePosition(-1,o)?(d.b.add(t.history,d.a.TREE_CHANGE),m.a.updateState(t),t):null},deleteNode:A,deleteRemainingNodes:T,getCurrentFullLine:function getCurrentFullLine(t){var o=t.jce._history().length-t.jce.ids().move-1,r=t.jce.history(!0);return 0===o?r:r.slice(0,-o)},getPgn:function getPgn(t,o){return c.a.getPgn(t,o)},getPgnHeaders:function getPgnHeaders(t){return c.a.getHeaders(t)},getSelectedNode:function getSelectedNode(t){return b.a.getSelectedNode(t)},getTcn:L,isMoveLegal:function isMoveLegal(t,o){var r=!1;if(!t.settings.rules)return!0;for(var a=0;a<t.setup.legalMoves.length;a++){var i=t.setup.legalMoves[a];if(i.from===o.from&&i.to===o.to){r=!0;break}}return r},loadFromFen:O,loadFromLan:function loadFromLan(t,o,r,a){var i=o.map((function(t){return p.a.encodeTCN({from:t.slice(0,2),to:t.slice(2,4),promotion:t.slice(4,5)||void 0})})).join("");return q.loadFromTcn(t,i,r,a)},loadFromPgn:function loadFromPgn(t,o,r){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(!o)return t;var i=Object(I.c)(o);return a&&!t.jce.loadPgn(i)?c.a.loadPgnSoft(t,i):c.a.loadPgn(t,i),m.a.updateState(t),r?Object(u.a)(t,t.tree.selected,r):(d.b.add(t.history,d.a.LOAD),t)},loadFromSanMoves:function loadFromSanMoves(t,o,r,a){return o&&o.length?(r&&c.a.load(t,r),o.forEach((function(o){return v(t,{san:o},!0)})),m.a.updateState(t),a?Object(u.a)(t,t.tree.selected,-1):(d.b.add(t.history,d.a.LOAD),t)):null},loadFromTcn:R,makeMove:v,makeOpponentMove:function makeOpponentMove(t,o){return y(t,3-t.setup.playingAs),v(t,o),y(t,3-t.setup.playingAs),m.a.updateState(t)},markArrow:D,markEffect:N,markSquare:$,mergeTcn:function mergeTcn(t,o,r){if("string"!=typeof o||t.settings.mainLineIsImmutable)return null;if(""===o)return x(t),R(t,"",t.setup.fen);var a=function merge_tcn_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?merge_tcn_ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):merge_tcn_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({},t.tree.selected),l=L(t),c=o,m=t.history.length-1;if(!(l.includes(c)||c.includes(l)||(l=B(t,l),c=B(t,c),l.includes(c)||c.includes(l))))return R(t,c);if(c.length<l.length)Object(u.a)(t,{line:0,move:c.length/2-1}),T(t);else{if(!(c.length>l.length))return t;var g;if(Object(u.a)(t,{line:0,move:l.length/2-1}),c.slice(l.length).match(/.{2}/g).forEach((function(o){g=p.a.decodeTCN(o)[0],"Crazyhouse"!==t.variant&&"Bughouse"!==t.variant||!g.drop||Object(M.a)(t,t.setup.sideToMove,g.drop),v(t,g,!0)})),t.history.slice(m+1).some((function(t){return t&&t.type===d.a.ILLEGAL_MOVE})))return Object(u.a)(t,a),T(t),t.history=t.history.slice(0,m),mergeTcn(t,B(t,c))}if(r)return Object(u.a)(t,t.tree.selected,-1);if(a.line!==t.tree.selected.line||a.move!==t.tree.selected.move){var h=b.a.getNode(t.jce._lines(),a)?a:t.tree.selected;return Object(u.a)(t,h)}return t},moveBackward:function moveBackward(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(u.a)(t,t.tree.selected,-1*o,!1)},moveForward:function moveForward(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(u.a)(t,t.tree.selected,o,!1)},moveToEnd:function moveToEnd(t){return b.a.isMainLine(t.tree.selected.line)||c.a.selectLine(t,0),U(t),m.a.updateState(t)},moveToStart:function moveToStart(t){return b.a.isMainLine(t.tree.selected.line)||c.a.selectLine(t,0),x(t),m.a.updateState(t)},moveVariation:function moveVariation(t,o){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=b.a.getLine(t.jce._lines(),o);if(a&&void 0!==a.parentId){var i=b.a.getLine(t.jce._lines(),a.parentId)[a.atMoveNode],l=-1;if(i.lines.forEach((function(t,r){o===t&&(l=r)})),l>-1){var c=null;r&&l>0?(c=i.lines[l-1],i.lines[l-1]=o,i.lines[l]=c):!r&&l<i.lines.length-1&&(c=i.lines[l+1],i.lines[l+1]=o,i.lines[l]=c)}d.b.add(t.history,d.a.TREE_CHANGE)}return t},promoteVariation:function promoteVariation(t,o){var r=o;void 0===r&&(r=t.tree.selected);var a=b.a.getLine(t.jce._lines(),r.line);if(a&&void 0!==a.parentId)for(var i=r.move,l=function _loop(){if(t.settings.mainLineIsImmutable&&b.a.isMainLine(a.parentId))return"break";var o=b.a.getLine(t.jce._lines(),a.parentId),r=b.a.isContinuation(t.jce._lines(),a.id)?1:0,l=a[r]&&a[r].commentBefore,u=a.atMoveNode,d=a.slice(0);a.length=0,l&&o[u-1]&&(o[u-1].comment?(" "!==o[u-1].comment.substr(-1)&&(o[u-1].comment+=" "),o[u-1].comment+=l):o[u-1].comment=l,delete d[r].commentBefore,delete a.initComment);var m=o.slice(u),p=m[0].lines.map((function(t){return t}));delete m[0].lines,m.forEach((function(o,r){o.lines&&o.lines.length&&o.lines.forEach((function(o){var i=b.a.getLine(t.jce._lines(),o);i.parentId=a.id,i.atMoveNode=r}))})),o.length=u,d.forEach((function(r){r.ids={line:o.id,move:o.length},r.lines&&r.lines.length&&r.lines.forEach((function(r){var a=b.a.getLine(t.jce._lines(),r);a.parentId=o.id,a.atMoveNode=o.length})),o.push(r)})),m.forEach((function(t,o){t.ids={line:a.id,move:o},a.push(t)})),o[u].lines=p,o[u].lines.forEach((function(r){b.a.getLine(t.jce._lines(),r).parentId=o.id})),c.a.selectNode(t,{line:o.id,move:u+i}),a=b.a.getLine(t.jce._lines(),a.parentId),i=u+i};void 0!==a.parentId;){if("break"===l())break}return t.jce.saveLines(t.tree.lines),d.b.add(t.history,d.a.TREE_CHANGE),m.a.updateState(t)},resetToMainLine:function resetToMainLine(t){var o=function reset_to_main_line_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?reset_to_main_line_ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):reset_to_main_line_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({},t.tree.selected);b.a.isMainLine(t.tree.selected.line)||c.a.selectLine(t,0),U(t);var r=t.tree.selected;return t.tree.lines.length=1,t.tree.lines=b.a.rebuildIds(t.tree.lines),t.jce.saveLines(t.tree.lines),d.b.add(t.history,d.a.JUMP_TO_POSITION,{from:o,to:r}),m.a.updateState(t)},selectLineEnd:U,selectLineStart:x,selectNode:u.a,setPlayingAs:y,updateMarkings:function updateMarkings(t){var o=t.arrow,r=t.effect,a=t.game,i=t.ids,l=t.square,c=t.resetFirst,u=!1;return(void 0===c||c)&&S(a,i,u),o&&D(a,o,i,u),r&&N({game:a,effect:r,ids:i,updateState:u}),l&&$(a,l,i,u),m.a.updateState(a),d.b.add(a.history,d.a.TREE_CHANGE),a},updateNode:function updateNode(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=t.jce._lines(),i=b.a.findNode(a,o);if(!i||!r||r.commentBefore&&!b.a.isFirstVisibleNode(a,o))return null;var l=b.a.getLine(a,o.line);if(void 0===r.commentBefore&&b.a.isFirstVisibleNode(a,o)?delete l.initComment:r.commentBefore&&(l.initComment=r.commentBefore),r.insertCommentAfterLastNode&&l.length){var c=l[l.length-1];c&&(c.comment=r.insertCommentAfterLastNode,delete r.insertCommentAfterLastNode)}if(r.annotation&&(r.annotation=Object(P.b)(i,r.annotation)?"":Object(P.v)(r.annotation)),r.additionalAnnotation){if(!Object(P.o)(r.additionalAnnotation))return null;Object(P.a)(i,r.additionalAnnotation)&&(r.additionalAnnotation=[]),r.additionalAnnotation=[].concat(Object(P.v)(r.additionalAnnotation))}return Object.assign(i,r),d.b.add(t.history,d.a.UPDATE_NODE,{line:o.line,move:o.move}),m.a.updateState(t)},updatePgnHeaders:function updatePgnHeaders(t,o){if(!o)return null;var r=Object.keys(o).reduce((function(t,r){return"Date"===r&&"number"==typeof o[r]&&(o[r]=l.a.formatJSTimestampForPgn(o[r])),t.push(r),t.push(o[r]),t}),[]);return c.a.updateHeaders(t,r),d.b.add(t.history,d.a.PGN_HEADERS_UPDATED),t.setup.result=m.a.getResult(t),t}}},"./chessboard/src/game/line.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a}));var a={getLine:function getLine(t,o){return t[o]||null},getNode:function getNode(t,o,r){if("number"==typeof o){if(void 0!==r){var i=a.getLine(t,Math.max(0,o));return i?i[r]:null}return null}if(!o)return null;var l=a.getLine(t,Math.max(0,o.line));return l?l[o.move]:null},getSelectedLine:function getSelectedLine(t){return a.getLine(t.jce._lines(),t.tree.selected.line)},getSelectedNode:function getSelectedNode(t){return a.getNode(t.jce._lines(),t.tree.selected)},nodeIsSelected:function nodeIsSelected(t,o){return!!(o||o.line||o.move)&&(t.selected.line===o.line&&t.selected.move===o.move)},getLinesFromJce:function getLinesFromJce(t){return a.formatLinesFromJce(t.jce._lines())},getJceSelectedLine:function getJceSelectedLine(t){return t._lines()[t._history().id]},formatLinesFromJce:function formatLinesFromJce(t){return a.consolidateComments(t)},consolidateComments:function consolidateComments(t){return t.map((function(o){var r=a.isContinuation(t,o.id)?a.getNode(t,o.id,1):a.getNode(t,o.id,0);return r?(o.initComment&&(r.commentBefore=o.initComment),o):o}))},isContinuation:function isContinuation(t,o){var r=a.getLine(t,o);if(!r)return!1;if(void 0!==r.parentId&&void 0!==r[0]){var i=a.getNode(t,r.parentId,r.atMoveNode);return!(!i||!i.move)&&i.move===r[0].move}return!1},isMainLine:function isMainLine(t){return 0===t},getNextNodeIds:function getNextNodeIds(t,o){return!t||t.move+o<0?null:{line:t.line,move:t.move+o}},getNextContinuationLineId:function getNextContinuationLineId(t,o){var r=a.getNode(t,o);if(!r||!r.lines)return null;var i=r.lines.find((function(o){return a.isContinuation(t,o)}));return-1!==i?i:null},getParentNode:function getParentNode(t,o){var r={line:t[o.line].parentId,move:t[o.line].atMoveNode};return a.findNode(t,r)},getParentNodeIds:function getParentNodeIds(t,o){var r=a.getLine(t,o.line);return r&&void 0!==r.parentId?{line:r.parentId,move:r.atMoveNode}:null},deleteRemainingNodes:function deleteRemainingNodes(t,o){return t?(t.length=o+1,t):null},deleteNode:function deleteNode(t,o){return a.prune(t,{line:o.line,move:o.move-1})},deleteLine:function deleteLine(t,o){var r=a.getLine(t,o);if(void 0!==r.parentId){var i=a.getNode(t,{line:r.parentId,move:r.atMoveNode});i.lines=i.lines.filter((function(t){return t!==o})),0===i.lines.length&&delete i.lines}var l=t.filter((function(t){return a.isMainLine(t.id)||t.id!==o}));return a.rebuildIds(l)},rebuildIds:function rebuildIds(t){var o=[];return t.forEach((function(t,r){t.id!==r&&(o[t.id]=r)})),t.map((function(r){return r.id=void 0!==o[r.id]?o[r.id]:r.id,void 0!==o[r.parentId]&&(r.parentId=o[r.parentId]),r.forEach((function(r){r.ids.line=void 0!==o[r.ids.line]?o[r.ids.line]:r.ids.line,r.lines&&r.lines.length>0&&(r.lines=r.lines.map((function(t){return void 0!==o[t]?o[t]:t})).filter((function(o){return void 0!==t[o]})),0===r.lines.length&&delete r.lines)})),r}))},prune:function prune(t,o){return a.getNode(t,{line:o.line,move:o.move+1})?(t[o.line]=a.deleteRemainingNodes(t[o.line],o.move),!a.isMainLine(o.line)&&a.isFirstVisibleNode(t,o)&&t.splice(t.findIndex((function(t){return t.id===o.line})),1),t.sort((function(t,o){return t.id-o.id})).reduce((function(t,o){var r=a.getNode(t,{line:o.parentId,move:o.atMoveNode});return(a.isMainLine(o.id)||r)&&t.push(o),t}),[])):t},isFirstNodeInTree:function isFirstNodeInTree(t){return 0===t.line&&-1===t.move},isFirstVisibleNode:function isFirstVisibleNode(t,o){return a.isContinuation(t,o.line)?1===o.move:0===o.move},isFirstNodeInLine:function isFirstNodeInLine(t,o){return o&&t&&t[o.line]&&t[o.line][0]&&t[o.line][0].ids&&t[o.line][0].ids.line===o.line&&t[o.line][0].ids.move===o.move},isHead:function isHead(t,o){return o&&t[o.line].length-1===o.move||!1},getHeadIds:function getHeadIds(t,o){return{line:o,move:t[o].length-1}},nodeMatchesMove:function nodeMatchesMove(t,o,r){var i=a.getNode(t,o);return!!i&&(i.from===r.from&&i.to===r.to&&(i.promotion||null)===(r.promotion||null))},shouldMatchMove:function shouldMatchMove(t,o,r){return t&&1===o&&0===r},getNextMatchingNode:function getNextMatchingNode(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,i=a.getNode(t,o),l=a.getNode(t,o.line,o.move+1),c=t.reduce((function(t,o){return t.concat(o)}),[]).filter((function(t){return i&&t.moveNumber===i.moveNumber+1||l&&t.moveNumber===l.moveNumber})).filter((function(o){return!!(i&&o.ids.line===i.ids.line||l&&o.ids.line===l.ids.line)||(!!(i&&i.lines&&-1!==i.lines.indexOf(o.ids.line)&&a.isContinuation(t,o.ids.line))||!(!l||!l.lines||-1===l.lines.indexOf(o.ids.line)||a.isContinuation(t,o.ids.line)))})).filter((function(o){return a.nodeMatchesMove(t,o.ids,r)})).sort((function(t,o){return t.ids.line-o.ids.line}))[0];return c||null},clearNode:function clearNode(t,o){var r=a.getNode(t,o);return r?(delete r.comment,delete r.annotation,r):null},findNode:function findNode(t){var o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0,l=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(!t||void 0===r.line)return null;if("string"==typeof i)switch(r.move){case"begin":r.move=0;break;case"end":r.move=t[0].length-1}else if(void 0===r.move)return t[r.line];return i&&0!==Math.abs(i)&&(r=new Array(Math.abs(i)).fill(i/Math.abs(i)).reduce((function(r,i){if(null===r)return null;var c=a.isContinuation(t,r.line),u=a.getNextNodeIds(r,i);if(a.getNode(t,u)&&(-1!==i||!c||0!==u.move))return u;switch(i){case 1:return l?r:null!==(o=a.getNextContinuationLineId(t,r))?{line:o,move:1}:null;case-1:return u=c?a.getParentNodeIds(t,r):a.getNextNodeIds(a.getParentNodeIds(t,r),-1),a.getNode(t,u)?u:r;default:return null}}),r)),a.getNode(t,r)||null},clearNodeMarkings:function clearNodeMarkings(t,o){var r=a.getNode(t,o);return r?(delete r.squares,delete r.arrows,delete r.effects,r):null},clearNodeAnalysis:function clearNodeAnalysis(t,o){var r=a.getNode(t,o);return r?(delete r.comment,delete r.annotation,delete r.additionalAnnotation,r):null},clearAllMarkings:function clearAllMarkings(t){return t?(t.forEach((function(o){o.length>0&&o.forEach((function(o){return a.clearNodeMarkings(t,{line:o.ids.line,move:o.ids.move})}))})),t):null},clearAnalysis:function clearAnalysis(t){return t?(t.forEach((function(o){o.length>0&&o.forEach((function(o){return a.clearNodeAnalysis(t,{line:o.ids.line,move:o.ids.move})}))})),t):null}}},"./chessboard/src/game/move-list/helper.js":function(t,o,r){"use strict";r.d(o,"b",(function(){return l})),r.d(o,"c",(function(){return c})),r.d(o,"a",(function(){return u})),r.d(o,"d",(function(){return d}));var a=r("./web/core/api/move-list/config.js"),i=r("./chessboard/src/game/move-node/helper.js"),l=function hasTreeLines(t){return Boolean(t&&t.tree&&t.tree.lines)},c=function normalizePgnAnnotation(t){return Object.keys(a.c).forEach((function(o){t=t.replace(new RegExp("\\".concat(o,"\\b"),"gm"),Object(i.v)(o))})),t},u=function hasMoves(t){var o;return null==t||null===(o=t[0])||void 0===o?void 0:o.length},d=function updateScrollPosition(t){var o=t.moveIds,r=t.moveList,a=t.scrollEl;if(o&&r&&a){var i=r.getComponentRefByLineMove(o.line,o.move);if(i){var l=a.getBoundingClientRect(),c=i.$el?i.$el.getBoundingClientRect():i.getBoundingClientRect(),u=a.scrollTop,d=l.top+Math.floor(l.height/2)-c.top;a.scrollTop=u-d}}}},"./chessboard/src/game/move-node/helper.js":function(t,o,r){"use strict";r.d(o,"v",(function(){return c})),r.d(o,"a",(function(){return u})),r.d(o,"b",(function(){return d})),r.d(o,"o",(function(){return m})),r.d(o,"g",(function(){return p})),r.d(o,"h",(function(){return b})),r.d(o,"i",(function(){return g})),r.d(o,"j",(function(){return h})),r.d(o,"k",(function(){return _})),r.d(o,"l",(function(){return v})),r.d(o,"p",(function(){return y})),r.d(o,"n",(function(){return w})),r.d(o,"q",(function(){return j})),r.d(o,"r",(function(){return O})),r.d(o,"s",(function(){return S})),r.d(o,"t",(function(){return k})),r.d(o,"u",(function(){return C})),r.d(o,"c",(function(){return P})),r.d(o,"d",(function(){return x})),r.d(o,"f",(function(){return A})),r.d(o,"m",(function(){return T})),r.d(o,"e",(function(){return displayNumber}));var a=r("./chessboard/src/game/line.js"),i=r("./web/core/api/move-list/config.js"),l=r("./web/core/api/move-list/context-menu/config.js"),c=function normalizeAnnotation(t){return Object.prototype.hasOwnProperty.call(i.c,t)||Object.prototype.hasOwnProperty.call(i.b,t)?m(t)?i.c[t]:normalizeAnnotation(i.b[t]):t||""},u=function additionalAnnotationExists(t,o){return t.additionalAnnotation&&Array.isArray(t.additionalAnnotation)&&c(t.additionalAnnotation[0])===c(o)},d=function annotationExists(t,o){return c(t.annotation)===c(o)},m=function isNagFormat(t){return t&&"$"===t.charAt(0)},p=function hasAdditionalAnnotation(t){return t.additionalAnnotation&&t.additionalAnnotation[0]},b=function hasAnnotation(t){return Object.prototype.hasOwnProperty.call(t,"annotation")},g=function hasComment(t){return Boolean(t&&"string"==typeof t.comment)},h=function hasCommentBefore(t){return Boolean(t&&"string"==typeof t.commentBefore)},_=function hasLines(t){return Boolean(t&&t.lines&&t.lines.length)},v=function isEnPassant(t){return 4===t.flags},y=function isOnFirstLineOfParent(t,o){return t.ids.line===o.lines[0]},w=function isLastMoveOnLine(t,o){return t.ids.move===o.lines[t.ids.line].length-1},j=function isOnLastLineOfParent(t,o){return t.ids.line===o.lines[o.lines.length-1]},O=function isOnMainLine(t){return a.a.isMainLine(t.ids.line)},S=function nodeIsALimit(t,o,r){return Object.prototype.hasOwnProperty.call(t,r)&&Object.prototype.hasOwnProperty.call(t[r],"ids")&&t[r].ids.move===o.ids.move&&t[r].ids.line===o.ids.line},k=function nodeIsAfterNodeLimitEnd(t,o){var r=t[l.g.END];return!(!r||!Object.prototype.hasOwnProperty.call(r,"ids"))&&(o.ids.line>r.ids.line||o.ids.line===r.ids.line&&o.ids.move>r.ids.move)},C=function nodeIsBeforeLimitBegin(t,o){var r=t[l.g.BEGIN];return!(!r||!Object.prototype.hasOwnProperty.call(r,"ids"))&&(o.ids.line<t.begin.ids.line||o.ids.line===t.begin.ids.line&&o.ids.move<t.begin.ids.move)},P=function canBeDeleted(t,o){return!(o&&O(t))},x=function cleanCommentString(t){var o;return" "===(o=(o=t.replace(/<\/?[^>]+(>|$)/g,"")).replace(/&nbsp;/g," "))&&(o=""),o},A=function generateAnnotationString(t){var o,r,a="";return t.annotation&&(a="".concat(a).concat(c(t.annotation))),1===(null===(o=t.additionalAnnotation)||void 0===o?void 0:o.length)&&(a="".concat(a,"&nbsp;").concat(c(t.additionalAnnotation[0]))),(null===(r=t.additionalAnnotation)||void 0===r?void 0:r.length)>1&&(a="".concat(a,"&nbsp;").concat(c(t.additionalAnnotation.join("")))),a},T=function isFirstNodeOnFormattedLine(t){return 0===t.ids.move};function displayNumber(t,o){var r="";return function shouldShowDisplayNumber(t){return Boolean(t.isWhite||t.isFirstNodeOnLine||t.previousHasComment||t.previousHasLines)}(t)&&(r+="".concat(t.nodeMoveNumber+(o-1),"."),function shouldShowEllipsisOnBlackMoveNumber(t){return Boolean(!t.isWhite&&(t.previousHasComment||t.previousHasLines||t.isFirstNodeOnLine))}(t)&&(r+=".."),r+="&nbsp;"),r}},"./chessboard/src/game/state.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return m}));var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./chessboard/src/game/line.js"),c=r("./chessboard/src/game/game.lib.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var u={},d={q:9,r:5,b:3,n:3,p:1,k:0},m={getInitialSettings:function getInitialSettings(){return{variations:!1,analysis:!1,mainLineIsImmutable:!1,rules:!0,premoves:!1,GTM:!1}},getInitialSetup:function getInitialSetup(){return{ranks:8,files:8}},getInitialTree:function getInitialTree(){return{initialMarkings:{arrows:[],effects:[],squares:[]}}},getInitialMarkings:function getInitialMarkings(){return{arrows:[],blinkingSquares:[],effects:[],squares:[]}},clearState:function clearState(t){return t.setup=m.getInitialSetup(),t},updateState:function updateState(t){t.setup=Object.assign({},t.setup,c.a.getPositionInfo(t),c.a.getPositionDetails(t)),c.a.addExtraCastlingMoves(t),t.tree.lines=l.a.getLinesFromJce(t),t.tree.selected=t.jce.ids(),t.tree.selectedNode=l.a.getSelectedNode(t),t.setup.capturedPieces=m.getCapturedPieces(t.setup),t.setup.capturedScores=m.getCapturedScores(t.setup),t.setup.result=m.getResult(t),t.premoves=c.a.getPremoves(t),t.variant=c.a.getHeaders(t).Variant||t.variant,t.startingMoveNumber=t.setup.moveNumber;var o=l.a.getNode(t.tree.lines,c.a.getSelectedIds(t))||t.tree.initialMarkings;return o&&(t.markings.squares=o.squares?o.squares.map((function(t){return _objectSpread({},t)})):[],t.markings.arrows=o.arrows?o.arrows.map((function(t){return _objectSpread({},t)})):[],t.setup.effects?t.markings.effects=t.setup.effects:o.effects?t.markings.effects=o.effects.map((function(t){return _objectSpread({},t)})):t.markings.effects=[]),u[t.id]=!0,t.sibling&&!u[t.sibling.id]&&(t.sibling=m.updateState(t.sibling)),u={},t},getCapturedPieces:function getCapturedPieces(t){return t.pieces.reduce((function(t,o){if("k"===o.type)return t;var r=o.promoted?"p":o.type;return t[o.color-1][r]-=1,t}),[{p:8,n:2,b:2,r:2,q:1},{p:8,n:2,b:2,r:2,q:1}])},getCapturedScores:function getCapturedScores(t){return t.pieces.reduce((function(t,o){return t[o.color-1]+=d[o.type],t}),[0,0])},getResult:function getResult(t){var o=c.a.getHeaders(t).Result;return"*"!==o?o:t.setup.insufficient||t.setup.stalemate?"1/2-1/2":t.setup.gameOver&&!t.setup.draw?1===t.setup.sideToMove?"0-1":"1-0":"*"}}},"./chessboard/src/game/utils.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return u}));var a=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=r.n(a),l=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=r.n(l);function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){c()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var u={getId:function getId(t){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";return Array(t||20).fill().reduce((function(t){return t+o.charAt(Math.floor(Math.random()*o.length))}),"")},getInitialFen:function getInitialFen(){return"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"},formatJSTimestampForPgn:function formatJSTimestampForPgn(t){var o=new Date(t),r="0".concat(o.getUTCDate()).slice(-2),a="0".concat(o.getUTCMonth()+1).slice(-2);return"".concat(o.getFullYear(),"-").concat(a,"-").concat(r)},getSanFromFileRank:function getSanFromFileRank(t){return t&&t.file&&t.rank?String.fromCharCode(96+t.file)+t.rank.toString():null},getFileRankFromSan:function getFileRankFromSan(t){return t?{file:t.toLowerCase().charCodeAt(0)-96,rank:Number(t.charAt(1))}:null},getPieceAt:function getPieceAt(t,o){return t.setup.pieces.find((function(t){return t.file===o.file&&t.rank===o.rank}))},cloneGame:function cloneGame(t){return{id:t.id,variant:t.variant,jce:t.jce,tree:u.cloneTree(t.tree),setup:JSON.parse(JSON.stringify(t.setup)),markings:_objectSpread({},t.markings),settings:_objectSpread({},t.settings),history:i()(t.history),premoves:t.premoves.map((function(t){return JSON.parse(JSON.stringify(t))}))}},cloneTree:function cloneTree(t){return _objectSpread(_objectSpread({},t),{},{initialMarkings:JSON.parse(JSON.stringify(t.initialMarkings)),selected:_objectSpread({},t.selected),selectedNode:t.selectedNode?_objectSpread(_objectSpread({},t.selectedNode),{},{ids:_objectSpread({},t.selectedNode.ids),hash:i()(t.selectedNode.hash),lines:t.selectedNode.lines&&i()(t.selectedNode.lines),arrows:t.selectedNode.arrows&&i()(t.selectedNode.arrows)}):null})},getFirstFen:function getFirstFen(t){return t.tree.lines[0].length?t.tree.lines[0][0].beforeFen:t.setup.fen}}},"./core/chat/config/events.ts":function(t,o,r){"use strict";var a;r.d(o,"a",(function(){return a})),function(t){t.CHAT_LOAD_USER_POPOVER_BUNDLE="chat-load-user-popover-bundle",t.INIT_CHESS_TV_CHAT="init-chess-tv-chat",t.INIT_CLUB_CHAT="init-club-chat",t.INIT_EVENT_CHAT="init-event-chat"}(a||(a={}))},"./core/navigation/api/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i})),r.d(o,"b",(function(){return l})),r.d(o,"c",(function(){return c})),r.d(o,"d",(function(){return u})),r.d(o,"e",(function(){return d})),r.d(o,"f",(function(){return m})),r.d(o,"g",(function(){return p}));var a=r("./utils/router.js"),i={amplitudeProps:"data-amplitude-props",speedChessChampionshipUrl:"data-speed-chess-championship-url",challengeUser:"data-challenge-user",loginAndGoRoute:"data-route-login-and-go",registerRoute:"data-route-register",routes:"data-routes"},l={CLUB_CHAT_MODERATOR_ACTION:"club-chat-moderator-action",CLOSE_SHAREABLE_URL_MODAL:"CLOSE_SHAREABLE_URL_MODAL",MODAL_DID_HIDE:"MODAL_DID_HIDE",OPEN_SHAREABLE_URL_MODAL:"OPEN_SHAREABLE_URL_MODAL",OPEN_SHAREABLE_URL_MODAL_FAILED:"OPEN_SHAREABLE_URL_MODAL_FAILED",SEND_NEW_GAME_SEEK:"SEND_NEW_GAME_SEEK",SEND_NEW_GAME_SEEK_SUCCESS:"SEND_NEW_GAME_SEEK_SUCCESS",SHOW_UPGRADE_MODAL:"SHOW_UPGRADE_MODAL",START_DIRECT_CHAT:"START_DIRECT_CHAT"},c={ANY:"any",DEFAULT_AND_USER:"default_and_user"},u={MOBILE_WIDTH:960,TOOLTIP_OFFSET:8},d={registerRoute:function registerRoute(t){return a.a.generate("web_security_register",{redirectUrl:t})},loginAndGoRoute:function loginAndGoRoute(t){return a.a.generate("web_security_login_and_go",{redirectUrl:t})}},m={FRIEND_RESULTS:".svelte-friend-result",LESSONS_CONTAINER:".lessons-container",LOGOUT_FORM:".form.logout",LOGOUT_TRIGGER:"#sb .logout",MAIN_NAV:"#sb",MAIN_NAV_CONNECT_LINK:"#sb .link.connect",MAIN_NAV_HOME_LINK:"#sb .link.home",MAIN_NAV_LINKS:"#sb .menu > .link",MAIN_NAV_LOGIN_LINK:"#sb .login",MAIN_NAV_PLAY_LINK:"#sb .link.play",MAIN_NAV_REGISTER_LINK:".signup.register",MAIN_TOP_NAV:"#sb .menu.top",MAIN_TOP_NAV_LINKS:"#sb .menu.top > .link",SEARCH_INPUT:'input[name="q"]',SIGN_UP:".signup",TOOLTIP:".svelte-tooltip",TOOLTIP_TRIGGER:"[data-tooltip-content]"},p={FACEBOOK:"facebook",TWITTER:"twitter"}},"./core/navigation/config/targets.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./core/navigation/config/targets.js")},"./core/utils/dom/copy-to-clipboard.js":function(t,o,r){"use strict";function copyInputValueToBuffer(t){t&&(t.focus({preventScroll:!0}),t.select(),document.execCommand("copy"))}r.d(o,"b",(function(){return copyInputValueToBuffer})),r.d(o,"a",(function(){return a}));var a=function copyCustomValueToClipboard(t){var o=document.createElement("input");o.value=t,document.body.appendChild(o),copyInputValueToBuffer(o),document.body.removeChild(o)}},"./core/utils/dom/has-touch.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a}));var a="ontouchstart"in window||window.navigator.maxTouchPoints>0||window.navigator.msMaxTouchPoints>0||/firefox/i.test(window.navigator.userAgent)&&"TouchEvent"in window},"./core/utils/features/constants.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a}));var a={ADMIN_USER_LIVE_CHESS_PRIORITY:"data-admin-user-live-chess-priority",ANALYSIS_GAME_PGN_SUPPORT:"data-feature-game-analysis-support-for-game-pgn",ADS_PLAYWIRE_INTEGRATION:"data-feature-ads-playwire-integration",CHESSBOARD_BETA:"data-feature-chessboard-beta",CHESSBOARD_REPORTING_PLUGIN:"data-feature-chessboard-reporting-plugin",CHESS_TODAY:"data-feature-chess-today",CHESS_VARIANTS:"data-feature-chess-variants",DE_NEW_CHESSBOARD:"data-diagram-editor-new-chessboard-migration",EVENTS_REDIRECT:"data-feature-events-redirect",GAME_OF_THE_DAY:"data-feature-game-of-the-day-widget",IS_LIVE:"data-is-live",IS_NOT_MESSAGEABLE_REASON:"data-feature-is-not-messageable-reason",LEADERBOARD_TREND:"data-feature-leaderboard-trend",LESSONS_BOOKMARKS:"data-feature-lessons-bookmarks",LIBRARY:"data-feature-library",MULTI_PGN_VIEWER:"data-feature-multi-pgn-viewer",FORM_CHIPS_NEW_DS:"data-feature-form-chips-new-ds",NEW_GAME_MODAL_USE_PLAY_ONLINE:"data-new-game-modal-use-play-online",PAGE_WITH_NEW_CHESSBOARD_AND_DIAGRAMS_IN_COMMENTS:"data-feature-page-with-new-chessboard-and-diagrams-in-comments",PAYMENTS_PURCHASE_WITH_TAX:"data-feature-payments-purchase-with-tax",PGN_ANNOTATIONS:"data-feature-pgn-annotation-for-download",PLATFORM_USER_NOTICES:"data-feature-platform-user-notices",PLAY_ONLINE:"data-feature-play-online",PLAY_RCN:"data-feature-play-rcn",PAYMENTS_PAYU_REDIRECT:"data-feature-payments-payu-redirect",PUZZLE_RESET:"data-feature-puzzle-reset",PUZZLE_RUSH_LEADERBOARD_FIX:"data-feature-puzzle-rush-leaderboard-fix",OLD_BOARD_IMAGE_SIZE_150:"data-feature-old-board-image-size-150",REGISTER_FACEBOOK:"data-feature-register-facebook",REDIRECT_TO_WEB_PAGE_PLAY:"data-feature-redirect-to-web-page-play",SEO_EXIT_RETENTION_MODAL:"data-feature-seo-exit-retention-modal",SEO_FIRST_TIME_MODAL:"data-feature-seo-first-time-modal",V5_NEW_FRIENDS_REDESIGN:"data-feature-v5-new-friends-redesign",V5_NEW_CLUBS_PAGES:"data-feature-v5-new-clubs-pages",V5_PROFILE_HEADER:"data-feature-v5-profile-header"}},"./core/utils/features/index.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return c}));var a=r("./core/navigation/config/targets.js"),i={},l=document.getElementById(a.targets.NAV_ROOT),c=function hasFeatureAccess(t,o){var r=o||l;return i[t]||(i[t]=Boolean(r&&r.getAttribute(t))),i[t]}},"./live/src/es6/browser/window.js":function(t,o,r){"use strict";(function(t){var r="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{};o.a=r}).call(this,r("./node_modules/webpack/buildin/global.js"))},"./live/src/es6/core/timer.utils.js":function(t,o,r){"use strict";var a=r("./live/src/es6/browser/window.js"),i={};["setTimeout","setInterval","clearTimeout","clearInterval"].forEach((function(t){i[t]=a.a[t].bind(a.a)})),o.a=i},"./live/src/es6/core/type.utils.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/typeof.js"),i=r.n(a);function isNull(t){return null===t}function isUndefined(t){return void 0===t}function isObject(t){return!isNull(t)&&"object"===i()(t)}o.a={isString:function isString(t){return"string"==typeof t},isFunction:function isFunction(t){return"function"==typeof t},isNumber:function isNumber(t){return"number"==typeof t},isNil:function isNil(t){return isNull(t)||isUndefined(t)},isObject:isObject,isPlainObject:function isPlainObject(t){return!!isObject(t)&&(t.constructor&&"Object"===t.constructor.name)},isArray:function isArray(t){return Array.isArray(t)},isError:function isError(t){if(!isObject(t))return!1;var o=Object.prototype.toString.call(t);return"[object Error]"===o||"[object DOMException]"===o},isUndefined:isUndefined}},"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(t,o){t.exports=function _arrayWithHoles(t){if(Array.isArray(t))return t}},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":function(t,o){function asyncGeneratorStep(t,o,r,a,i,l,c){try{var u=t[l](c),d=u.value}catch(m){return void r(m)}u.done?o(d):Promise.resolve(d).then(a,i)}t.exports=function _asyncToGenerator(t){return function(){var o=this,r=arguments;return new Promise((function(a,i){var l=t.apply(o,r);function _next(t){asyncGeneratorStep(l,a,i,_next,_throw,"next",t)}function _throw(t){asyncGeneratorStep(l,a,i,_next,_throw,"throw",t)}_next(void 0)}))}}},"./node_modules/@babel/runtime/helpers/classCallCheck.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/@babel/runtime/helpers/classCallCheck.js")},"./node_modules/@babel/runtime/helpers/createClass.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/@babel/runtime/helpers/createClass.js")},"./node_modules/@babel/runtime/helpers/defineProperty.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/@babel/runtime/helpers/defineProperty.js")},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(t,o){t.exports=function _iterableToArrayLimit(t,o){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var r=[],a=!0,i=!1,l=void 0;try{for(var c,u=t[Symbol.iterator]();!(a=(c=u.next()).done)&&(r.push(c.value),!o||r.length!==o);a=!0);}catch(d){i=!0,l=d}finally{try{a||null==u.return||u.return()}finally{if(i)throw l}}return r}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(t,o){t.exports=function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(t,o,r){var a=r("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),i=r("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),l=r("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),c=r("./node_modules/@babel/runtime/helpers/nonIterableRest.js");t.exports=function _slicedToArray(t,o){return a(t)||i(t,o)||l(t,o)||c()}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/@babel/runtime/helpers/toConsumableArray.js")},"./node_modules/@babel/runtime/helpers/typeof.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/@babel/runtime/helpers/typeof.js")},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js")},"./node_modules/@babel/runtime/regenerator/index.js":function(t,o,r){t.exports=r("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/less-loader/dist/cjs.js!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/marked-arrow.vue?vue&type=style&index=0&lang=less&":function(t,o,r){},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/coordinates.vue?vue&type=style&index=0&lang=scss&":function(t,o,r){},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/custom-item.vue?vue&type=style&index=0&lang=scss&":function(t,o,r){},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/marked-effect.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={effect:"marked-effect-effect"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./chessboard/src/components/chessboard/standalone/default/chessboard.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-follow.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comment-follow-component"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-form-guest.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comment-form-guest-component",btn:"comment-form-guest-btn"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-form-inactive.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comment-form-inactive-component",info:"comment-form-inactive-info",link:"comment-form-inactive-link",alert:"comment-form-inactive-alert"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-form-post.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comment-form-post-component",editor:"comment-form-post-editor",actions:"comment-form-post-actions",button:"comment-form-post-button"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-actions.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comment-post-actions-component",time:"comment-post-actions-time",button:"comment-post-actions-button",icon:"comment-post-actions-icon",blue:"comment-post-actions-blue",number:"comment-post-actions-number",link:"comment-post-actions-link"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-body.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comment-post-body-component"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-delete.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={icon:"comment-post-delete-icon"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-report-spam.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={icon:"comment-post-report-spam-icon"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comment-post-component","chosen-comment":"comment-post-chosen-comment",avatar:"comment-post-avatar",meta:"comment-post-meta",username:"comment-post-username",tagline:"comment-post-tagline",body:"comment-post-body","component-v5":"comment-post-component-v5"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/forms/form-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"form-button-component",dark:"form-button-dark","x-small":"form-button-x-small",small:"form-button-small",large:"form-button-large","x-large":"form-button-x-large","full-width":"form-button-full-width",basic:"form-button-basic",darkMode:"form-button-darkMode","basic-with-dark-mode":"form-button-basic-with-dark-mode",primary:"form-button-primary",info:"form-button-info",danger:"form-button-danger"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/forms/form-checkbox.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"form-checkbox-component",label:"form-checkbox-label",checkbox:"form-checkbox-checkbox"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/forms/form-input.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"form-input-component",darkMode:"form-input-darkMode",input:"form-input-input",textarea:"form-input-textarea",wrapper:"form-input-wrapper",icon:"form-input-icon",left:"form-input-left",right:"form-input-right",large:"form-input-large","x-large":"form-input-x-large"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/icons/icon-font.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"icon-font-component",primary:"icon-font-primary",darkMode:"icon-font-darkMode",secondary:"icon-font-secondary",tertiary:"icon-font-tertiary",chess:"icon-font-chess",captured:"icon-font-captured"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/loaders/loader-three-bounce.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"loader-three-bounce-component",circle:"loader-three-bounce-circle",dot:"loader-three-bounce-dot",animate:"loader-three-bounce-animate",bounce1:"loader-three-bounce-bounce1",bounce2:"loader-three-bounce-bounce2"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/modals/modal-container.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"modal-container-component","parent-centered":"modal-container-parent-centered",bg:"modal-container-bg",enter:"modal-container-enter",leave:"modal-container-leave","content-centered":"modal-container-content-centered"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/modals/modal-content.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"modal-content-component"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination-button-v5.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={content:"pagination-button-v5-content",icon:"pagination-button-v5-icon",disabled:"pagination-button-v5-disabled",active:"pagination-button-v5-active"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"pagination-button-component",icon:"pagination-button-icon",content:"pagination-button-content",disabled:"pagination-button-disabled",active:"pagination-button-active"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination-spread.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"pagination-spread-component",v5:"pagination-spread-v5",content:"pagination-spread-content"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"pagination-component",results:"pagination-results",wrapper:"pagination-wrapper",pagination:"pagination-pagination",first:"pagination-first",prev:"pagination-prev",last:"pagination-last",next:"pagination-next",top:"pagination-top"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/sections/section-container.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"section-container-component",visible:"section-container-visible"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/sections/section-title.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"section-title-component","has-icon":"section-title-has-icon",darkMode:"section-title-darkMode",icon:"section-title-icon",name:"section-title-name","name-v5":"section-title-name-v5"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/social/social-share.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"social-share-component",transparent:"social-share-transparent",background:"social-share-background",preloader:"social-share-preloader",expanded:"social-share-expanded",primary:"social-share-primary",link:"social-share-link",icon:"social-share-icon",secondary:"social-share-secondary",visible:"social-share-visible",facebook:"social-share-facebook",twitter:"social-share-twitter",reddit:"social-share-reddit",google:"social-share-google",share:"social-share-share"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/tinymce/tinymce.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"tinymce-component","component-support-dark-mode":"tinymce-component-support-dark-mode"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/admin-actions.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"admin-actions-component",separator:"admin-actions-separator"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/analysis-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"analysis-options-dropdown-component",close:"analysis-options-dropdown-close",title:"analysis-options-dropdown-title"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/chat-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"chat-options-dropdown-component",close:"chat-options-dropdown-close",title:"chat-options-dropdown-title"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/icon-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={link:"icon-button-link",icon:"icon-button-icon",label:"icon-button-label",blue:"icon-button-blue",grey:"icon-button-grey",red:"icon-button-red"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/icon-link.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={link:"icon-link-link",icon:"icon-link-icon",label:"icon-link-label",blue:"icon-link-blue",grey:"icon-link-grey",red:"icon-link-red"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/labeled-icon-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={link:"labeled-icon-button-link",icon:"labeled-icon-button-icon",label:"labeled-icon-button-label",blue:"labeled-icon-button-blue",grey:"labeled-icon-button-grey",red:"labeled-icon-button-red"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/labeled-icon-link.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={link:"labeled-icon-link-link",icon:"labeled-icon-link-icon",label:"labeled-icon-link-label",blue:"labeled-icon-link-blue",grey:"labeled-icon-link-grey",red:"labeled-icon-link-red"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/online-status.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"online-status-component",online:"online-status-online",live:"online-status-live"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-actions.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-actions-component","icons-list":"user-actions-icons-list",more:"user-actions-more",caret:"user-actions-caret",buttonsList:"user-actions-buttonsList"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-avatar.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-avatar-component",link:"user-avatar-link",image:"user-avatar-image"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-chess-title.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-chess-title-component"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-flair-icon.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-flair-icon-component"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-flair-status.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-flair-status-component"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-membership-icon.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-membership-icon-component","level-30":"user-membership-icon-level-30",gold:"user-membership-icon-gold","level-40":"user-membership-icon-level-40",platinum:"user-membership-icon-platinum","level-50":"user-membership-icon-level-50",diamond:"user-membership-icon-diamond","level-90":"user-membership-icon-level-90",staff:"user-membership-icon-staff","level-80":"user-membership-icon-level-80",mod:"user-membership-icon-mod",moderator:"user-membership-icon-moderator","level-5":"user-membership-icon-level-5","level-8":"user-membership-icon-level-8",cheater:"user-membership-icon-cheater",unspecifiedClosed:"user-membership-icon-unspecifiedClosed","level-6":"user-membership-icon-level-6",abuser:"user-membership-icon-abuser","level-7":"user-membership-icon-level-7",voluntarilyClosed:"user-membership-icon-voluntarilyClosed","level-10":"user-membership-icon-level-10",basic:"user-membership-icon-basic",level:"user-membership-icon-level",middle:"user-membership-icon-middle",large:"user-membership-icon-large",responsive:"user-membership-icon-responsive","x-large":"user-membership-icon-x-large"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={popover:"user-popover-popover",bottom:"user-popover-bottom",top:"user-popover-top",component:"user-popover-component","avatar-placeholder":"user-popover-avatar-placeholder",profile:"user-popover-profile",meta:"user-popover-meta",info:"user-popover-info",onlive:"user-popover-onlive",online:"user-popover-online",status:"user-popover-status",details:"user-popover-details",secondary:"user-popover-secondary",loader:"user-popover-loader",actions:"user-popover-actions",ratings:"user-popover-ratings",confirm:"user-popover-confirm","moderator-message":"user-popover-moderator-message"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-rating.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-rating-component",icon:"user-rating-icon",rating:"user-rating-rating"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-tagline.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-tagline-component",username:"user-tagline-username","not-clickable":"user-tagline-not-clickable",rating:"user-tagline-rating",darkMode:"user-tagline-darkMode",dark:"user-tagline-dark"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-username.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"user-username-component",link:"user-username-link",gray:"user-username-gray",blue:"user-username-blue",lightgray:"user-username-lightgray",current:"user-username-current",dark:"user-username-dark","blue-with-dark-mode":"user-username-blue-with-dark-mode","blue-to-water":"user-username-blue-to-water"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/comments/comments-base.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"comments-base-component","component-v5":"comments-base-component-v5","rounded-top":"comments-base-rounded-top",content:"comments-base-content",loader:"comments-base-loader",pagination:"comments-base-pagination",form:"comments-base-form",guest:"comments-base-guest",inactive:"comments-base-inactive",explanation:"comments-base-explanation","social-share":"comments-base-social-share","locked-comments":"comments-base-locked-comments",item:"comments-base-item"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/modals/confirm-popover-inline.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={component:"confirm-popover-inline-component",inner:"confirm-popover-inline-inner",top:"confirm-popover-inline-top",right:"confirm-popover-inline-right",bottom:"confirm-popover-inline-bottom",left:"confirm-popover-inline-left",message:"confirm-popover-inline-message",buttons:"confirm-popover-inline-buttons",button:"confirm-popover-inline-button"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/modals/confirm-popover.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={modal:"confirm-popover-modal",messageLabel:"confirm-popover-messageLabel",buttons:"confirm-popover-buttons",regular:"confirm-popover-regular","button-v5":"confirm-popover-button-v5"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){t.exports={"placeholder-popover":"user-popover-placeholder-popover",bottom:"user-popover-bottom",top:"user-popover-top","placeholder-component":"user-popover-placeholder-component","placeholder-profile":"user-popover-placeholder-profile","placeholder-avatar":"user-popover-placeholder-avatar","placeholder-info":"user-popover-placeholder-info"}},"./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/sections/section-explanation.vue?vue&type=style&index=0&module=true&lang=css&":function(t,o,r){t.exports={component:"section-explanation-component"}},"./node_modules/@chesscom/web-ui/dist/ui/vue/index.js":function(t,o,r){!function webpackUniversalModuleDefinition(o,r){t.exports=r()}("undefined"!=typeof self&&self,(function(){return function(t){var o={};function __webpack_require__(r){if(o[r])return o[r].exports;var a=o[r]={i:r,l:!1,exports:{}};return t[r].call(a.exports,a,a.exports,__webpack_require__),a.l=!0,a.exports}return __webpack_require__.m=t,__webpack_require__.c=o,__webpack_require__.d=function(t,o,r){__webpack_require__.o(t,o)||Object.defineProperty(t,o,{enumerable:!0,get:r})},__webpack_require__.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},__webpack_require__.t=function(t,o){if(1&o&&(t=__webpack_require__(t)),8&o)return t;if(4&o&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(__webpack_require__.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&o&&"string"!=typeof t)for(var a in t)__webpack_require__.d(r,a,function(o){return t[o]}.bind(null,a));return r},__webpack_require__.n=function(t){var o=t&&t.__esModule?function getDefault(){return t.default}:function getModuleExports(){return t};return __webpack_require__.d(o,"a",o),o},__webpack_require__.o=function(t,o){return Object.prototype.hasOwnProperty.call(t,o)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=106)}([function(t,o,r){"use strict";function normalizeComponent(t,o,r,a,i,l,c,u){var d,m="function"==typeof t?t.options:t;if(o&&(m.render=o,m.staticRenderFns=r,m._compiled=!0),a&&(m.functional=!0),l&&(m._scopeId="data-v-"+l),c?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},m._ssrRegister=d):i&&(d=u?function(){i.call(this,this.$root.$options.shadowRoot)}:i),d)if(m.functional){m._injectStyles=d;var p=m.render;m.render=function renderWithStyleInjection(t,o){return d.call(o),p(t,o)}}else{var b=m.beforeCreate;m.beforeCreate=b?[].concat(b,d):[d]}return{exports:t,options:m}}r.d(o,"a",(function(){return normalizeComponent}))},function(t,o){t.exports=function(t){if(!t.webpackPolyfill){var o=Object.create(t);o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),Object.defineProperty(o,"exports",{enumerable:!0}),o.webpackPolyfill=1}return o}},function(t,o,r){"use strict";(function(t){var a=r(68),i=r(31),l=r(48),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/icon-font/icon-font.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";var a=r(21),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";(function(t){var a=r(67),i=r(27),l=r(47),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/button/button.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){t.exports={component:"ui_button-component",button:"ui_button-button",dark:"ui_button-dark",primary:"ui_button-primary",active:"ui_button-active","x-small":"ui_button-x-small",small:"ui_button-small",large:"ui_button-large","x-large":"ui_button-x-large",full:"ui_button-full"}},function(t,o,r){t.exports={component:"ui_icon-font-component"}},function(t,o,r){t.exports={component:"ui_message-list-item-component",avatar:"ui_message-list-item-avatar",content:"ui_message-list-item-content","username-date":"ui_message-list-item-username-date",date:"ui_message-list-item-date",preview:"ui_message-list-item-preview"}},function(t,o,r){t.exports={component:"ui_modal-content-component",content:"ui_modal-content-content"}},function(t,o,r){t.exports={component:"ui_outside-close-component",icon:"ui_outside-close-icon"}},function(t,o,r){t.exports={component:"ui_modal-header-component","dark-mode":"ui_modal-header-dark-mode",icon:"ui_modal-header-icon"}},function(t,o,r){"use strict";(function(t){var a=r(74),i=r(26),l=r(53),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/modal/modal.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){t.exports={component:"ui_modal-component",footer:"ui_modal-footer",header:"ui_modal-header","rounded-sm":"ui_modal-rounded-sm","rounded-lg":"ui_modal-rounded-lg",body:"ui_modal-body",content:"ui_modal-content","parent-centered":"ui_modal-parent-centered",bg:"ui_modal-bg","bg-dark":"ui_modal-bg-dark","bg-transparent":"ui_modal-bg-transparent",enter:"ui_modal-enter",leave:"ui_modal-leave",xs:"ui_modal-xs",sm:"ui_modal-sm",md:"ui_modal-md",lg:"ui_modal-lg",xl:"ui_modal-xl"}},function(t,o,r){t.exports={component:"ui_modal-puzzle-component","close-button":"ui_modal-puzzle-close-button",header:"ui_modal-puzzle-header",title:"ui_modal-puzzle-title",subtitle:"ui_modal-puzzle-subtitle",modes:"ui_modal-puzzle-modes",mode:"ui_modal-puzzle-mode",arrow:"ui_modal-puzzle-arrow",rated:"ui_modal-puzzle-rated",learning:"ui_modal-puzzle-learning",rush:"ui_modal-puzzle-rush",description:"ui_modal-puzzle-description",footer:"ui_modal-puzzle-footer",bullets:"ui_modal-puzzle-bullets",modal:"ui_modal-puzzle-modal",content:"ui_modal-puzzle-content"}},function(t,o,r){t.exports={component:"ui_pagination-component",wrapper:"ui_pagination-wrapper",pagination:"ui_pagination-pagination",first:"ui_pagination-first",prev:"ui_pagination-prev",last:"ui_pagination-last",next:"ui_pagination-next",spread:"ui_pagination-spread",top:"ui_pagination-top"}},function(t,o,r){t.exports={component:"ui_section-container-component",heading:"ui_section-container-heading",black:"ui_section-container-black",grey:"ui_section-container-grey","light-grey":"ui_section-container-light-grey",green:"ui_section-container-green",red:"ui_section-container-red",white:"ui_section-container-white",dark:"ui_section-container-dark",title:"ui_section-container-title",normal:"ui_section-container-normal",large:"ui_section-container-large",content:"ui_section-container-content",link:"ui_section-container-link"}},function(t,o,r){t.exports={component:"ui_section-link-component","dark-mode":"ui_section-link-dark-mode",name:"ui_section-link-name",icon:"ui_section-link-icon",chevron:"ui_section-link-chevron","header-count":"ui_section-link-header-count"}},function(t,o,r){t.exports={component:"ui_section-tabs-component","dark-mode":"ui_section-tabs-dark-mode",tab:"ui_section-tabs-tab",active:"ui_section-tabs-active",icon:"ui_section-tabs-icon",label:"ui_section-tabs-label"}},function(t,o,r){t.exports={component:"ui_sortable-list-item-component",main:"ui_sortable-list-item-main",checkbox:"ui_sortable-list-item-checkbox",title:"ui_sortable-list-item-title",name:"ui_sortable-list-item-name",controls:"ui_sortable-list-item-controls",gear:"ui_sortable-list-item-gear",arrows:"ui_sortable-list-item-arrows",arrow:"ui_sortable-list-item-arrow",settings:"ui_sortable-list-item-settings","check-list-item":"ui_sortable-list-item-check-list-item","select-item":"ui_sortable-list-item-select-item","select-item-dropdown":"ui_sortable-list-item-select-item-dropdown","select-item-disabled":"ui_sortable-list-item-select-item-disabled","select-item-slot":"ui_sortable-list-item-select-item-slot","select-item-caret":"ui_sortable-list-item-select-item-caret","select-item-select":"ui_sortable-list-item-select-item-select","gear-wrapper":"ui_sortable-list-item-gear-wrapper","gear-select":"ui_sortable-list-item-gear-select"}},function(t,o,r){t.exports={component:"ui_user-username-component"}},function(t,o,r){t.exports={component:"ui_v5-button-component",primary:"ui_v5-button-primary",large:"ui_v5-button-large",secondary:"ui_v5-button-secondary",tertiary:"ui_v5-button-tertiary",danger:"ui_v5-button-danger",basic:"ui_v5-button-basic","basic-dark":"ui_v5-button-basic-dark","basic-light":"ui_v5-button-basic-light",pagination:"ui_v5-button-pagination","extra-padding":"ui_v5-button-extra-padding",small:"ui_v5-button-small","x-small":"ui_v5-button-x-small",full:"ui_v5-button-full",icon:"ui_v5-button-icon",disabled:"ui_v5-button-disabled",active:"ui_v5-button-active"}},function(t,o,r){t.exports={"component-dark":"ui_v5-input-component-dark",component:"ui_v5-input-component","component-light":"ui_v5-input-component-light",large:"ui_v5-input-large",icon:"ui_v5-input-icon",input:"ui_v5-input-input","input-adv":"ui_v5-input-input-adv",left:"ui_v5-input-left",right:"ui_v5-input-right",button:"ui_v5-input-button"}},function(t,o,r){t.exports={"component-dark":"ui_v5-select-component-dark",component:"ui_v5-select-component","component-light":"ui_v5-select-component-light",large:"ui_v5-select-large"}},function(t,o,r){t.exports={component:"ui_v5-sidebar-component",header:"ui_v5-sidebar-header","compact-header":"ui_v5-sidebar-compact-header","title-wrapper":"ui_v5-sidebar-title-wrapper",title:"ui_v5-sidebar-title",logo:"ui_v5-sidebar-logo","action-icon":"ui_v5-sidebar-action-icon",left:"ui_v5-sidebar-left",right:"ui_v5-sidebar-right",tabs:"ui_v5-sidebar-tabs",content:"ui_v5-sidebar-content"}},function(t,o,r){t.exports={component:"ui_v5-switch-component",checkbox:"ui_v5-switch-checkbox",label:"ui_v5-switch-label",readonly:"ui_v5-switch-readonly",button:"ui_v5-switch-button",group:"ui_v5-switch-group"}},function(t,o,r){t.exports={"component-dark":"ui_v5-textarea-component-dark",component:"ui_v5-textarea-component","component-light":"ui_v5-textarea-component-light",small:"ui_v5-textarea-small",large:"ui_v5-textarea-large","x-large":"ui_v5-textarea-x-large"}},function(t,o,r){"use strict";var a,i;!function(t){!function(t){t.DidHide="modal-did-hide"}(t.Events||(t.Events={}))}(a||(a={})),function(t){!function(t){t[t.Backspace=8]="Backspace",t[t.Delete=46]="Delete",t[t.DownArrow=40]="DownArrow",t[t.Enter=13]="Enter",t[t.Escape=27]="Escape",t[t.LeftArrow=37]="LeftArrow",t[t.RightArrow=39]="RightArrow",t[t.Spacebar=32]="Spacebar",t[t.Stop=137]="Stop",t[t.Tab=9]="Tab",t[t.UpArrow=38]="UpArrow"}(t.KeyCodes||(t.KeyCodes={}))}(i||(i={}));var l={name:"Modal",props:{autoShow:{type:Boolean,default:!1},closeOnAction:{type:Boolean,default:!0},centerOverParent:{type:Boolean,default:!1},isTransparent:{type:Boolean,default:!1},corners:{type:String,default:null},modalWidth:{type:String,default:null}},data:function data(){return{visible:!1}},mounted:function mounted(){this.closeOnAction&&window.addEventListener("keyup",this.onKeyPress),this.autoShow&&this.show()},beforeUnmount:function beforeUnmount(){this.closeOnAction&&window.removeEventListener("keyup",this.onKeyPress)},methods:{hide:function hide(){this.visible=!1,this.$emit(a.Events.DidHide)},onBackgroundClick:function onBackgroundClick(t){this.closeOnAction&&this.$refs.body&&!this.$refs.body.contains(t.target)&&this.hide()},onKeyPress:function onKeyPress(t){t.keyCode===i.KeyCodes.Escape&&this.hide()},show:function show(){this.visible=!0}}};o.a=l},function(t,o,r){"use strict";var a;!function(t){!function(t){!function(t){t.Base="button",t.IgnoreDarkMode="ignore-dark-mode"}(t.Classes||(t.Classes={})),function(t){t.Large="large",t.Small="small",t.Xl="x-large"}(t.Sizes||(t.Sizes={})),function(t){t.Primary="primary"}(t.Themes||(t.Themes={}))}(t.Component||(t.Component={}))}(a||(a={}));var i={name:"FormButton",props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},href:{default:null,type:String,required:!1},size:{type:String,required:!1,default:a.Component.Sizes.Large},theme:{type:String,default:""},type:{type:String,default:"button"}},methods:{handleClick:function handleClick(t){this.$emit("click",t),t.stopPropagation(),this.href&&(window.location=this.href)}}};o.a=i},function(t,o,r){"use strict";var a={name:"MessageListItem",props:{avatarSrc:{type:String,required:!0},date:{type:String,required:!0},preview:{type:String,required:!0}},methods:{pixelDensity:function pixelDensity(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!t)return null;var r="@2x";return/\.svg$/.test(t)?t:([1.5,3,4].includes(o)&&(r="@".concat(o,"x")),t.replace(/(\.\w+)$/,(function(t){return r+t})))}}};o.a=a},function(t,o,r){"use strict";var a,i=r(4),l=r(2);!function(t){!function(t){t.Page="page"}(t.QueryStringParams||(t.QueryStringParams={}))}(a||(a={}));var c={Types:a,name:"Pagination",components:{FormButton:i.a,IconFont:l.a},props:{currentPage:{type:Number,required:!0},pages:{type:Array,required:!0},tabLimit:{type:Number,default:4},totalPages:{type:Number,required:!0},scrollTo:{default:"",type:String,required:!1},paginationQuery:{type:String,default:a.QueryStringParams.Page}},computed:{lastPageIsHidden:function lastPageIsHidden(){return!this.pages.includes(this.totalPages)},showLowerEllipsis:function showLowerEllipsis(){return this.currentPage>1&&-1===this.pages.indexOf(1)},showUpperEllipsis:function showUpperEllipsis(){return this.lastPageIsHidden},showTopButton:function showTopButton(){return this.scrollTo||!1}},methods:{isSamePage:function isSamePage(t){return this.currentPage===t},goToPageNumber:function goToPageNumber(t){return this.isSamePage(t)?"Current Page, Page ".concat(t):"Page ".concat(t)},goToTop:function goToTop(){var t=document.getElementById(this.scrollTo)||null;t&&t.scrollIntoView({behavior:"smooth",block:"start"})},commitChangePage:function commitChangePage(t){this.$emit("change-page",t)}}};o.a=c},function(t,o,r){"use strict";var a,i,l={};r.r(l),r.d(l,"ListTypes",(function(){return a})),r.d(l,"PositionDirections",(function(){return i})),function(t){t.CheckList="check-list",t.SelectList="select-list"}(a||(a={})),function(t){t.Down="down",t.Up="up"}(i||(i={}));var c={Types:l,name:"SortableListItem",props:{checkListItems:{default:function _default(){return[]},type:Array},enabled:{required:!0,type:Boolean},gearOptions:{default:function _default(){return[]},type:Array},gearValue:{default:0,type:Number},isDownArrowDisabled:{default:!1,type:Boolean},isUpArrowDisabled:{default:!1,type:Boolean},listType:{default:"",type:String},name:{required:!0,type:String},selectListSlotsCount:{default:0,type:Number},selectListSlots:{default:function _default(){return[]},type:Array},selectListOptions:{default:function _default(){return[]},type:Array},showGearIcon:{default:!1,type:Boolean}},data:function data(){return{listTypes:Object.freeze(a),positionDirections:Object.freeze(i)}},methods:{checkboxIcon:function checkboxIcon(t){return t?"square-checkmark":"square"},onCheckListItemChange:function onCheckListItemChange(t,o){this.$emit("check-list-item-change",{enabled:o,value:t})},onGearChange:function onGearChange(t){this.$emit("gear-option-change",{value:t.target.value})},onItemToggle:function onItemToggle(t){this.$emit("item-enabled-change",t.target.checked)},onPositionChange:function onPositionChange(t){this.$emit("position-change",t)},onSelectListItemInput:function onSelectListItemInput(t,o){this.$emit("select-list-item-input",{slot:t-1,value:o.target.value})}}};o.a=c},function(t,o,r){"use strict";var a={name:"IconFont",props:{name:{required:!0,type:String},size:{default:3,required:!1,type:Number}}};o.a=a},function(t,o,r){"use strict";o.a={name:"ModalContent"}},function(t,o,r){"use strict";o.a={name:"OutsideClose"}},function(t,o,r){"use strict";var a={name:"ModalHeader",components:{IconFont:r(2).a},props:{icon:{type:String,default:""}}};o.a=a},function(t,o,r){"use strict";var a={name:"PuzzleModal",components:{Modal:r(11).a}};o.a=a},function(t,o,r){"use strict";var a={name:"SectionContainer",props:{darkMode:{default:!1,type:Boolean},heading:{default:function _default(){return{}},type:Object},lightMode:{default:!1,type:Boolean},link:{default:"",type:String}}};o.a=a},function(t,o,r){"use strict";var a={name:"SectionLink",components:{IconFont:r(2).a},props:{icon:{type:String,default:""},name:{type:String,required:!0},isDarkMode:{type:Boolean,required:!1},url:{default:"",type:String}}};o.a=a},function(t,o,r){"use strict";var a={name:"SectionTabs",components:{IconFont:r(2).a},props:{isDarkMode:{default:!1,type:Boolean},selectedValue:{required:!0,type:String},showLabels:{default:!0,type:Boolean},tabs:{required:!0,type:Array}},methods:{changeTab:function changeTab(t){this.$emit("tab-changed",t)}}};o.a=a},function(t,o,r){"use strict";o.a={name:"UserUsername"}},function(t,o,r){"use strict";var a={name:"V5Button",props:{active:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},extraPadding:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},href:{default:null,type:String,required:!1},size:{type:String,default:""},theme:{type:String,default:"basic"},type:{type:String,default:"button"}}};o.a=a},function(t,o,r){"use strict";var a=r(62),i=r.n(a),l={name:"V5Input",props:{ariaLabel:{type:String,default:""},autocomplete:{type:String,default:"off"},autofocus:Boolean,clearButtonIcon:{type:String,default:""},disabled:Boolean,iconLeft:{type:String,default:""},iconRight:{type:String,default:""},id:{type:String,default:""},maxlength:{type:Number,default:524288},name:{type:String,default:""},placeholder:{type:String,default:""},size:{type:String,default:"small"},type:{type:String,default:"text"},value:{type:[String,Number],default:""}},computed:{inputClasses:function inputClasses(){var t,o=this.$style,r=this.iconLeft,a=this.iconRight,l=this.size,c=this.clearButtonIcon;return[o.input,o["input-adv"],o[l],(t={},i()(t,o.left,r),i()(t,o.right,a||c),t)]}},methods:{clearButtonAction:function clearButtonAction(t){this.$emit("clear-button-action",t)},blurEvent:function blurEvent(t){this.$emit("blur",t)},focusEvent:function focusEvent(t){this.$emit("focus",t)},keyupEvent:function keyupEvent(t){this.$emit("keyup",t)},onIconClick:function onIconClick(t){this.$emit("icon-click-".concat(t))},updateValue:function updateValue(t){this.$emit("input",t)}}};o.a=l},function(t,o,r){"use strict";var a={name:"V5Input",props:{size:{type:String,default:""},forceTheme:{type:String,default:""},value:{default:"",type:[Number,String]}},computed:{componentClass:function componentClass(){var t=this.forceTheme.length?"component-".concat(this.forceTheme):"component";return this.$style[t]}},methods:{keyupEvent:function keyupEvent(t){this.$emit("keyup",t)}}};o.a=a},function(t,o,r){"use strict";var a={name:"V5Select",props:{emptyOption:{type:String,default:""},forceTheme:{type:String,default:""},labelKey:{type:String,default:"label"},options:{type:Array,required:!0},placeholderText:{type:String,default:""},size:{type:String,default:""},value:{type:[String,Number],required:!1,default:""},valueKey:{type:String,default:"value"}},computed:{componentClass:function componentClass(){var t=this.forceTheme.length?"component-".concat(this.forceTheme):"component";return this.$style[t]}},methods:{getLabel:function getLabel(t){return this.labelKey?t[this.labelKey]:t},getValue:function getValue(t){return this.valueKey?t[this.valueKey]:t},setSelectedOption:function setSelectedOption(t){this.$emit("input",t),this.onChange&&this.onChange()}}};o.a=a},function(t,o,r){"use strict";var a={name:"V5Sidebar",props:{title:{type:String,required:!0},compactHeader:{type:Boolean,default:!1}}};o.a=a},function(t,o,r){"use strict";var a={name:"V5Switch",props:{name:{type:String,required:!0},value:{type:Boolean,required:!0},isDisabled:{type:Boolean,default:!1}},methods:{setSwitchStatus:function setSwitchStatus(t){this.$emit("input",t)}}};o.a=a},function(t,o,r){"use strict";var a={name:"V5Textarea",props:{forceTheme:{type:String,default:""},size:{type:String,default:""},value:{default:"",type:[Number,String]}},computed:{componentClass:function componentClass(){var t=this.forceTheme.length?"component-".concat(this.forceTheme):"component";return this.$style[t]}}};o.a=a},function(t,o,r){"use strict";var a=r(5),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(6),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(7),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(8),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(9),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(10),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(12),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(13),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(14),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(15),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(16),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(17),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(18),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(19),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(20),i=r.n(a);o.default=i.a},function(t,o){t.exports=function _defineProperty(t,o,r){return o in t?Object.defineProperty(t,o,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[o]=r,t}},function(t,o,r){"use strict";var a=r(22),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(23),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(24),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var a=r(25),i=r.n(a);o.default=i.a},function(t,o,r){"use strict";var render=function(){var t,o=this,r=o.$createElement;return(o._self._c||r)("button",{class:[o.$style.component,o.$style[o.size],o.$style[o.theme],(t={},t[o.$style.full]=o.fullWidth,t[o.$style.active]=o.active,t[o.$style.disabled]=o.disabled,t)],attrs:{"aria-selected":o.active,disabled:o.disabled,type:o.type},on:{click:o.handleClick}},[o._t("default")],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",t._b({class:[t.$style.component,"icon-font-chess",t.name],style:[{fontSize:t.size+"rem",marginTop:"-"+1.7*t.size/2+"px"}],on:{click:function(o){return t.$emit("click",o)}}},"div",t.$attrs,!1))},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[r("img",{class:t.$style.avatar,attrs:{src:t.avatarSrc,srcset:t.pixelDensity(t.avatarSrc)}}),t._v(" "),r("div",{class:t.$style.content},[r("div",{class:t.$style["username-date"]},[t._t("user-tagline"),t._v(" "),r("div",{class:t.$style.date,domProps:{textContent:t._s(t.date)}})],2),t._v(" "),r("div",{class:t.$style.preview,domProps:{textContent:t._s(t.preview)}})])])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",{class:t.$style.component},[t._t("default")],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("button",{class:t.$style.component,attrs:{type:"button"},on:{click:function(o){return t.$emit("click",o)}}},[r("div",{staticClass:"icon-font-chess x",class:t.$style.icon})])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[t._t("default"),t._v(" "),t.icon?r("IconFont",{class:t.$style.icon,attrs:{name:t.icon},on:{click:function(o){return t.$emit("close",o)}}}):t._e()],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("Modal",{ref:"modal",class:t.$style.modal,attrs:{"close-on-action":!1,"auto-show":""}},[r("div",{class:t.$style.content},[r("div",{class:t.$style.component,attrs:{"data-cy":"modalIntro"}},[r("div",{class:t.$style.header},[r("div",{class:t.$style.title},[t._v("\n          Solve Chess Puzzles\n        ")])]),t._v(" "),r("div",{class:t.$style.description},[r("div",{class:[t.$style.arrow,t.$style.rated]}),t._v(" "),r("p",[t._v("\n          Test your tactical skills with puzzles that push your limits. The faster you solve, the higher your score.\n        ")])]),t._v(" "),r("div",{class:t.$style.footer},[t._v("\n        Here is where footer info would go\n      ")])])])])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("Transition",{attrs:{"enter-active-class":o.$style.enter,"leave-active-class":o.$style.leave}},[o.visible?a("div",[o.centerOverParent?o._e():a("div",{class:[o.$style.bg,[o.isTransparent?o.$style["bg-transparent"]:o.$style["bg-dark"]]]}),o._v(" "),a("div",{class:[o.$style.component,(t={},t[o.$style["parent-centered"]]=o.centerOverParent,t)],on:{click:function(t){return o.onBackgroundClick(t)}}},[a("div",{ref:"body",class:[o.$style.body,o.$style[o.corners],o.$style[o.modalWidth]]},[this.$slots.header?a("div",{class:o.$style.header},[o._t("header")],2):o._e(),o._v(" "),this.$slots.content?a("div",{class:o.$style.content},[o._t("content")],2):o._e(),o._v(" "),o._t("default"),o._v(" "),this.$slots.footer?a("div",{class:o.$style.footer},[o._t("footer")],2):o._e()],2)])]):o._e()])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[t.showTopButton?r("FormButton",{class:t.$style.top,attrs:{theme:"pagination","aria-label":"Back To Top","data-cy-top-button":""},on:{click:function(o){return t.goToTop()}}},[r("IconFont",{attrs:{name:"chevron-up"}}),t._v("\n    Top\n  ")],1):t._e(),t._v(" "),r("nav",{class:t.$style.pagination,attrs:{"data-cy-navigation":""}},[1!==t.currentPage?r("FormButton",{class:t.$style.first,attrs:{theme:"pagination","aria-label":"First Page","data-cy-first-page-button":""},on:{click:function(o){return t.commitChangePage(1)}}},[t._v("\n      First\n    ")]):t._e(),t._v(" "),r("FormButton",{class:t.$style.prev,attrs:{theme:"pagination","aria-label":"Previous Page","data-cy-previous-page-button":"","is-disabled":1===t.currentPage},on:{click:function(o){return t.commitChangePage(t.currentPage-1)}}},[r("IconFont",{attrs:{name:"chevron-left",size:2}})],1),t._v(" "),t.showLowerEllipsis?r("div",{class:t.$style.spread},[r("span",[t._v("...")])]):t._e(),t._v(" "),t._l(t.pages,(function(o,a){return r("FormButton",{key:a,attrs:{theme:"pagination","aria-label":t.goToPageNumber(o),active:t.isSamePage(o)},on:{click:function(r){return t.commitChangePage(o)}}},[t._v("\n      "+t._s(o.toString())+"\n    ")])})),t._v(" "),t.showUpperEllipsis?r("div",{class:t.$style.spread},[r("span",[t._v("...")])]):t._e(),t._v(" "),r("FormButton",{class:t.$style.next,attrs:{theme:"pagination","aria-label":"Next Page","is-disabled":t.currentPage===t.totalPages,"data-cy-next-page-btn":""},on:{click:function(o){return t.commitChangePage(t.currentPage+1)}}},[r("IconFont",{attrs:{name:"chevron-right",size:2}})],1),t._v(" "),t.currentPage!==t.totalPages?r("FormButton",{class:t.$style.last,attrs:{theme:"pagination","aria-label":"Last Page","data-cy-last-page-button":""},on:{click:function(o){return t.commitChangePage(-1)}}},[t._v("\n      Last\n    ")]):t._e()],2)],1)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:[t.$style.component,{"dark-mode":t.darkMode,"light-mode":t.lightMode}]},[t.$slots.heading?r("div",{class:[t.$style.heading,t.$style[t.heading.theme]]},[r("span",{class:[t.$style.title,t.$style[t.heading.size]]},[t._t("heading")],2)]):t._e(),t._v(" "),t.$slots.link?r("a",{class:[t.$style.link,{"dark-mode":t.darkMode,"light-mode":t.lightMode}],attrs:{href:t.link.url}},[t._t("link")],2):t._e(),t._v(" "),t.$slots.title?r("span",{class:t.$style.link},[t._t("title")],2):t._e(),t._v(" "),t._t("title-content"),t._v(" "),t.$slots.default?r("div",{class:t.$style.content},[t._t("default")],2):t._e()],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("a",{class:[o.$style.component,(t={},t[o.$style["dark-mode"]]=o.isDarkMode,t)],attrs:{href:o.url}},[o.icon?a("IconFont",{class:o.$style.icon,attrs:{family:"chess",name:o.icon}}):o._e(),o._v(" "),a("span",{class:o.$style.name},[o._v(o._s(o.name))]),o._v(" "),o._t("default"),o._v(" "),a("IconFont",{class:o.$style.chevron,attrs:{theme:"primary",name:"chevron-right"}})],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:[o.$style.component,(t={},t[o.$style["dark-mode"]]=o.isDarkMode,t)]},o._l(o.tabs,(function(t){var r;return a("div",{key:t.value,class:[o.$style.tab,(r={},r[o.$style.active]=o.selectedValue===t.value,r)],on:{click:function(r){return o.changeTab(t.value)}}},[t.icon?a("IconFont",{class:o.$style.icon,attrs:{name:t.icon}}):o._e(),o._v(" "),a("span",{directives:[{name:"show",rawName:"v-show",value:o.showLabels,expression:"showLabels"}],class:o.$style.label,domProps:{textContent:o._s(t.label)}})],1)})),0)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[r("div",{class:t.$style.main},[r("div",{class:t.$style.title},[r("input",{class:t.$style.checkbox,attrs:{id:"checkbox-"+t.name,type:"checkbox"},domProps:{checked:t.enabled},on:{change:function(o){return t.onItemToggle(o)}}}),t._v(" "),r("label",{class:t.$style.name,attrs:{for:"checkbox-"+t.name},domProps:{textContent:t._s(t.name)}})]),t._v(" "),r("div",{class:t.$style.controls},[t.showGearIcon?r("div",{class:t.$style["gear-wrapper"]},[r("span",{staticClass:"icon-font-chess circle-gearwheel",class:t.$style.gear}),t._v(" "),r("select",{class:t.$style["gear-select"],attrs:{disabled:!t.enabled},on:{change:function(o){return t.onGearChange(o)}}},t._l(t.gearOptions,(function(o){return r("option",{key:o.value,domProps:{selected:o.value===t.gearValue,value:o.value,textContent:t._s(o.name)}})})),0)]):t._e(),t._v(" "),r("div",{class:t.$style.arrows},[r("span",{staticClass:"icon-font-chess caret-up",class:t.$style.arrow,style:[{pointerEvents:t.isUpArrowDisabled?"none":"auto"}],on:{click:function(o){return t.onPositionChange(t.positionDirections.Up)}}}),t._v(" "),r("span",{staticClass:"icon-font-chess caret-down",class:t.$style.arrow,style:[{pointerEvents:t.isDownArrowDisabled?"none":"auto"}],on:{click:function(o){return t.onPositionChange(t.positionDirections.Down)}}})])])]),t._v(" "),t.listType===t.listTypes.CheckList?r("div",{class:t.$style.settings},t._l(t.checkListItems,(function(o){return r("div",{key:o.value,class:t.$style["check-list-item"]},[r("input",{class:t.$style.checkbox,attrs:{id:"checkbox-"+o.value,type:"checkbox",disabled:!t.enabled},domProps:{checked:o.enabled},on:{input:function(r){return t.onCheckListItemChange(o.value,!o.enabled)}}}),t._v(" "),r("label",{attrs:{for:"checkbox-"+o.value},domProps:{textContent:t._s(o.name)}})])})),0):t._e(),t._v(" "),t.listType===t.listTypes.SelectList?r("div",{class:t.$style.settings},t._l(t.selectListSlotsCount,(function(o,a){var i;return r("div",{key:o,class:[t.$style["select-item"],(i={},i[t.$style["select-item-disabled"]]=!t.enabled,i)]},[r("div",{class:t.$style["select-item-slot"],domProps:{textContent:t._s(o)}}),t._v(" "),r("div",{class:t.$style["select-item-dropdown"]},[r("div",{class:t.selectListSlots[a].className,domProps:{textContent:t._s(t.selectListSlots[a].name)}}),t._v(" "),r("span",{staticClass:"icon-font-chess caret-down",class:t.$style["select-item-caret"]}),t._v(" "),r("select",{class:t.$style["select-item-select"],attrs:{disabled:!t.enabled},on:{change:function(r){return t.onSelectListItemInput(o,r)}}},t._l(t.selectListOptions,(function(o){return r("option",{key:o.value,domProps:{selected:o.value===t.selectListSlots[a].value,value:o.value,textContent:t._s(o.name)}})})),0)])])})),0):t._e()])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",{class:t.$style.component},[t._t("default")],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t,o,r=this,a=r.$createElement,i=r._self._c||a;return r.href?i("a",{class:[r.$style.component,r.$style[r.theme],r.$style[r.size],(t={},t[r.$style.full]=r.fullWidth,t[r.$style.active]=r.active,t[r.$style.disabled]=r.disabled,t[r.$style["extra-padding"]]=r.extraPadding,t)],attrs:{href:r.href},on:{click:function(t){return r.$emit("click",t)}}},[r._t("default")],2):i("button",{class:[r.$style.component,r.$style[r.theme],r.$style[r.size],(o={},o[r.$style.full]=r.fullWidth,o[r.$style.active]=r.active,o[r.$style["extra-padding"]]=r.extraPadding,o)],attrs:{disabled:r.disabled,type:r.type},on:{click:function(t){return r.$emit("click",t)}}},[r._t("default")],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:[t.$style.component,t.$style[t.size]],on:{keyup:function(o){return t.$emit("keyup",o)}}},[t.iconLeft?r("span",{staticClass:"icon-font-chess",class:[t.$style.icon,t.$style.left,t.iconLeft],attrs:{theme:"primary"},on:{click:function(o){return t.onIconClick("left")}}}):t._e(),t._v(" "),r("input",{class:t.inputClasses,attrs:{id:t.id,"aria-label":t.ariaLabel,autocomplete:t.autocomplete,autofocus:t.autofocus,maxlength:t.maxlength,name:t.name,placeholder:t.placeholder,readonly:t.disabled,type:t.type},domProps:{value:t.value},on:{blur:function(o){return t.blurEvent(o)},focus:function(o){return t.focusEvent(o)},input:function(o){return t.updateValue(o.target.value)},keyup:function(o){return t.keyupEvent(o)}}}),t._v(" "),t.iconRight?r("span",{staticClass:"icon-font-chess",class:[t.$style.icon,t.$style.right,t.iconRight],attrs:{theme:"primary"},on:{click:function(o){return t.onIconClick("right")}}}):t._e(),t._v(" "),t.clearButtonIcon&&!t.iconRight&&t.value?r("button",{class:t.$style.button,on:{click:function(o){return t.clearButtonAction(o)}}},[r("span",{staticClass:"icon-font-chess circle-x"})]):t._e(),t._v(" "),!t.clearButtonIcon||t.iconRight||t.value?t._e():r("span",{staticClass:"icon-font-chess",class:[t.$style.icon,t.$style.right,t.clearButtonIcon]})])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement;return(t._self._c||o)("input",{class:[t.componentClass,t.$style.input,t.$style[t.size]],domProps:{value:t.value},on:{focus:function(o){return t.$emit("focus",o)},input:function(o){return t.$emit("input",o.target.value)},keydown:function(o){return t.$emit("keydown",o)},keyup:function(o){return t.keyupEvent(o)}}})},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("select",{class:[t.componentClass,t.$style[t.size]],on:{change:function(o){return t.setSelectedOption(o.target.value)}}},[t.placeholderText?r("option",{attrs:{disabled:"",hidden:"",selected:"",value:""},domProps:{textContent:t._s(t.placeholderText)}}):t._e(),t._v(" "),t.emptyOption?r("option",{attrs:{selected:"",value:""},domProps:{textContent:t._s(t.emptyOption)}}):t._e(),t._v(" "),t._l(t.options,(function(o,a){return r("option",{key:a,attrs:{disabled:o.disabled,hidden:o.hidden},domProps:{selected:t.getValue(o)===t.value,value:t.getValue(o)}},[t._v("\n    "+t._s(t.getLabel(o))+"\n  ")])}))],2)},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:o.$style.component},[a("div",{class:[o.$style.header,(t={},t[o.$style["compact-header"]]=o.compactHeader,t)]},[o.$slots.leftActionIcon?a("div",{class:[o.$style["action-icon"],o.$style.left]},[o._t("leftActionIcon")],2):o._e(),o._v(" "),a("div",{class:o.$style["title-wrapper"]},[a("span",{class:o.$style.title},[o._v("\n        "+o._s(o.title)+"\n      ")]),o._v(" "),o.$slots.logo?a("div",{class:o.$style.logo},[o._t("logo")],2):o._e()]),o._v(" "),o.$slots.rightActionIcon?a("div",{class:[o.$style["action-icon"],o.$style.right]},[o._t("rightActionIcon")],2):o._e()]),o._v(" "),o.$slots.tabs?a("div",{class:o.$style.tabs},[o._t("tabs")],2):o._e(),o._v(" "),a("div",{class:o.$style.content},[o._t("default")],2)])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[r("input",{class:t.$style.checkbox,attrs:{id:t.name,type:"checkbox",disabled:t.isDisabled,name:t.name},domProps:{checked:t.value},on:{change:function(o){return t.setSwitchStatus(o.target.checked)}}}),t._v(" "),r("label",{class:t.$style.label,attrs:{for:t.name}},[r("div",{class:t.$style.button})])])},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";var render=function(){var t=this,o=t.$createElement;return(t._self._c||o)("textarea",{class:[t.componentClass,t.$style[t.size]],domProps:{value:t.value},on:{input:function(o){return t.$emit("input",o.target.value)}}})},a=[];render._withStripped=!0,r.d(o,"a",(function(){return render})),r.d(o,"b",(function(){return a}))},function(t,o,r){"use strict";(function(t){var a=r(69),i=r(28),l=r(49),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/message-list-item/message-list-item.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(70),i=r(32),l=r(50),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/modal/modal-content/modal-content.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(71),i=r(33),l=r(51),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/modal/modal-content/outside-close.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(72),i=r(34),l=r(52),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/modal/modal-header/modal-header.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(73),i=r(35),l=r(54),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/modal/modal-puzzle/modal-puzzle.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(75),i=r(29),l=r(55),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/pagination/pagination.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(76),i=r(36),l=r(56),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/section/section-container.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(77),i=r(37),l=r(57),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/section/section-link/section-link.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(78),i=r(38),l=r(58),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/section/section-tabs/section-tabs.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(79),i=r(30),l=r(59),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/sortable-list/sortable-list-item/sortable-list-item.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(80),i=r(39),l=r(60),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/user-username/user-username.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(81),i=r(40),l=r(61),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/v5-button/v5-button.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(82),i=r(41),l=r(3),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/v5-input/v5-input-adv.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(83),i=r(42),l=r(3),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/v5-input/v5-input.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(84),i=r(43),l=r(63),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/v5-select/v5-select.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(85),i=r(44),l=r(64),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/v5-sidebar/v5-sidebar.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(86),i=r(45),l=r(65),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/v5-switch/v5-switch.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";(function(t){var a=r(87),i=r(46),l=r(66),c=r(0),u={};t.hot,t.hot;var d=Object(c.a)(i.a,a.a,a.b,!1,(function injectStyles(t){u.$style=l.default.locals||l.default,Object.defineProperty(this,"$style",{configurable:!0,get:function(){return u.$style}})}),null,null);d.options.__file="src/ui/v5-textarea/v5-textarea.vue",o.a=d.exports}).call(this,r(1)(t))},function(t,o,r){"use strict";r.r(o);var a=r(4);r.d(o,"Button",(function(){return a.a}));var i=r(2);r.d(o,"IconFont",(function(){return i.a}));var l=r(88);r.d(o,"MessageListItem",(function(){return l.a}));var c=r(89);r.d(o,"ModalContent",(function(){return c.a}));var u=r(90);r.d(o,"OutsideClose",(function(){return u.a}));var d=r(91);r.d(o,"ModalHeader",(function(){return d.a}));var m=r(92);r.d(o,"ModalPuzzle",(function(){return m.a}));var p=r(11);r.d(o,"Modal",(function(){return p.a}));var b=r(93);r.d(o,"Pagination",(function(){return b.a}));var g=r(94);r.d(o,"SectionContainer",(function(){return g.a}));var h=r(95);r.d(o,"SectionLink",(function(){return h.a}));var _=r(96);r.d(o,"SectionTabs",(function(){return _.a}));var v=r(97);r.d(o,"SortableListItem",(function(){return v.a}));var y=r(98);r.d(o,"UserUsername",(function(){return y.a}));var w=r(99);r.d(o,"V5Button",(function(){return w.a}));var j=r(100);r.d(o,"V5InputAdv",(function(){return j.a}));var O=r(101);r.d(o,"V5Input",(function(){return O.a}));var S=r(102);r.d(o,"V5Select",(function(){return S.a}));var k=r(103);r.d(o,"V5Sidebar",(function(){return k.a}));var C=r(104);r.d(o,"V5Switch",(function(){return C.a}));var P=r(105);r.d(o,"V5Textarea",(function(){return P.a}))}])}))},"./node_modules/@chesscom/web-ui/dist/utils/Queue.js":function(t,o,r){"use strict";function noop(){}function createQueue(t=!0){const o=[];let r=!1;return{add:function add(a,...i){let l=noop,c=noop;const u=new Promise(((t,o)=>{c=t,l=o}));o.push({fn:a,params:i,reject:l,resolve:c}),t&&!1===r&&flush();return u},clear:function clear(){r=!1,o.length=0},flush:flush,getEntries:function getEntries(){return o}};async function flush(){const t=o.shift();if(t){r=!0;try{const o=await t.fn(...t.params);return t.resolve(o),flush()}catch(a){t.reject(a)}}else r=!1}}r.d(o,"a",(function(){return createQueue}))},"./node_modules/amplitude-js/amplitude.js":function(t,o,r){t.exports=r("dll-reference amplitudeDLL")("./node_modules/amplitude-js/amplitude.js")},"./node_modules/axios/index.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/axios/index.js")},"./node_modules/bazinga-translator/js/translator.js":function(t,o,r){var a,i;void 0===(i="function"==typeof(a=function(){"use strict";var t={},o="en",r=[],a=new RegExp(/^\w+\: +(.+)$/),i=new RegExp(/^\s*((\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]]))\s?(.+?)$/),l=new RegExp(/^\s*(\{\s*(\-?\d+[\s*,\s*\-?\d+]*)\s*\})|([\[\]])\s*(-Inf|\-?\d+)\s*,\s*(\+?Inf|\-?\d+)\s*([\[\]])/),c={locale:get_current_locale(),fallback:o,placeHolderPrefix:"%",placeHolderSuffix:"%",defaultDomain:"messages",pluralSeparator:"|",add:function(o,a,i,l){var c=l||this.locale||this.fallback,u=i||this.defaultDomain;return t[c]||(t[c]={}),t[c][u]||(t[c][u]={}),t[c][u][o]=a,!1===exists(r,u)&&r.push(u),this},trans:function(t,o,r,a){return replace_placeholders(get_message(t,r,a,this.locale,this.fallback),o||{})},transChoice:function(t,o,r,a,i){var l=get_message(t,a,i,this.locale,this.fallback),c=parseInt(o,10);return void 0===(r=r||{}).count&&(r.count=o),void 0===l||isNaN(c)||(l=pluralize(l,c,i||this.locale||this.fallback)),replace_placeholders(l,r)},fromJSON:function(t){if("string"==typeof t&&(t=JSON.parse(t)),t.locale&&(this.locale=t.locale),t.fallback&&(this.fallback=t.fallback),t.defaultDomain&&(this.defaultDomain=t.defaultDomain),t.translations)for(var o in t.translations)for(var r in t.translations[o])for(var a in t.translations[o][r])this.add(a,t.translations[o][r][a],r,o);return this},reset:function(){t={},r=[],this.locale=get_current_locale()}};function replace_placeholders(t,o){var r,a=c.placeHolderPrefix,i=c.placeHolderSuffix;for(r in o){var l=new RegExp(a+r+i,"g");if(l.test(t)){var u=String(o[r]).replace(new RegExp("\\$","g"),"$$$$");t=t.replace(l,u)}}return t}function get_message(o,a,i,l,c){var u,d,m,p=i||l||c,b=a,g=p.split("_")[0];if(!(p in t))if(g in t)p=g;else{if(!(c in t))return o;p=c}if(null==b)for(var h=0;h<r.length;h++)if(has_message(p,r[h],o)||has_message(g,r[h],o)||has_message(c,r[h],o)){b=r[h];break}if(has_message(p,b,o))return t[p][b][o];for(;p.length>2&&(u=p.length,m=(d=p.split(/[\s_]+/))[d.length-1].length,1!==d.length);)if(has_message(p=p.substring(0,u-(m+1)),b,o))return t[p][b][o];return has_message(c,b,o)?t[c][b][o]:o}function has_message(o,r,a){return o in t&&r in t[o]&&a in t[o][r]}function pluralize(t,o,r){var u,d,m=[],p=[],b=t.split(c.pluralSeparator),g=[];for(u=0;u<b.length;u++){var h=b[u];i.test(h)?m[(g=h.match(i))[0]]=g[g.length-1]:a.test(h)?(g=h.match(a),p.push(g[1])):p.push(h)}for(d in m)if(l.test(d))if((g=d.match(l))[1]){var _,v=g[2].split(",");for(_ in v)if(o==v[_])return m[d]}else{var y=convert_number(g[4]),w=convert_number(g[5]);if(("["===g[3]?o>=y:o>y)&&("]"===g[6]?o<=w:o<w))return m[d]}return p[plural_position(o,r)]||p[0]||void 0}function convert_number(t){return"-Inf"===t?Number.NEGATIVE_INFINITY:"+Inf"===t||"Inf"===t?Number.POSITIVE_INFINITY:parseInt(t,10)}function plural_position(t,o){var r=o;switch("pt_BR"===r&&(r="xbr"),r.length>3&&(r=r.split("_")[0]),r){case"bo":case"dz":case"id":case"ja":case"jv":case"ka":case"km":case"kn":case"ko":case"ms":case"th":case"tr":case"vi":case"zh":return 0;case"af":case"az":case"bn":case"bg":case"ca":case"da":case"de":case"el":case"en":case"eo":case"es":case"et":case"eu":case"fa":case"fi":case"fo":case"fur":case"fy":case"gl":case"gu":case"ha":case"he":case"hu":case"is":case"it":case"ku":case"lb":case"ml":case"mn":case"mr":case"nah":case"nb":case"ne":case"nl":case"nn":case"no":case"om":case"or":case"pa":case"pap":case"ps":case"pt":case"so":case"sq":case"sv":case"sw":case"ta":case"te":case"tk":case"ur":case"zu":return 1==t?0:1;case"am":case"bh":case"fil":case"fr":case"gun":case"hi":case"ln":case"mg":case"nso":case"xbr":case"ti":case"wa":return 0===t||1==t?0:1;case"be":case"bs":case"hr":case"ru":case"sr":case"uk":return t%10==1&&t%100!=11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;case"cs":case"sk":return 1==t?0:t>=2&&t<=4?1:2;case"ga":return 1==t?0:2==t?1:2;case"lt":return t%10==1&&t%100!=11?0:t%10>=2&&(t%100<10||t%100>=20)?1:2;case"sl":return t%100==1?0:t%100==2?1:t%100==3||t%100==4?2:3;case"mk":return t%10==1?0:1;case"mt":return 1==t?0:0===t||t%100>1&&t%100<11?1:t%100>10&&t%100<20?2:3;case"lv":return 0===t?0:t%10==1&&t%100!=11?1:2;case"pl":return 1==t?0:t%10>=2&&t%10<=4&&(t%100<12||t%100>14)?1:2;case"cy":return 1==t?0:2==t?1:8==t||11==t?2:3;case"ro":return 1==t?0:0===t||t%100>0&&t%100<20?1:2;case"ar":return 0===t?0:1==t?1:2==t?2:t>=3&&t<=10?3:t>=11&&t<=99?4:5;default:return 0}}function exists(t,o){for(var r=0;r<t.length;r++)if(o===t[r])return!0;return!1}function get_current_locale(){return"undefined"!=typeof document?document.documentElement.lang.replace("-","_"):o}return c})?a.call(o,r,o,t):a)||(t.exports=i)},"./node_modules/lodash-es/_Symbol.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/_Symbol.js")},"./node_modules/lodash-es/_arrayLikeKeys.js":function(t,o,r){"use strict";var a=function baseTimes(t,o){for(var r=-1,a=Array(t);++r<t;)a[r]=o(r);return a},i=r("./node_modules/lodash-es/isArguments.js"),l=r("./node_modules/lodash-es/isArray.js"),c=r("./node_modules/lodash-es/isBuffer.js"),u=r("./node_modules/lodash-es/_isIndex.js"),d=r("./node_modules/lodash-es/isTypedArray.js"),m=Object.prototype.hasOwnProperty;o.a=function arrayLikeKeys(t,o){var r=Object(l.a)(t),p=!r&&Object(i.a)(t),b=!r&&!p&&Object(c.a)(t),g=!r&&!p&&!b&&Object(d.a)(t),h=r||p||b||g,_=h?a(t.length,String):[],v=_.length;for(var y in t)!o&&!m.call(t,y)||h&&("length"==y||b&&("offset"==y||"parent"==y)||g&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||Object(u.a)(y,v))||_.push(y);return _}},"./node_modules/lodash-es/_baseFor.js":function(t,o,r){"use strict";var a=function createBaseFor(t){return function(o,r,a){for(var i=-1,l=Object(o),c=a(o),u=c.length;u--;){var d=c[t?u:++i];if(!1===r(l[d],d,l))break}return o}}();o.a=a},"./node_modules/lodash-es/_baseForOwn.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/_baseFor.js"),i=r("./node_modules/lodash-es/keys.js");o.a=function baseForOwn(t,o){return t&&Object(a.a)(t,o,i.a)}},"./node_modules/lodash-es/_baseGetTag.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/_baseGetTag.js")},"./node_modules/lodash-es/_baseUnary.js":function(t,o,r){"use strict";o.a=function baseUnary(t){return function(o){return t(o)}}},"./node_modules/lodash-es/_castFunction.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/identity.js");o.a=function castFunction(t){return"function"==typeof t?t:a.a}},"./node_modules/lodash-es/_freeGlobal.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/_freeGlobal.js")},"./node_modules/lodash-es/_isIndex.js":function(t,o,r){"use strict";var a=/^(?:0|[1-9]\d*)$/;o.a=function isIndex(t,o){var r=typeof t;return!!(o=null==o?9007199254740991:o)&&("number"==r||"symbol"!=r&&a.test(t))&&t>-1&&t%1==0&&t<o}},"./node_modules/lodash-es/_isPrototype.js":function(t,o,r){"use strict";var a=Object.prototype;o.a=function isPrototype(t){var o=t&&t.constructor;return t===("function"==typeof o&&o.prototype||a)}},"./node_modules/lodash-es/_nodeUtil.js":function(t,o,r){"use strict";(function(t){var a=r("./node_modules/lodash-es/_freeGlobal.js"),i="object"==typeof exports&&exports&&!exports.nodeType&&exports,l=i&&"object"==typeof t&&t&&!t.nodeType&&t,c=l&&l.exports===i&&a.default.process,u=function(){try{var t=l&&l.require&&l.require("util").types;return t||c&&c.binding&&c.binding("util")}catch(o){}}();o.a=u}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(t))},"./node_modules/lodash-es/_overArg.js":function(t,o,r){"use strict";o.a=function overArg(t,o){return function(r){return t(o(r))}}},"./node_modules/lodash-es/_root.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/_root.js")},"./node_modules/lodash-es/debounce.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/debounce.js")},"./node_modules/lodash-es/identity.js":function(t,o,r){"use strict";o.a=function identity(t){return t}},"./node_modules/lodash-es/isArguments.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/_baseGetTag.js"),i=r("./node_modules/lodash-es/isObjectLike.js");var l=function baseIsArguments(t){return Object(i.default)(t)&&"[object Arguments]"==Object(a.default)(t)},c=Object.prototype,u=c.hasOwnProperty,d=c.propertyIsEnumerable,m=l(function(){return arguments}())?l:function(t){return Object(i.default)(t)&&u.call(t,"callee")&&!d.call(t,"callee")};o.a=m},"./node_modules/lodash-es/isArray.js":function(t,o,r){"use strict";var a=Array.isArray;o.a=a},"./node_modules/lodash-es/isArrayLike.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/isFunction.js"),i=r("./node_modules/lodash-es/isLength.js");o.a=function isArrayLike(t){return null!=t&&Object(i.a)(t.length)&&!Object(a.a)(t)}},"./node_modules/lodash-es/isBuffer.js":function(t,o,r){"use strict";(function(t){var a=r("./node_modules/lodash-es/_root.js"),i=r("./node_modules/lodash-es/stubFalse.js"),l="object"==typeof exports&&exports&&!exports.nodeType&&exports,c=l&&"object"==typeof t&&t&&!t.nodeType&&t,u=c&&c.exports===l?a.default.Buffer:void 0,d=(u?u.isBuffer:void 0)||i.a;o.a=d}).call(this,r("./node_modules/webpack/buildin/harmony-module.js")(t))},"./node_modules/lodash-es/isFunction.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/_baseGetTag.js"),i=r("./node_modules/lodash-es/isObject.js");o.a=function isFunction(t){if(!Object(i.default)(t))return!1;var o=Object(a.default)(t);return"[object Function]"==o||"[object GeneratorFunction]"==o||"[object AsyncFunction]"==o||"[object Proxy]"==o}},"./node_modules/lodash-es/isLength.js":function(t,o,r){"use strict";o.a=function isLength(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},"./node_modules/lodash-es/isObject.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/isObject.js")},"./node_modules/lodash-es/isObjectLike.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/isObjectLike.js")},"./node_modules/lodash-es/isSymbol.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/lodash-es/isSymbol.js")},"./node_modules/lodash-es/isTypedArray.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/_baseGetTag.js"),i=r("./node_modules/lodash-es/isLength.js"),l=r("./node_modules/lodash-es/isObjectLike.js"),c={};c["[object Float32Array]"]=c["[object Float64Array]"]=c["[object Int8Array]"]=c["[object Int16Array]"]=c["[object Int32Array]"]=c["[object Uint8Array]"]=c["[object Uint8ClampedArray]"]=c["[object Uint16Array]"]=c["[object Uint32Array]"]=!0,c["[object Arguments]"]=c["[object Array]"]=c["[object ArrayBuffer]"]=c["[object Boolean]"]=c["[object DataView]"]=c["[object Date]"]=c["[object Error]"]=c["[object Function]"]=c["[object Map]"]=c["[object Number]"]=c["[object Object]"]=c["[object RegExp]"]=c["[object Set]"]=c["[object String]"]=c["[object WeakMap]"]=!1;var u=function baseIsTypedArray(t){return Object(l.default)(t)&&Object(i.a)(t.length)&&!!c[Object(a.default)(t)]},d=r("./node_modules/lodash-es/_baseUnary.js"),m=r("./node_modules/lodash-es/_nodeUtil.js"),p=m.a&&m.a.isTypedArray,b=p?Object(d.a)(p):u;o.a=b},"./node_modules/lodash-es/keys.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/_arrayLikeKeys.js"),i=r("./node_modules/lodash-es/_isPrototype.js"),l=r("./node_modules/lodash-es/_overArg.js"),c=Object(l.a)(Object.keys,Object),u=Object.prototype.hasOwnProperty;var d=function baseKeys(t){if(!Object(i.a)(t))return c(t);var o=[];for(var r in Object(t))u.call(t,r)&&"constructor"!=r&&o.push(r);return o},m=r("./node_modules/lodash-es/isArrayLike.js");o.a=function keys(t){return Object(m.a)(t)?Object(a.a)(t):d(t)}},"./node_modules/lodash-es/stubFalse.js":function(t,o,r){"use strict";o.a=function stubFalse(){return!1}},"./node_modules/regenerator-runtime/runtime.js":function(t,o,r){var a=function(t){"use strict";var o,r=Object.prototype,a=r.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},l=i.iterator||"@@iterator",c=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function define(t,o,r){return Object.defineProperty(t,o,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[o]}try{define({},"")}catch(w){define=function(t,o,r){return t[o]=r}}function wrap(t,o,r,a){var i=o&&o.prototype instanceof Generator?o:Generator,l=Object.create(i.prototype),c=new Context(a||[]);return l._invoke=function makeInvokeMethod(t,o,r){var a=d;return function invoke(i,l){if(a===p)throw new Error("Generator is already running");if(a===b){if("throw"===i)throw l;return doneResult()}for(r.method=i,r.arg=l;;){var c=r.delegate;if(c){var u=maybeInvokeDelegate(c,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===d)throw a=b,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=p;var h=tryCatch(t,o,r);if("normal"===h.type){if(a=r.done?b:m,h.arg===g)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(a=b,r.method="throw",r.arg=h.arg)}}}(t,r,c),l}function tryCatch(t,o,r){try{return{type:"normal",arg:t.call(o,r)}}catch(w){return{type:"throw",arg:w}}}t.wrap=wrap;var d="suspendedStart",m="suspendedYield",p="executing",b="completed",g={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var h={};h[l]=function(){return this};var _=Object.getPrototypeOf,v=_&&_(_(values([])));v&&v!==r&&a.call(v,l)&&(h=v);var y=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(h);function defineIteratorMethods(t){["next","throw","return"].forEach((function(o){define(t,o,(function(t){return this._invoke(o,t)}))}))}function AsyncIterator(t,o){function invoke(r,i,l,c){var u=tryCatch(t[r],t,i);if("throw"!==u.type){var d=u.arg,m=d.value;return m&&"object"==typeof m&&a.call(m,"__await")?o.resolve(m.__await).then((function(t){invoke("next",t,l,c)}),(function(t){invoke("throw",t,l,c)})):o.resolve(m).then((function(t){d.value=t,l(d)}),(function(t){return invoke("throw",t,l,c)}))}c(u.arg)}var r;this._invoke=function enqueue(t,a){function callInvokeWithMethodAndArg(){return new o((function(o,r){invoke(t,a,o,r)}))}return r=r?r.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(t,r){var a=t.iterator[r.method];if(a===o){if(r.delegate=null,"throw"===r.method){if(t.iterator.return&&(r.method="return",r.arg=o,maybeInvokeDelegate(t,r),"throw"===r.method))return g;r.method="throw",r.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var i=tryCatch(a,t.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,g;var l=i.arg;return l?l.done?(r[t.resultName]=l.value,r.next=t.nextLoc,"return"!==r.method&&(r.method="next",r.arg=o),r.delegate=null,g):l:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,g)}function pushTryEntry(t){var o={tryLoc:t[0]};1 in t&&(o.catchLoc=t[1]),2 in t&&(o.finallyLoc=t[2],o.afterLoc=t[3]),this.tryEntries.push(o)}function resetTryEntry(t){var o=t.completion||{};o.type="normal",delete o.arg,t.completion=o}function Context(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(pushTryEntry,this),this.reset(!0)}function values(t){if(t){var r=t[l];if(r)return r.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,c=function next(){for(;++i<t.length;)if(a.call(t,i))return next.value=t[i],next.done=!1,next;return next.value=o,next.done=!0,next};return c.next=c}}return{next:doneResult}}function doneResult(){return{value:o,done:!0}}return GeneratorFunction.prototype=y.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunction.displayName=define(GeneratorFunctionPrototype,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var o="function"==typeof t&&t.constructor;return!!o&&(o===GeneratorFunction||"GeneratorFunction"===(o.displayName||o.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,GeneratorFunctionPrototype):(t.__proto__=GeneratorFunctionPrototype,define(t,u,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[c]=function(){return this},t.AsyncIterator=AsyncIterator,t.async=function(o,r,a,i,l){void 0===l&&(l=Promise);var c=new AsyncIterator(wrap(o,r,a,i),l);return t.isGeneratorFunction(r)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},defineIteratorMethods(y),define(y,u,"Generator"),y[l]=function(){return this},y.toString=function(){return"[object Generator]"},t.keys=function(t){var o=[];for(var r in t)o.push(r);return o.reverse(),function next(){for(;o.length;){var r=o.pop();if(r in t)return next.value=r,next.done=!1,next}return next.done=!0,next}},t.values=values,Context.prototype={constructor:Context,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=o,this.done=!1,this.delegate=null,this.method="next",this.arg=o,this.tryEntries.forEach(resetTryEntry),!t)for(var r in this)"t"===r.charAt(0)&&a.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=o)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var r=this;function handle(a,i){return c.type="throw",c.arg=t,r.next=a,i&&(r.method="next",r.arg=o),!!i}for(var i=this.tryEntries.length-1;i>=0;--i){var l=this.tryEntries[i],c=l.completion;if("root"===l.tryLoc)return handle("end");if(l.tryLoc<=this.prev){var u=a.call(l,"catchLoc"),d=a.call(l,"finallyLoc");if(u&&d){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0);if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}else if(u){if(this.prev<l.catchLoc)return handle(l.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return handle(l.finallyLoc)}}}},abrupt:function(t,o){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&a.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var l=i;break}}l&&("break"===t||"continue"===t)&&l.tryLoc<=o&&o<=l.finallyLoc&&(l=null);var c=l?l.completion:{};return c.type=t,c.arg=o,l?(this.method="next",this.next=l.finallyLoc,g):this.complete(c)},complete:function(t,o){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&o&&(this.next=o),g},finish:function(t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),resetTryEntry(r),g}},catch:function(t){for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o];if(r.tryLoc===t){var a=r.completion;if("throw"===a.type){var i=a.arg;resetTryEntry(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,r,a){return this.delegate={iterator:values(t),resultName:r,nextLoc:a},"next"===this.method&&(this.arg=o),g}},t}(t.exports);try{regeneratorRuntime=a}catch(i){Function("r","regeneratorRuntime = r")(a)}},"./node_modules/tiny-emitter/index.js":function(t,o){function E(){}E.prototype={on:function(t,o,r){var a=this.e||(this.e={});return(a[t]||(a[t]=[])).push({fn:o,ctx:r}),this},once:function(t,o,r){var a=this;function listener(){a.off(t,listener),o.apply(r,arguments)}return listener._=o,this.on(t,listener,r)},emit:function(t){for(var o=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),a=0,i=r.length;a<i;a++)r[a].fn.apply(r[a].ctx,o);return this},off:function(t,o){var r=this.e||(this.e={}),a=r[t],i=[];if(a&&o)for(var l=0,c=a.length;l<c;l++)a[l].fn!==o&&a[l].fn._!==o&&i.push(a[l]);return i.length?r[t]=i:delete r[t],this}},t.exports=E,t.exports.TinyEmitter=E},"./node_modules/vue-loader/lib/runtime/componentNormalizer.js":function(t,o,r){"use strict";function normalizeComponent(t,o,r,a,i,l,c,u){var d,m="function"==typeof t?t.options:t;if(o&&(m.render=o,m.staticRenderFns=r,m._compiled=!0),a&&(m.functional=!0),l&&(m._scopeId="data-v-"+l),c?(d=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(c)},m._ssrRegister=d):i&&(d=u?function(){i.call(this,(m.functional?this.parent:this).$root.$options.shadowRoot)}:i),d)if(m.functional){m._injectStyles=d;var p=m.render;m.render=function renderWithStyleInjection(t,o){return d.call(o),p(t,o)}}else{var b=m.beforeCreate;m.beforeCreate=b?[].concat(b,d):[d]}return{exports:t,options:m}}r.d(o,"a",(function(){return normalizeComponent}))},"./node_modules/vue/dist/vue.esm.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/vue/dist/vue.esm.js")},"./node_modules/vuex/dist/vuex.esm.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./node_modules/vuex/dist/vuex.esm.js")},"./node_modules/webpack/buildin/global.js":function(t,o,r){t.exports=r("dll-reference amplitudeDLL")("./node_modules/webpack/buildin/global.js")},"./node_modules/webpack/buildin/harmony-module.js":function(t,o){t.exports=function(t){if(!t.webpackPolyfill){var o=Object.create(t);o.children||(o.children=[]),Object.defineProperty(o,"loaded",{enumerable:!0,get:function(){return o.l}}),Object.defineProperty(o,"id",{enumerable:!0,get:function(){return o.i}}),Object.defineProperty(o,"exports",{enumerable:!0}),o.webpackPolyfill=1}return o}},"./ui/components/comments/comment-follow.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-follow.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-form-guest.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-form-guest.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-form-inactive.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-form-inactive.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-form-post.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-form-post.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-post-actions.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-actions.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-post-body.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-body.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-post-delete.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-delete.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-post-report-spam.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post-report-spam.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/comments/comment-post.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/comments/comment-post.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/forms/form-button.vue":function(t,o,r){"use strict";var a={name:"FormButton",mixins:[r("./utils/mixins/dark-mode-functional.js").a],props:{disabled:{type:Boolean,default:!1},fullWidth:{type:Boolean,default:!1},href:{type:String,required:!1},size:{type:String,required:!1},theme:{type:String,required:!1},type:{type:String,default:"button"}},methods:{handleClick:function handleClick(){this.href&&(window.location=this.href)}}},i=r("./ui/components/forms/form-button.vue?vue&type=style&index=0&lang=scss&module=true&"),l=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var c=Object(l.a)(a,(function(){var t,o=this,r=o.$createElement;return(o._self._c||r)("button",o._g({class:[o.componentClasses(),o.$style[o.size],o.$style[o.theme],(t={},t[o.$style["full-width"]]=o.fullWidth,t)],attrs:{disabled:o.disabled,type:o.type},on:{click:o.handleClick}},o.$listeners),[o._t("default")],2)}),[],!1,(function injectStyles(t){this.$style=i.default.locals||i.default}),null,null);o.a=c.exports},"./ui/components/forms/form-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/forms/form-button.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/forms/form-checkbox.vue":function(t,o,r){"use strict";var a=r("./utils/mixins/dark-mode-forces.js"),i={name:"FormCheckbox",mixins:[r("./utils/mixins/dark-mode-functional.js").a,a.a],props:{disabled:{type:Boolean,default:!1},id:{type:String},label:{type:String,required:!0},name:{type:String,required:!0},value:{type:Boolean,required:!0}},emits:["input"],methods:{setCheckboxStatus:function setCheckboxStatus(t){this.$emit("input",t)}}},l=r("./ui/components/forms/form-checkbox.vue?vue&type=style&index=0&lang=scss&module=true&"),c=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var u=Object(c.a)(i,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:[t.componentClasses(),t.themeClasses]},[r("input",{class:t.$style.checkbox,attrs:{id:t.id||t.name,type:"checkbox",disabled:t.disabled,name:t.name},domProps:{checked:t.value},on:{change:function(o){return t.setCheckboxStatus(o.target.checked)}}}),t._v(" "),r("label",{class:t.$style.label,attrs:{for:t.name}},[t._v("\n    "+t._s(t.label)+"\n  ")])])}),[],!1,(function injectStyles(t){this.$style=l.default.locals||l.default}),null,null);o.a=u.exports},"./ui/components/forms/form-checkbox.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/forms/form-checkbox.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/forms/form-input.vue":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./utils/mixins/dark-mode-functional.js"),c=r("./utils/mixins/dark-mode-forces.js"),u=r("./ui/components/icons/icon-font.vue"),d=r("./utils/directives/tooltip.js"),m={name:"FormInput",components:{IconFont:u.a},directives:{tooltip:d.a},mixins:[l.a,c.a],props:{ariaLabel:String,autocomplete:String,autofocus:Boolean,disabled:{type:Boolean,default:!1,required:!1},iconLeft:{type:String,required:!1},iconLeftTooltip:{type:String,default:""},iconRight:{type:String,required:!1},iconRightTooltip:{type:String,default:""},id:String,maxlength:Number,name:String,placeholder:{type:String,required:!1},readonly:{type:Boolean,default:!1,required:!1},size:{type:String,required:!1},type:{type:String,default:"text"},value:{type:[String,Number],required:!1}},emits:["input","enter","keyup","focus","blur"],computed:{inputClasses:function inputClasses(){var t,o=this.$style,r=this.iconLeft,a=this.iconRight,l=this.lightMode,c=this.size;return[o.input,o[c],(t={},i()(t,o.left,r),i()(t,o.right,a),i()(t,"light-mode",l),t)]}},methods:{blurEvent:function blurEvent(t){this.$emit("blur",t)},focusEvent:function focusEvent(t){this.$emit("focus",t)},keyupEvent:function keyupEvent(t){this.$emit("keyup",t)},keyupEnterEvent:function keyupEnterEvent(t){this.$emit("enter",t)},onIconClick:function onIconClick(t){this.$emit("icon-click-".concat(t))},updateValue:function updateValue(t){this.$emit("input",t)}}},p=r("./ui/components/forms/form-input.vue?vue&type=style&index=0&lang=scss&module=true&"),b=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var g=Object(b.a)(m,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:[t.componentClasses(),t.themeClasses]},[t.iconLeft?r("icon-font",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.iconLeftTooltip,expression:"iconLeftTooltip"}],class:[t.$style.icon,t.$style.left],attrs:{"is-dark-mode":t.isDarkMode,name:t.iconLeft,theme:"primary"},on:{click:function(o){return t.onIconClick("left")}}}):t._e(),t._v(" "),r("input",{class:t.inputClasses,attrs:{id:t.id,"aria-label":t.ariaLabel,autocomplete:t.autocomplete,autofocus:t.autofocus,maxlength:t.maxlength,name:t.name,placeholder:t.placeholder,readonly:t.readonly,type:t.type},domProps:{value:t.value},on:{blur:function(o){return t.blurEvent(o)},focus:function(o){return t.focusEvent(o)},input:function(o){return t.updateValue(o.target.value)},keyup:[function(o){return t.keyupEvent(o)},function(o){return!o.type.indexOf("key")&&t._k(o.keyCode,"enter",13,o.key,"Enter")?null:t.keyupEnterEvent(o)}]}}),t._v(" "),t.iconRight?r("icon-font",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.iconRightTooltip,expression:"iconRightTooltip"}],class:[t.$style.icon,t.$style.right],attrs:{"is-dark-mode":t.isDarkMode,name:t.iconRight},on:{click:function(o){return t.onIconClick("right")}}}):t._e()],1)}),[],!1,(function injectStyles(t){this.$style=p.default.locals||p.default}),null,null);o.a=g.exports},"./ui/components/forms/form-input.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/forms/form-input.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/icons/country-flag.vue":function(t,o,r){"use strict";var a={name:"CountryFlag",directives:{tooltip:r("./utils/directives/tooltip.js").a},props:{code:{type:[Number,String],required:!1},name:{type:[String,Object],required:!1},size:{type:String,required:!1}}},i=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),l=Object(i.a)(a,(function(){var t,o=this,r=o.$createElement;return(o._self._c||r)("div",{directives:[{name:"tooltip",rawName:"v-tooltip",value:o.name,expression:"name"}],class:["country-flags-component",("country-"+o.code).toLowerCase(),(t={},t["country-flags-"+o.size]=o.size,t)]})}),[],!1,null,null,null);o.a=l.exports},"./ui/components/icons/icon-font.vue":function(t,o,r){"use strict";var a={name:"IconFont",mixins:[{props:{family:{type:String,default:"chess"},isDarkMode:{type:Boolean,default:!1},name:{type:String,required:!0},theme:{type:String,default:""}}}]},i=r("./ui/components/icons/icon-font.vue?vue&type=style&index=0&lang=scss&module=true&"),l=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var c=Object(l.a)(a,(function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",o._g({class:[o.$style.component,(t={},t[o.$style.darkMode]=o.isDarkMode,t)]},o.$listeners),[a("span",{class:[o.$style[o.family],o.name,o.$style[o.theme]]})])}),[],!1,(function injectStyles(t){this.$style=i.default.locals||i.default}),null,null);o.a=c.exports},"./ui/components/icons/icon-font.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/icons/icon-font.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/loaders/loader-three-bounce.vue":function(t,o,r){"use strict";var a={name:"LoaderThreeBounce",props:{isCircle:{type:Boolean,default:!1},size:{type:Number,default:80}},computed:{dotCss:function dotCss(){var t="".concat(Math.round(this.size/4),"px");return{width:t,height:t}}}},i=r("./ui/components/loaders/loader-three-bounce.vue?vue&type=style&index=0&lang=scss&module=true&"),l=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var c=Object(l.a)(a,(function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:[o.$style.component,(t={},t[o.$style.circle]=o.isCircle,t)],style:{width:o.size+"px"}},[a("div",{class:[o.$style.dot,o.$style.bounce1],style:o.dotCss}),o._v(" "),a("div",{class:[o.$style.dot,o.$style.bounce2],style:o.dotCss}),o._v(" "),a("div",{class:o.$style.dot,style:o.dotCss})])}),[],!1,(function injectStyles(t){this.$style=i.default.locals||i.default}),null,null);o.a=c.exports},"./ui/components/loaders/loader-three-bounce.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/loaders/loader-three-bounce.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/modals/modal-container.vue":function(t,o,r){"use strict";var a=r("./web/core/api/modals/config.js"),i={name:"ModalContainer",props:{autoShow:{type:Boolean,default:!1},closeOnBackgroundClick:{type:Boolean,default:!0},closeOnEscPress:{type:Boolean,default:!1},centerOverParent:{type:Boolean,default:!1},centerOverContent:{type:Boolean,default:!1}},emits:["background-clicked"],data:function data(){return{visible:!1}},mounted:function mounted(){this.closeOnEscPress&&window.addEventListener("keyup",this.onKeyPress),this.autoShow&&this.show()},beforeDestroy:function beforeDestroy(){this.closeOnEscPress&&window.removeEventListener("keyup",this.onKeyPress)},methods:{hide:function hide(){this.visible=!1,this.$emit(a.a.MODAL_DID_HIDE)},onBackgroundClick:function onBackgroundClick(){this.closeOnBackgroundClick&&(this.hide(),this.$emit("background-clicked"))},onKeyPress:function onKeyPress(t){27===t.keyCode&&this.hide()},show:function show(){this.visible=!0}}},l=r("./ui/components/modals/modal-container.vue?vue&type=style&index=0&lang=scss&module=true&"),c=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var u=Object(c.a)(i,(function(){var t,o,r=this,a=r.$createElement,i=r._self._c||a;return i("transition",{attrs:{"enter-active-class":r.$style.enter,"leave-active-class":r.$style.leave}},[r.visible?i("div",{class:[r.$style.component,(t={},t[r.$style["parent-centered"]]=r.centerOverParent,t),(o={},o[r.$style["content-centered"]]=r.centerOverContent,o)]},[r.centerOverParent?r._e():i("div",{class:r.$style.bg,on:{click:r.onBackgroundClick}}),r._v(" "),r._t("default")],2):r._e()])}),[],!1,(function injectStyles(t){this.$style=l.default.locals||l.default}),null,null);o.a=u.exports},"./ui/components/modals/modal-container.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/modals/modal-container.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/modals/modal-content.vue":function(t,o,r){"use strict";var a={name:"ModalContent",components:{SectionContainer:r("./ui/components/sections/section-container.vue").a},props:{overflow:String}},i=r("./ui/components/modals/modal-content.vue?vue&type=style&index=0&lang=scss&module=true&"),l=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var c=Object(l.a)(a,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("section-container",{class:t.$style.component,attrs:{"light-mode":"",overflow:t.overflow}},[t._t("default")],2)}),[],!1,(function injectStyles(t){this.$style=i.default.locals||i.default}),null,null);o.a=c.exports},"./ui/components/modals/modal-content.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/modals/modal-content.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/pagination/pagination-button-v5.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination-button-v5.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/pagination/pagination-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination-button.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/pagination/pagination-spread.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination-spread.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/pagination/pagination.vue":function(t,o,r){"use strict";var a=r("./web/core/api/content/config.js"),i=r("./utils/mixins/dark-mode-forces.js"),l=r("./utils/translator.js"),c=r("./ui/components/forms/form-button.vue"),u=r("./ui/components/icons/icon-font.vue"),d={name:"PaginationButton",components:{FormButton:c.a,IconFont:u.a},mixins:[i.a],props:{content:{type:String,required:!1},lightMode:{type:Boolean,default:!1},isActive:{type:Boolean,default:!1},icon:{type:String,required:!1},isDisabled:{type:Boolean,default:!1}},emits:["click"]},m=r("./ui/components/pagination/pagination-button.vue?vue&type=style&index=0&lang=scss&module=true&"),p=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var b=Object(p.a)(d,(function(){var t,o,r=this,a=r.$createElement,i=r._self._c||a;return i("form-button",{class:[r.$style.component,(t={},t[r.$style.active]=r.isActive,t),(o={},o[r.$style.disabled]=r.isDisabled,o),r.themeClasses],attrs:{rel:"nofollow","aria-selected":r.isActive},on:{click:function(t){return r.$emit("click",t)}}},[r.icon?i("icon-font",{class:r.$style.icon,attrs:{name:r.icon}}):r._e(),r._v(" "),r.content?i("span",{class:r.$style.content},[r._v("\n    "+r._s(r.content)+"\n  ")]):r._e()],1)}),[],!1,(function injectStyles(t){this.$style=m.default.locals||m.default}),null,null).exports,g={name:"PaginationButton",components:{V5Button:r("./node_modules/@chesscom/web-ui/dist/ui/vue/index.js").V5Button},props:{content:{type:String,required:!1},isActive:{type:Boolean,default:!1},icon:{type:String,required:!1},isDisabled:{type:Boolean,default:!1}},emits:["click"]},h=r("./ui/components/pagination/pagination-button-v5.vue?vue&type=style&index=0&lang=scss&module=true&");var _=Object(p.a)(g,(function(){var t,o,r,a=this,i=a.$createElement,l=a._self._c||i;return l("v5-button",{class:[(t={},t[a.$style.disabled]=a.isDisabled,t),(o={},o[a.$style.active]=a.isActive,o)],attrs:{rel:"nofollow",theme:"pagination","aria-selected":a.isActive,disabled:a.isDisabled},on:{click:function(t){return a.$emit("click",t)}}},[a.icon?l("span",{staticClass:"icon-font-chess",class:[a.$style.icon,(r={},r[a.icon]=a.icon,r)]}):a._e(),a._v(" "),a.content?l("span",{class:a.$style.content,domProps:{textContent:a._s(a.content)}}):a._e()])}),[],!1,(function pagination_button_v5_injectStyles(t){this.$style=h.default.locals||h.default}),null,null).exports,v={name:"PaginationSpread",props:{isV5:{type:Boolean,default:!1}}},y=r("./ui/components/pagination/pagination-spread.vue?vue&type=style&index=0&lang=scss&module=true&");var w={name:"Pagination",components:{PaginationButton:b,PaginationButtonV5:_,PaginationSpread:Object(p.a)(v,(function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:[o.$style.component,(t={},t[o.$style.v5]=o.isV5,t)]},[a("span",{class:o.$style.content},[o._v("...")])])}),[],!1,(function pagination_spread_injectStyles(t){this.$style=y.default.locals||y.default}),null,null).exports},mixins:[i.a],props:{changePage:{type:Function,required:!0},currentPage:{type:Number,required:!0},lightMode:{type:Boolean,default:!1},hasMoreProp:{type:Boolean},morePages:{type:Boolean,default:!1},isV5:{type:Boolean,default:!1},totalPages:{type:Number,default:0},totalResultsCount:{type:Number,required:!1},scrollOnPageChange:{type:Boolean,default:!1},scrollTo:{type:String},shouldHide:{type:Boolean,default:!1},showFirstLastButtons:{type:Boolean,default:!0},showTopButton:{type:Boolean,default:!1},updateURL:{type:Boolean,default:!1}},data:function data(){return{tabLimit:4}},computed:{totalResultsCountText:function totalResultsCountText(){var t=this.totalResultsCount||0;return"".concat(this.$trans("Total"),": ").concat(t)},firstPage:function firstPage(){return 1===this.currentPage},lastPage:function lastPage(){return this.hasMoreProp?!1===this.morePages:this.currentPage===this.totalPages},lastPageIsHidden:function lastPageIsHidden(){return!this.pages.includes(this.totalPages)},pages:function pages(){if(this.totalPages>1)return this.generatePagesFromTotalPages();if(this.hasMoreProp&&this.morePages&&1===this.currentPage)return[1,2];if(this.hasMoreProp&&this.morePages&&this.currentPage>1){for(var pages=[],t=this.currentPage+1;t>0;t-=1)pages.push(t);return pages.reverse()}if(this.hasMoreProp&&!this.morePages){for(var o=[],r=this.currentPage;r>0;r-=1)o.push(r);return o.reverse()}return[1]},showLowerEllipsis:function showLowerEllipsis(){return this.currentPage>1&&-1===this.pages.indexOf(1)&&!this.hasMoreProp},showPaginator:function showPaginator(){return!this.shouldHide&&(!(!this.hasMoreProp&&this.totalPages<=1)&&!(this.hasMoreProp&&!this.morePages&&1===this.currentPage))},showUpperEllipsis:function showUpperEllipsis(){return this.lastPageIsHidden&&!this.hasMoreProp}},methods:{serialize:function serialize(t){return Object.keys(t).map((function(o){return"".concat(encodeURIComponent(o),"=").concat(encodeURIComponent(t[o]))})).join("&")},isSamePage:function isSamePage(t){return this.currentPage===t},generatePagesFromTotalPages:function generatePagesFromTotalPages(){var t=[];if(this.totalPages<=this.tabLimit){for(var o=1;o<=this.totalPages;o+=1)t.push(o);return t}if(this.currentPage+this.tabLimit<=this.totalPages){for(var r=this.currentPage;r<this.currentPage+this.tabLimit;r+=1)t.push(r);return t}for(var a=this.totalPages;a>this.totalPages-4;a-=1)t.push(a);return t.reverse()},goToPageNumber:function goToPageNumber(t){return this.isSamePage(t)?l.a.trans("Current Page, Page %pageNumber%",{"%pageNumber%":t}):(this.scrollOnPageChange&&this.goToTop(),l.a.trans("Page %pageNumber%",{"%pageNumber%":t}))},goToTop:function goToTop(){var t=document.getElementById(this.scrollTo);t||(t=document.getElementById(a.f.SCROLL_TOP_ANCHOR)),t.scrollIntoView({behavior:"smooth",block:"start"})}}},j=r("./ui/components/pagination/pagination.vue?vue&type=style&index=0&lang=scss&module=true&");var O=Object(p.a)(w,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[t.showTopButton&&!t.isV5?r("pagination-button",{class:[t.$style.top,t.themeClasses],attrs:{icon:"chevron-up","aria-label":t.$trans("Back to Top"),content:t.$trans("Top"),"light-mode":t.lightMode},on:{click:function(o){return t.goToTop()}}}):t._e(),t._v(" "),t.showTopButton&&t.isV5?r("pagination-button-v5",{class:[t.$style.top,t.themeClasses],attrs:{icon:"chevron-up","aria-label":t.$trans("Back to Top"),content:t.$trans("Top")},on:{click:function(o){return t.goToTop()}}}):t._e(),t._v(" "),t.showPaginator?r("nav",{class:t.$style.pagination},[t.totalResultsCount?r("span",{class:t.$style.results},[t._v(" "+t._s(t.totalResultsCountText)+"\n    ")]):t._e(),t._v(" "),t.firstPage||t.hasMoreProp||!t.showFirstLastButtons||t.isV5?t._e():r("pagination-button",{class:[t.$style.first,t.themeClasses],attrs:{"aria-label":t.$trans("First Page"),content:t.$trans("First"),"light-mode":t.lightMode},on:{click:function(o){return t.changePage(1)}}}),t._v(" "),!t.firstPage&&!t.hasMoreProp&&t.showFirstLastButtons&&t.isV5?r("pagination-button-v5",{class:[t.$style.first,t.themeClasses],attrs:{"aria-label":t.$trans("First Page"),content:t.$trans("First")},on:{click:function(o){return t.changePage(1)}}}):t._e(),t._v(" "),t.isV5?t._e():r("pagination-button",{class:[t.$style.prev,t.themeClasses],attrs:{icon:"chevron-left","aria-label":t.$trans("Previous Page"),"is-disabled":t.firstPage,"light-mode":t.lightMode},on:{click:function(o){return t.changePage(t.currentPage-1)}}}),t._v(" "),t.isV5?r("pagination-button-v5",{class:[t.$style.prev,t.themeClasses],attrs:{icon:"chevron-left","aria-label":t.$trans("Previous Page"),"is-disabled":t.firstPage},on:{click:function(o){return t.changePage(t.currentPage-1)}}}):t._e(),t._v(" "),t.showLowerEllipsis?r("pagination-spread"):t._e(),t._v(" "),t.isV5?t._l(t.pages,(function(o,a){return r("pagination-button-v5",{key:a,class:t.themeClasses,attrs:{"aria-label":t.goToPageNumber(o),content:o.toString(),"is-active":t.isSamePage(o),"is-disabled":t.isSamePage(o)},on:{click:function(r){return t.changePage(o)}}})})):t._l(t.pages,(function(o,a){return r("pagination-button",{key:a,class:t.themeClasses,attrs:{"aria-label":t.goToPageNumber(o),content:o.toString(),"is-active":t.isSamePage(o),"is-disabled":t.isSamePage(o),"light-mode":t.lightMode},on:{click:function(r){return t.changePage(o)}}})})),t._v(" "),t.showUpperEllipsis?r("pagination-spread",{attrs:{"is-v5":t.isV5}}):t._e(),t._v(" "),t.isV5?t._e():r("pagination-button",{class:[t.$style.next,t.themeClasses],attrs:{icon:"chevron-right","aria-label":t.$trans("Next Page"),"is-disabled":t.lastPage,"light-mode":t.lightMode},on:{click:function(o){return t.changePage(t.currentPage+1)}}}),t._v(" "),t.isV5?r("pagination-button-v5",{class:[t.$style.next,t.themeClasses],attrs:{icon:"chevron-right","aria-label":t.$trans("Next Page"),"is-disabled":t.lastPage},on:{click:function(o){return t.changePage(t.currentPage+1)}}}):t._e(),t._v(" "),t.lastPage||t.hasMoreProp||!t.showFirstLastButtons||t.isV5?t._e():r("pagination-button",{class:[t.$style.last,t.themeClasses],attrs:{"aria-label":t.$trans("Last Page"),content:t.$trans("Last"),"light-mode":t.lightMode},on:{click:function(o){return t.changePage(-1)}}}),t._v(" "),!t.lastPage&&!t.hasMoreProp&&t.showFirstLastButtons&&t.isV5?r("pagination-button-v5",{class:[t.$style.last,t.themeClasses],attrs:{"aria-label":t.$trans("Last Page"),content:t.$trans("Last")},on:{click:function(o){return t.changePage(-1)}}}):t._e()],2):t._e()],1)}),[],!1,(function pagination_injectStyles(t){this.$style=j.default.locals||j.default}),null,null);o.a=O.exports},"./ui/components/pagination/pagination.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/pagination/pagination.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/sections/section-container.vue":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l={name:"SectionContainer",mixins:[r("./utils/mixins/dark-mode-forces.js").a],props:{overflow:{type:String,required:!1}},computed:{componentClasses:function componentClasses(){var t=this.overflow,o=this.$style;return[o.component,i()({},o[t],t),this.themeClasses]}}},c=r("./ui/components/sections/section-container.vue?vue&type=style&index=0&lang=scss&module=true&"),u=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var d=Object(u.a)(l,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",{class:t.componentClasses},[t._t("default")],2)}),[],!1,(function injectStyles(t){this.$style=c.default.locals||c.default}),null,null);o.a=d.exports},"./ui/components/sections/section-container.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/sections/section-container.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/sections/section-explanation.vue?vue&type=style&index=0&module=true&lang=css&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/sections/section-explanation.vue?vue&type=style&index=0&module=true&lang=css&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/sections/section-title.vue":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./utils/mixins/dark-mode-forces.js"),c={name:"SectionTitle",components:{IconFont:r("./ui/components/icons/icon-font.vue").a},mixins:[l.a],props:{icon:{type:String,default:""},isDarkMode:{type:Boolean,required:!1},isV5:{type:Boolean,required:!1,default:!1},name:{type:String,required:!0}},computed:{componentClasses:function componentClasses(){return[this.$style.component,i()({},this.$style.darkMode,this.isDarkMode),this.themeClasses]}}},u=r("./ui/components/sections/section-title.vue?vue&type=style&index=0&lang=scss&module=true&"),d=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var m=Object(d.a)(c,(function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:[o.componentClasses,(t={},t[o.$style["has-icon"]]=o.icon,t)]},[o.icon?a("icon-font",{class:o.$style.icon,attrs:{family:"chess",theme:"primary","is-dark-mode":o.isDarkMode,name:o.icon}}):o._e(),o._v(" "),a("span",{class:[o.$style.name,o.isV5?o.$style["name-v5"]:""]},[o._v("\n    "+o._s(o.name)+"\n  ")]),o._v(" "),o._t("default")],2)}),[],!1,(function injectStyles(t){this.$style=u.default.locals||u.default}),null,null);o.a=m.exports},"./ui/components/sections/section-title.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/sections/section-title.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/social/social-share.vue":function(t,o,r){"use strict";var a=r("./ui/components/icons/icon-font.vue"),i=r("./utils/browser.js"),l=r("./utils/router.js"),c=r("./utils/translator.js"),u=Object(i.d)().slice(0,-13),d="report-tv-video",m=function android(){return l.a.generate("web_play_app_view",{type:"android"},!0)},p=function ios(){return l.a.generate("web_play_app_view",{type:"ios"},!0)},b=function register(){return l.a.generate("web_security_register",{},!0)},g={discord:function discord(){return"https://go.chess.com/Discord"},facebook:function facebook(){return"http://www.facebook.com/sharer.php?u=".concat(Object(i.c)())},linkedin:function linkedin(){return"https://www.linkedin.com/shareArticle?mini=true&url=".concat(Object(i.c)(),"&title=").concat(Object(i.d)(),"&summary=").concat(Object(i.d)(),"&source=Chess.com")},mix:function mix(){return"http://www.mix.com/submit?url=".concat(Object(i.c)(),"&title=").concat(Object(i.d)())},reddit:function reddit(){return"http://reddit.com/r/chess/submit?url=".concat(Object(i.c)(),"&title=").concat(Object(i.d)())},tumblr:function tumblr(){return"http://www.tumblr.com/share/link?url=".concat(Object(i.c)(),"&name=").concat(Object(i.d)(),"&description=").concat(Object(i.d)())},twitch:function twitch(){return"https://www.chess.com/twitch"},twitter:function twitter(){return"https://twitter.com/intent/tweet?text=".concat(u,"&url=").concat(Object(i.c)())}},h={addFavorites:c.a.trans("Add to Favorites"),android:c.a.trans("Android App"),discord:c.a.trans("Discord"),facebook:c.a.trans("Facebook"),gamesToday:c.a.trans("Games Today"),google:c.a.trans("Google+"),instagram:c.a.trans("Instagram"),ios:c.a.trans("iOS App"),members:c.a.trans("Members"),playersOnline:c.a.trans("Players Online"),print:c.a.trans("Print"),report:c.a.trans("Report"),sendEmail:c.a.trans("Send by Mail"),titledOnline:c.a.trans("Titled Online"),twitch:c.a.trans("Twitch"),twitter:c.a.trans("Twitter"),windows:c.a.trans("Windows App"),youtube:c.a.trans("Youtube"),shareFacebook:c.a.trans("Share on Facebook"),shareGplus:c.a.trans("Share on Google Plus"),shareLinkedIn:c.a.trans("Share on LinkedIn"),shareMix:c.a.trans("Share on Mix"),shareReddit:c.a.trans("Share on Reddit"),shareTumblr:c.a.trans("Post to Tumblr"),shareTwitter:c.a.trans("Share on Twitter"),showMore:c.a.trans("Show More")},_={facebook:"https://www.facebook.com/chess",instagram:"https://www.instagram.com/wwwchesscom/",twitch:"https://www.twitch.tv/chess",twitter:"https://twitter.com/chesscom",youtube:"https://www.youtube.com/user/wwwChesscom"},v=r("./utils/window.js"),y=r("./utils/http/index.js"),w=r("./utils/event-hub.js"),j={name:"SocialShare",components:{IconFont:a.a},props:{background:{type:String,default:"default"},userId:{type:String,required:!1},username:{type:String,required:!1},chessTvExtraButtons:{type:Boolean,default:!1}},data:function data(){return{isExpanded:!1,translations:h,share:g,web:_}},methods:{bookmarkPage:i.a,printWindow:i.f,sendInvitation:function sendInvitation(t,o){var r="/settings"===i.i?"":"".concat(i.j," ").concat(i.h," %0D%0A%0D%0A"),a=t?"?friend=".concat(t):"",l="body=".concat(r,"I play at Chess.com! Download their free app:%0D%0A%0D%0A\n       for Android - ").concat(m(),"\n       for iPhone %26 iPad - ").concat(p()," %0D%0A\n       or sign up online at ").concat(b()).concat(a,"\n      %0D%0A%0D%0A ... %0D%0A%0D%0A");o&&(l+="Then challenge me! %22".concat(o,"%22 is my username! %0D%0A\n            http://www.chess.com/members/view/").concat(o)),Object(i.g)("subject=Check out Chess.com",l)},shareWindow:function shareWindow(t){"facebook"!==t&&"twitter"!==t||function trackSharedGame(t){y.default.post(l.a.generate("web_game_callback_shared",{type:t}))}(t),"function"==typeof g[t]&&Object(v.a)(g[t]())},toggleExpanded:function toggleExpanded(){this.isExpanded=!this.isExpanded},handleReport:function handleReport(){w.a.emit(d)}}},O=r("./ui/components/social/social-share.vue?vue&type=style&index=0&lang=scss&module=true&"),S=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var k=Object(S.a)(j,(function(){var t,o,r,a=this,i=a.$createElement,l=a._self._c||i;return l("div",{class:[a.$style.component,(t={},t[a.$style[a.background]]=a.background,t)]},[l("div",{class:[a.$style.background,(o={},o[a.$style.expanded]=a.isExpanded,o)]},[l("div",{class:a.$style.primary},[a.chessTvExtraButtons?[l("a",{class:[a.$style.link,a.$style.twitch],attrs:{target:"_blank","aria-label":a.translations.twitch,href:a.share.twitch(),title:a.translations.twitch}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"twitch",theme:"secondary"}})],1),a._v(" "),l("a",{class:[a.$style.link,a.$style.youtube],attrs:{target:"_blank","aria-label":a.translations.youtube,href:a.web.youtube,title:a.translations.youtube}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"youtube",theme:"secondary"}})],1),a._v(" "),l("a",{class:[a.$style.link,a.$style.instagram],attrs:{target:"_blank","aria-label":a.translations.instagram,href:a.web.instagram,title:a.translations.instagram}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"instagram",theme:"secondary"}})],1),a._v(" "),l("a",{class:[a.$style.link,a.$style.discord],attrs:{target:"_blank","aria-label":a.translations.discord,href:a.share.discord(),title:a.translations.discord}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"discord",theme:"secondary"}})],1)]:a._e(),a._v(" "),l("button",{class:[a.$style.link,a.$style.facebook],attrs:{type:"button","aria-label":a.translations.shareFacebook,title:a.translations.shareFacebook},on:{click:function(t){return a.shareWindow("facebook")}}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"facebook",theme:"secondary"}})],1),a._v(" "),l("button",{class:[a.$style.link,a.$style.twitter],attrs:{type:"button","aria-label":a.translations.shareTwitter,title:a.translations.shareTwitter},on:{click:function(t){return a.shareWindow("twitter")}}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"twitter",theme:"secondary"}})],1),a._v(" "),l("button",{class:[a.$style.link,a.$style.reddit],attrs:{type:"button","aria-label":a.translations.shareReddit,title:a.translations.shareReddit},on:{click:function(t){return a.shareWindow("reddit")}}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"reddit",theme:"secondary"}})],1),a._v(" "),l("button",{class:[a.$style.link,a.$style.share],attrs:{type:"button","aria-label":a.translations.showMore,title:a.translations.showMore},on:{click:a.toggleExpanded}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",theme:"secondary",name:a.isExpanded?"x":"share"}})],1),a._v(" "),a.chessTvExtraButtons?l("button",{class:[a.$style.link,a.$style.share],attrs:{type:"button","aria-label":a.translations.report,title:a.translations.report},on:{click:a.handleReport}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"circle-danger",theme:"secondary"}})],1):a._e()],2),a._v(" "),l("div",{class:[a.$style.secondary,(r={},r[a.$style.visible]=a.isExpanded,r)]},[l("button",{class:a.$style.link,attrs:{type:"button","aria-label":a.translations.shareLinkedIn,title:a.translations.shareLinkedIn},on:{click:function(t){return a.shareWindow("linkedin")}}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"linkedin",theme:"secondary"}})],1),a._v(" "),l("button",{class:a.$style.link,attrs:{type:"button","aria-label":a.translations.shareMix,title:a.translations.shareMix},on:{click:function(t){return a.shareWindow("mix")}}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"mix",theme:"secondary"}})],1),a._v(" "),l("button",{class:a.$style.link,attrs:{type:"button","aria-label":a.translations.shareTumblr,title:a.translations.shareTumblr},on:{click:function(t){return a.shareWindow("tumblr")}}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"tumblr",theme:"secondary"}})],1),a._v(" "),l("button",{class:a.$style.link,attrs:{type:"button","aria-label":a.translations.addFavorites,title:a.translations.addFavorites},on:{click:a.bookmarkPage}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"favorites",theme:"secondary"}})],1),a._v(" "),l("button",{class:a.$style.link,attrs:{type:"button","aria-label":a.translations.sendEmail,title:a.translations.sendEmail},on:{click:function(t){return a.sendInvitation(a.userId,a.username)}}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"mail",theme:"secondary"}})],1),a._v(" "),l("button",{class:a.$style.link,attrs:{type:"button","aria-label":a.translations.print,title:a.translations.print},on:{click:a.printWindow}},[l("icon-font",{class:a.$style.icon,attrs:{"aria-hidden":"true",family:"chess",name:"printer",theme:"secondary"}})],1)])])])}),[],!1,(function injectStyles(t){this.$style=O.default.locals||O.default}),null,null);o.a=k.exports},"./ui/components/social/social-share.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/social/social-share.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/tinymce/tinymce.vue":function(t,o,r){"use strict";var a=r("./utils/tinymce/config.js"),i=r("./utils/translator.js");function showConfirm(t){var o=i.a.trans("Are you sure you want to leave? You have unsaved changes");return t.returnValue=o,o}function disableConfirm(){window.removeEventListener("beforeunload",showConfirm)}function createEventListeners(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];window.addEventListener("beforeunload",showConfirm),t.forEach((function(t){return t&&t.addEventListener("click",disableConfirm,!0)}))}var l=r("./utils/editor.js"),c={},u={name:"Tinymce",props:{customConfig:{type:Object,required:!1},disabled:{type:Boolean,default:!1},initValue:{type:String,default:""},theme:{type:String},placeholder:{type:String},unsavedChangesConfirm:{type:Boolean,default:!1}},emits:["input","content-updated"],watch:{initValue:function initValue(t){c.setContent("<p>".concat(t,"</p>")),this.$emit("input",t)},disabled:function disabled(){c.destroy(),c=new l.a,this.setupEditor()}},mounted:function mounted(){c=new l.a,this.setupEditor()},beforeDestroy:function beforeDestroy(){c.destroy()},methods:{getCurrentValue:function getCurrentValue(){return c.getContent()},setupEditor:function setupEditor(){var t=this,o=this,r="advanced"===this.theme?Object(a.a)():Object(a.b)(),i=document.getElementById(a.c.SUBMIT_BUTTON),l=this.unsavedChangesConfirm?function unsavedChangesConfirmConfig(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{init_instance_callback:function init_instance_callback(o){o.on("input",(function(){return createEventListeners(t)}),{once:!0})}}}([i]):{},u=Object.assign({},r,o.customConfig,l,{target:o.$refs.editor,setup:function setup(t){t.settings.readonly=o.disabled,o.disabled||(t.on("blur",(function(){o.$emit("content-updated",t.getContent())})),t.on("KeyUp",(function(){o.$emit("input",t.getContent())})),t.on("Change",(function(){o.$emit("input",t.getContent())})),t.on("BeforeSetContent",(function(t){t.content.match(/<a href="http:.*?\.chess\.com.*?a>/)&&(t.content=t.content.replace(/http:/g,"https:"))})),t.shortcuts.add("ctrl+13","submit",(function(){i&&i.click()})))}});c.init(u).then((function(){t.$emit("input",c.getContent())}))}}},d=r("./ui/components/tinymce/tinymce.vue?vue&type=style&index=0&lang=scss&module=true&"),m=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var p=Object(m.a)(u,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[r("div",{ref:"editor",attrs:{placeholder:t.placeholder},domProps:{innerHTML:t._s(t.initValue)}})])}),[],!1,(function injectStyles(t){this.$style=d.default.locals||d.default}),null,null);o.a=p.exports},"./ui/components/tinymce/tinymce.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/tinymce/tinymce.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/admin-actions.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/admin-actions.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/analysis-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/analysis-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/chat-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/chat-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/icon-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/icon-button.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/icon-link.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/icon-link.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/labeled-icon-button.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/labeled-icon-button.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/labeled-icon-link.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/labeled-icon-link.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/online-status.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/online-status.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-actions.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-actions.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-avatar.vue":function(t,o,r){"use strict";var a=r("./utils/asset-mapper/index.js"),i=r("./utils/directives/image-defer.js"),l=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=r.n(l),u={name:"OnlineStatus",props:{isInLivechess:Boolean,isOnline:Boolean},computed:{classes:function classes(){return[this.$style.component,c()({},this.$style.online,this.isOnline),c()({},this.$style.live,this.isInLivechess)]}}},d=r("./ui/components/user/online-status.vue?vue&type=style&index=0&lang=scss&module=true&"),m=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var p=Object(m.a)(u,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",{class:t.classes})}),[],!1,(function injectStyles(t){this.$style=d.default.locals||d.default}),null,null).exports,b={name:"UserAvatar",directives:{ImageDefer:i.a},components:{OnlineStatus:p},props:{image:{type:String,required:!0},isLive:{type:Boolean,default:!1},isOnline:{type:Boolean,default:!1},url:{type:String,required:!1}},computed:{isLink:function isLink(){return Boolean(this.url)},blankImage:function blankImage(){return Object(a.a)("bundles/web/images/user-image.svg")}}},g=r("./ui/components/user/user-avatar.vue?vue&type=style&index=0&lang=scss&module=true&");var h=Object(m.a)(b,(function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("a",{class:[o.$style.component,(t={},t[o.$style.link]=o.isLink,t)],attrs:{href:o.url}},[a("img",{directives:[{name:"image-defer",rawName:"v-image-defer",value:{src:o.image,srcset:!0},expression:"{src: image, srcset: true}"}],class:o.$style.image,attrs:{src:o.blankImage}}),o._v(" "),a("online-status",{attrs:{"is-in-live-chess":o.isLive,"is-online":o.isOnline}})],1)}),[],!1,(function user_avatar_injectStyles(t){this.$style=g.default.locals||g.default}),null,null);o.a=h.exports},"./ui/components/user/user-avatar.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-avatar.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-chess-title.vue":function(t,o,r){"use strict";var a=r("./utils/directives/tooltip.js"),i=r("./web/core/api/user/config.js"),l={name:"UserChessTitle",directives:{Tooltip:a.a},props:{title:{type:String,required:!0},url:{type:String,required:!1},openNewTab:{type:Boolean,required:!1}},data:function data(){return{fullTitle:i.f[this.title]}},computed:{isLink:function isLink(){return Boolean(this.url)},target:function target(){return this.openNewTab?"_blank":null}}},c=r("./ui/components/user/user-chess-title.vue?vue&type=style&index=0&lang=scss&module=true&"),u=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var d=Object(u.a)(l,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return t.isLink?r("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.fullTitle,expression:"fullTitle"}],class:t.$style.component,attrs:{href:t.url,target:t.target},domProps:{textContent:t._s(t.title)}}):r("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.fullTitle,expression:"fullTitle"}],class:t.$style.component,domProps:{textContent:t._s(t.title)}})}),[],!1,(function injectStyles(t){this.$style=c.default.locals||c.default}),null,null);o.a=d.exports},"./ui/components/user/user-chess-title.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-chess-title.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-flair-icon.vue":function(t,o,r){"use strict";var a=r("./web/core/api/user/config.js"),i={name:"Flair",props:{available:{type:Boolean,default:!0},showTheNothingFlair:{type:Boolean,default:!1},code:{type:String,default:a.b.code},size:{type:String}},emits:["click"],computed:{isNothing:function isNothing(){return this.code===a.b.code}}},l=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),c=Object(l.a)(i,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return t.showTheNothingFlair||!t.isNothing?r("span",{class:["flair-component","flair-"+t.code,"flair-"+t.size],on:{click:function(o){return t.$emit("click",o)}}}):t._e()}),[],!1,null,null,null).exports,u=r("./web/core/api/user/helper.js"),d=r("./web/core/api/content/helpers/generate-route.js"),m=r("./utils/translator.js"),p="web_member_callback_block_member",b="web_user_callback_delete_comment",g="web_user_callback_get_available_flair",h="web_user_callback_load_notes",_="web_member_callback_mute_account",v="web_user_callback_post_note",y="web_user_callback_set_flair",w="web_user_callback_set_status",j="web_user_settings_edit",O="web_member_view",S={blockUser:function blockUser(t){return Object(d.a)(p,{username:t})},communityGuidelines:function communityGuidelines(){return Object(d.a)("web_policies_community")},deleteNote:function deleteNote(t){return Object(d.a)(b,{id:t})},disableAccount:function disableAccount(t){return Object(d.a)("web_member_disable",{id:t})},enableAccount:function enableAccount(t){return Object(d.a)("web_member_enable",{id:t})},getFlair:function getFlair(t){return Object(d.a)(g,{username:t})},impersonateUser:function impersonateUser(t){return Object(d.a)("web_user_home",{_impersonate:t})},loadNotes:function loadNotes(t,o,r){return Object(d.a)(h,{userId:t,itemsPerPage:o,page:r})},masterPlayerLink:function masterPlayerLink(t){return Object(d.a)("web_master_player_view",{url:t})},muteUser:function muteUser(t){return Object(d.a)("web_member_mute",{username:t})},muteUserTemporary:function muteUserTemporary(t){return Object(d.a)(_,{user:t})},postNote:function postNote(){return Object(d.a)(v)},removeAvatar:function removeAvatar(t){return Object(d.a)("web_member_remove_avatar",{username:t})},removeBackground:function removeBackground(t){return Object(d.a)("web_user_callback_remove_user_custom_background",{user:t})},resetFlair:function resetFlair(t){return Object(d.a)("web_member_reset_flair",{username:t})},setCode:function setCode(){return Object(d.a)(y)},setFlairStatus:function setFlairStatus(){return Object(d.a)(w)},settings:function settings(){return Object(d.a)(j)},stopImpersonateUser:function stopImpersonateUser(t,o){return Object(d.a)(t,o)},unmuteUser:function unmuteUser(t){return Object(d.a)("web_member_unmute",{username:t})},userUrl:function userUrl(t){return Object(d.a)(O,{username:t})}},k=(m.a.trans("Are you sure you want to disable this account?"),m.a.trans("Edit status"),m.a.trans("Are you sure you want to enable this account?"),m.a.trans("Enter a status here"),m.a.trans("Are you sure you want to impersonate this user?"),m.a.trans("Error occurred"),m.a.trans("Are you sure you want to mute this user?"),m.a.trans("Are you sure you want to remove user About section?"),m.a.trans("Are you sure you want to remove this user's avatar?"),m.a.trans("Are you sure you want to remove this user's background?"),m.a.trans("Are you sure you want to report user for spamming?"),m.a.trans("Are you sure you want to reset this user's flair?"),m.a.trans("Save status"),m.a.trans("Your status must be %len% characters or less",{"%len%":50}),m.a.trans("Are you sure you want to stop impersonating this user?"),m.a.trans("Are you sure you want to unmute this user?"),m.a.trans("Your post seems to not fit our <a href=%url%>Community Guidelines</a>. Repeated violations may result in your account being restricted. Thank you for helping Chess.com stay a fun and friendly place for all!",{"%url%":S.communityGuidelines}),r("./web/core/api/user/helpers/show-upgrade-modal.ts")),C={props:{membership:{type:Number}},computed:{flairHref:function flairHref(){return function getFlairHref(t){var o=t.code,r=t.flairMembership,i=t.selfIsPremium;return r>=a.i.moderator?a.n.about():r===a.i.cheater||r===a.i.abuser?S.communityGuidelines():a.a.includes(o)?"":i?"".concat(S.settings()).concat("#flair-modal"):a.n.membership("flair")}({code:this.standardizedFlairCodeFromMixin,flairMembership:this.membership,selfIsPremium:Object(u.a)("isPremium"),selfIsModerator:Object(u.a)("isModerator")})},flairTooltip:function flairTooltip(){return function getFlairTooltip(t){var o=t.code,r=t.flairMembership;return r>=a.i.staff?a.o.staff:r>=a.i.moderator?a.o.moderator:r<a.i.basic?a.k[r]:a.a.includes(o)?a.k[a.i.unspecifiedClosed]:a.o.showYourFlair}({code:this.standardizedFlairCodeFromMixin,flairMembership:this.membership})},shouldSeeUpgradeModal:function shouldSeeUpgradeModal(){return!Object(u.a)("isPremium")},standardizedFlairCodeFromMixin:function standardizedFlairCodeFromMixin(){return this.code||this.userFlair&&this.userFlair.code||a.b.code}},methods:{handleFlairClick:function handleFlairClick(){this.shouldSeeUpgradeModal?Object(k.a)({referral:"flair",startingSlide:"flair",title:this.$trans("Want Your Own Flair?")}):this.flairHref.length&&(window.location=this.flairHref)}}},P=r("./utils/directives/tooltip.js"),x={name:"UserFlairIcon",components:{Flair:c,UserMembershipIcon:r("./ui/components/user/user-membership-icon.vue").a},directives:{Tooltip:P.a},mixins:[C],props:{code:{type:String},membership:{type:Number,default:a.i.basic},size:{type:String,default:"small"}}},A=r("./ui/components/user/user-flair-icon.vue?vue&type=style&index=0&lang=scss&module=true&");var T=Object(l.a)(x,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return t.code?r("a",{class:t.$style.component,attrs:{href:t.flairHref},on:{click:function(o){return o.stopPropagation(),o.preventDefault(),t.handleFlairClick(o)}}},[r("flair",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.flairTooltip,expression:"flairTooltip"}],attrs:{code:t.code,membership:t.membership,size:t.size}})],1):r("user-membership-icon",{attrs:{membership:t.membership,size:t.size}})}),[],!1,(function injectStyles(t){this.$style=A.default.locals||A.default}),null,null);o.a=T.exports},"./ui/components/user/user-flair-icon.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-flair-icon.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-flair-status.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-flair-status.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-membership-icon.vue":function(t,o,r){"use strict";var a=r("./web/core/api/user/config.js"),i={name:"UserMembershipIcon",props:{membership:{type:Number,required:!0},size:{type:String}},data:function data(){return{membershipIcon:a.j[this.membership]}},computed:{isBasic:function isBasic(){return this.membership===a.i.basic}}},l=r("./ui/components/user/user-membership-icon.vue?vue&type=style&index=0&lang=scss&module=true&"),c=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var u=Object(c.a)(i,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return t.membershipIcon&&!t.isBasic?r("span",{class:[t.$style["level-"+t.membership],t.$style[""+t.size],t.$style.component]}):t._e()}),[],!1,(function injectStyles(t){this.$style=l.default.locals||l.default}),null,null);o.a=u.exports},"./ui/components/user/user-membership-icon.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-membership-icon.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-rating.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-rating.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-tagline.vue":function(t,o,r){"use strict";var a=r("./web/core/api/user/config.js"),i=r("./ui/components/icons/country-flag.vue"),l=r("./ui/components/user/user-chess-title.vue"),c=r("./ui/components/user/user-flair-icon.vue"),u=r("./ui/components/user/user-username.vue"),d={name:"UserTagline",components:{CountryFlag:i.a,UserChessTitle:l.a,UserFlairIcon:c.a,UserUsername:u.a},props:{country:{type:Object,required:!1},flairCode:{type:String},isUsernameClickable:{type:Boolean,default:!0},isDarkMode:Boolean,iconAnchorIsEnabled:{type:Boolean,default:!0},membership:{type:Number,default:a.i.basic},notClickable:{type:Boolean,default:!1},rating:{type:Number,required:!1},title:{type:String,required:!1},url:{type:String,required:!1},usernameTheme:{type:String,default:"blue"},titleUrl:{type:String,required:!1},username:{type:String,required:!0},openProfileOnNewTab:{type:Boolean,required:!1},openTitleOnNewTab:{type:Boolean,required:!1}}},m=r("./ui/components/user/user-tagline.vue?vue&type=style&index=0&lang=scss&module=true&"),p=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var b=Object(p.a)(d,(function(){var t,o,r=this,a=r.$createElement,i=r._self._c||a;return i("div",{class:[r.$style.component,(t={},t[r.$style.darkMode]=r.isDarkMode,t)]},[r.title?i("user-chess-title",{attrs:{"open-new-tab":r.openTitleOnNewTab,url:r.titleUrl,title:r.title}}):r._e(),r._v(" "),i("user-username",{class:[r.$style.username,(o={},o[r.$style["not-clickable"]]=r.notClickable,o)],attrs:{"is-clickable":r.isUsernameClickable,"open-new-tab":r.openProfileOnNewTab,theme:r.isDarkMode?"dark":r.usernameTheme,url:r.url,username:r.username}}),r._v(" "),r.rating?i("span",{class:[r.$style.rating,r.$style[r.usernameTheme]]},[r._v("\n    ("+r._s(r.rating)+")\n  ")]):r._e(),r._v(" "),r.country?i("country-flag",{attrs:{code:r.country.code,name:r.country.name}}):r._e(),r._v(" "),r.flairCode||r.membership?i("user-flair-icon",{attrs:{code:r.flairCode,membership:r.membership}}):r._e(),r._v(" "),r._t("default")],2)}),[],!1,(function injectStyles(t){this.$style=m.default.locals||m.default}),null,null);o.a=b.exports},"./ui/components/user/user-tagline.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-tagline.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./ui/components/user/user-username.vue":function(t,o,r){"use strict";var a={name:"UserUsername",props:{theme:{type:String,required:!0},isClickable:{type:Boolean,default:!0},url:{type:String,required:!1},username:{type:String,required:!0},openNewTab:{type:Boolean,required:!1}},computed:{getTargetIfClickable:function getTargetIfClickable(){return this.openNewTab?"_blank":null},isLink:function isLink(){return Boolean(this.url)}}},i=r("./ui/components/user/user-username.vue?vue&type=style&index=0&lang=scss&module=true&"),l=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var c=Object(l.a)(a,(function(){var t,o=this,r=o.$createElement;return(o._self._c||r)(o.isClickable?"a":"span",{tag:"component",class:[o.$style.component,o.$style[o.theme],(t={},t[o.$style.link]=o.isClickable,t)],attrs:{href:o.isClickable?o.url:null,target:o.getTargetIfClickable},domProps:{textContent:o._s(o.username)}})}),[],!1,(function injectStyles(t){this.$style=i.default.locals||i.default}),null,null);o.a=c.exports},"./ui/components/user/user-username.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./ui/components/user/user-username.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./utils/asset-mapper/index.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return c}));var a,i={"bundles/web/images/game-preview-loading.png":"bundles/web/images/game-preview-loading.8677fb94.png","bundles/web/images/image-default.svg":"bundles/web/images/image-default.445cb543.svg","bundles/web/images/noavatar_l.gif":"bundles/web/images/noavatar_l.84a92436.gif","bundles/web/images/user-image.svg":"bundles/web/images/user-image.007dad08.svg","bundles/web/images/web/learn-to-play.png":"bundles/web/images/web/learn-to-play.51d38c0a.png","bundles/web/images/web/tablet.jpg":"bundles/web/images/web/tablet.f8b6e8c5.jpg","bundles/web/images/svg/tic.svg":"bundles/web/images/svg/tic.b039b4f5.svg","bundles/web/images/svg/white-tic.svg":"bundles/web/images/svg/white-tic.18d3027b.svg","bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-black-glow.12c5cf39.png","bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.png":"bundles/web/images/webgl_data/2d/arcade/active-field-white-glow.7cb87681.png","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.f0a77302.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-black.5fbafd33.png","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.3c3eb885.json","bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/capture-lightning-white.07c65378.png","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.29ffee8a.json","bundles/web/images/webgl_data/2d/arcade/check-lightning-small.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning-small.4174885c.png","bundles/web/images/webgl_data/2d/arcade/check-lightning.json":"bundles/web/images/webgl_data/2d/arcade/check-lightning.9818146c.json","bundles/web/images/webgl_data/2d/arcade/check-lightning.png":"bundles/web/images/webgl_data/2d/arcade/check-lightning.13d87b75.png","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.090095b9.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-black.14a5e64e.png","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.8e89a03e.json","bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/check-mate-lightning-white.d00459f4.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-black.2943ecd4.png","bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.png":"bundles/web/images/webgl_data/2d/arcade/legal-move-arcade-white.6c485bae.png","bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.png":"bundles/web/images/webgl_data/2d/arcade/lightning-horizontal.c955fccb.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.d04ec1d5.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-black.f505cdbc.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.16dcf372.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-large-white.b8f9f703.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.2f52761e.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-black.e63372ad.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.e1f5d8cf.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-medium-white.fcbd9ed9.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.8d776f5a.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-black.3a45986a.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.e4b8d4a8.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-regular-white.a0fc79f2.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.46ff1e1e.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-black.c4332bdf.png","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.json":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.d2c18ae4.json","bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.png":"bundles/web/images/webgl_data/2d/arcade/move-lightning-small-white.ab25eede.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.3407e009.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-black.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-black.137b1116.png","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.json":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.6c02602b.json","bundles/web/images/webgl_data/2d/arcade/select-lightning-white.png":"bundles/web/images/webgl_data/2d/arcade/select-lightning-white.2615abda.png","bundles/web/images/webgl_data/2d/capture-dust.json":"bundles/web/images/webgl_data/2d/capture-dust.221e5b9d.json","bundles/web/images/webgl_data/2d/capture-dust.png":"bundles/web/images/webgl_data/2d/capture-dust.eeec5f17.png","bundles/web/images/webgl_data/2d/dust-big.json":"bundles/web/images/webgl_data/2d/dust-big.3978c9b2.json","bundles/web/images/webgl_data/2d/dust-big.png":"bundles/web/images/webgl_data/2d/dust-big.df6ca2e5.png","bundles/web/images/webgl_data/2d/dust-regular.json":"bundles/web/images/webgl_data/2d/dust-regular.c277df9e.json","bundles/web/images/webgl_data/2d/dust-regular.png":"bundles/web/images/webgl_data/2d/dust-regular.f765f10c.png","bundles/web/images/webgl_data/2d/dust-small.json":"bundles/web/images/webgl_data/2d/dust-small.e988c379.json","bundles/web/images/webgl_data/2d/dust-small.png":"bundles/web/images/webgl_data/2d/dust-small.2fc95fc8.png","bundles/web/images/webgl_data/2d/field-shadow.png":"bundles/web/images/webgl_data/2d/field-shadow.0819d939.png","bundles/web/images/webgl_data/2d/hand.json":"bundles/web/images/webgl_data/2d/hand.a9ba7da1.json","bundles/web/images/webgl_data/2d/hand.png":"bundles/web/images/webgl_data/2d/hand.70349a3a.png","bundles/web/images/webgl_data/3d/board/board.json":"bundles/web/images/webgl_data/3d/board/board.f425db44.json","bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit_notation.a3bf6bb5.png","bundles/web/images/webgl_data/3d/board/textures/board_8_bit.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_8_bit.c238987b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bases_notation.4fa42cab.png","bundles/web/images/webgl_data/3d/board/textures/board_bases.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bases.5966f51d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite_notation.9d31ef9e.png","bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blackwhite.f6436596.jpg","bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_blue_notation.a7ed2c2a.png","bundles/web/images/webgl_data/3d/board/textures/board_blue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_blue.7d30c9fc.jpg","bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_brown_notation.66e656e5.png","bundles/web/images/webgl_data/3d/board/textures/board_brown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_brown.f8e9e53d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum_notation.75637678.png","bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_bubblegum.34d5bf78.jpg","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood_notation.f3f69a8a.png","bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_burled_wood.4ba59d4b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood_notation.6fe2bbf7.png","bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dark_wood.ac2798f7.jpg","bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_dash_notation.3913780e.png","bundles/web/images/webgl_data/3d/board/textures/board_dash.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_dash.fe973b28.jpg","bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_glass_notation.bfcc418d.png","bundles/web/images/webgl_data/3d/board/textures/board_glass.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_glass.462df59a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti_notation.ee28e65f.png","bundles/web/images/webgl_data/3d/board/textures/board_graffiti.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_graffiti.ddc5ac93.jpg","bundles/web/images/webgl_data/3d/board/textures/board_green_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_green_notation.af017c39.png","bundles/web/images/webgl_data/3d/board/textures/board_green.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_green.944bda20.jpg","bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_grey_notation.5f5188b1.png","bundles/web/images/webgl_data/3d/board/textures/board_grey.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_grey.26eeeb0d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea_notation.8a2dbe83.png","bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_icy_sea.7e97a7c5.jpg","bundles/web/images/webgl_data/3d/board/textures/board_light_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_light_notation.ed019a76.png","bundles/web/images/webgl_data/3d/board/textures/board_light.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_light.fe79815a.jpg","bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_lolz_notation.a00264f3.png","bundles/web/images/webgl_data/3d/board/textures/board_lolz.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_lolz.cf1f0e6b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marble_notation.85730a04.png","bundles/web/images/webgl_data/3d/board/textures/board_marble.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marble.fb694be3.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue_notation.733ec2a6.png","bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marbleblue.c5708acd.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown_notation.b4deece6.png","bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblebrown.106671ff.jpg","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen_notation.5b6fd2c5.png","bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_marblegreen.a56f3a5d.jpg","bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_metal_notation.2644fa29.png","bundles/web/images/webgl_data/3d/board/textures/board_metal.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_metal.9e8343ff.jpg","bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_neon_notation.8aa5eb20.png","bundles/web/images/webgl_data/3d/board/textures/board_neon.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_neon.1c8ed3ca.jpg","bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper_notation.0d446457.png","bundles/web/images/webgl_data/3d/board/textures/board_newspaper.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_newspaper.940c4c9b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_orange_notation.ac13f29e.png","bundles/web/images/webgl_data/3d/board/textures/board_orange.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_orange.df689dfe.jpg","bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_overlay_notation.a6b83a1e.png","bundles/web/images/webgl_data/3d/board/textures/board_overlay.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_overlay.b76a5834.jpg","bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_parchment_notation.af97cabb.png","bundles/web/images/webgl_data/3d/board/textures/board_parchment.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_parchment.dac73d51.jpg","bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_pink_notation.811ee777.png","bundles/web/images/webgl_data/3d/board/textures/board_pink.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_pink.e3b56463.jpg","bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_purple_notation.f9f8349a.png","bundles/web/images/webgl_data/3d/board/textures/board_purple.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_purple.429e87cc.jpg","bundles/web/images/webgl_data/3d/board/textures/board_red_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_red_notation.51389339.png","bundles/web/images/webgl_data/3d/board/textures/board_red.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_red.4824adf7.jpg","bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sand_notation.3712caa6.png","bundles/web/images/webgl_data/3d/board/textures/board_sand.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sand.5eb8d889.jpg","bundles/web/images/webgl_data/3d/board/textures/board_shadow.png":"bundles/web/images/webgl_data/3d/board/textures/board_shadow.d490d6b4.png","bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_sky_notation.dfa5e504.png","bundles/web/images/webgl_data/3d/board/textures/board_sky.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_sky.f9014b7c.jpg","bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_stone_notation.81db0ebf.png","bundles/web/images/webgl_data/3d/board/textures/board_stone.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_stone.75e0be38.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tan_notation.606335e2.png","bundles/web/images/webgl_data/3d/board/textures/board_tan.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tan.de0583bf.jpg","bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_tournament_notation.243f8730.png","bundles/web/images/webgl_data/3d/board/textures/board_tournament.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_tournament.ca792689.jpg","bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_translucent_notation.8def817e.png","bundles/web/images/webgl_data/3d/board/textures/board_translucent.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_translucent.05d18c94.jpg","bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_walnut_notation.cfb242b2.png","bundles/web/images/webgl_data/3d/board/textures/board_walnut.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_walnut.ef9a07ec.jpg","bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_winboard_notation.be4c9f8c.png","bundles/web/images/webgl_data/3d/board/textures/board_winboard.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_winboard.087df05e.jpg","bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wood_notation.b13541a6.png","bundles/web/images/webgl_data/3d/board/textures/board_wood.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wood.a1c1365b.jpg","bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark_notation.6fe2bbf7.png","bundles/web/images/webgl_data/3d/board/textures/board_wooddark.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_wooddark.ac2798f7.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight_notation.39bc254f.png","bundles/web/images/webgl_data/3d/board/textures/board_woodlight.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodlight.cbd0cac3.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid_notation.15e78f80.png","bundles/web/images/webgl_data/3d/board/textures/board_woodmid.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodmid.d30783ac.jpg","bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.png":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive_notation.d62e0a2a.png","bundles/web/images/webgl_data/3d/board/textures/board_woodolive.jpg":"bundles/web/images/webgl_data/3d/board/textures/board_woodolive.33fafd16.jpg","bundles/web/images/webgl_data/3d/marking_arrow_L.json":"bundles/web/images/webgl_data/3d/marking_arrow_L.be09e498.json","bundles/web/images/webgl_data/3d/marking_arrow_straight.json":"bundles/web/images/webgl_data/3d/marking_arrow_straight.a6b956b9.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_black.64337a24.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop_promotion_white.ec7eb316.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/bishop.7395ab28.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/king.fc9672f5.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_black.cf1d93aa.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight_promotion_white.0f8d79ee.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/knight.b9912c7a.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/pawn.32238b68.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_black.9b4d155e.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen_promotion_white.7329522b.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/queen.8793f6ab.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_black.d0fd00a8.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook_promotion_white.1bc4a10e.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.json":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/rook.76894e32.json","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/bishop_shadow.0b5ee42e.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negx.33eada3e.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negy.9b25971e.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/negz.a12ca378.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posx.b40ae1ef.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posy.e2b2685d.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/envmap/posz.e8613ffe.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/king_shadow.d6ee554e.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/knight_shadow.ea452b95.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/pawn_shadow.fc807ae3.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_black.f1a263b7.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_black.cfb7a7d9.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_marble_white.c0d26492.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_black.fc320163.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_metal_white.26bd2db6.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_black.5b2b7dca.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_plastic_white.add6f6cb.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_white.02639edc.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_black.15255deb.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.jpg":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/piece_wood_white.40e5ede4.jpg","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/queen_shadow.2381b0ed.png","bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.png":"bundles/web/images/webgl_data/3d/pieces/staunton_executive/textures/rook_shadow.a85529f8.png","bundles/web/images/webgl_data/README.md":"bundles/web/images/webgl_data/README.80f03c74.md","bundles/web/images/webgl_data/three-d/board/board.json":"bundles/web/images/webgl_data/three-d/board/board.f425db44.json","bundles/web/images/webgl_data/three-d/board/textures/board_8_bit_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_8_bit_notation.a3bf6bb5.png","bundles/web/images/webgl_data/three-d/board/textures/board_8_bit.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_8_bit.c238987b.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_bases_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_bases_notation.4fa42cab.png","bundles/web/images/webgl_data/three-d/board/textures/board_bases.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_bases.5966f51d.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite_notation.9d31ef9e.png","bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_blackwhite.f6436596.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_blue_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_blue_notation.a7ed2c2a.png","bundles/web/images/webgl_data/three-d/board/textures/board_blue.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_blue.7d30c9fc.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_brown_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_brown_notation.66e656e5.png","bundles/web/images/webgl_data/three-d/board/textures/board_brown.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_brown.f8e9e53d.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum_notation.75637678.png","bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_bubblegum.34d5bf78.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood_notation.f3f69a8a.png","bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_burled_wood.4ba59d4b.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood_notation.6fe2bbf7.png","bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_dark_wood.ac2798f7.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_dash_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_dash_notation.3913780e.png","bundles/web/images/webgl_data/three-d/board/textures/board_dash.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_dash.fe973b28.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_glass_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_glass_notation.bfcc418d.png","bundles/web/images/webgl_data/three-d/board/textures/board_glass.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_glass.462df59a.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_graffiti_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_graffiti_notation.ee28e65f.png","bundles/web/images/webgl_data/three-d/board/textures/board_graffiti.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_graffiti.ddc5ac93.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_green_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_green_notation.af017c39.png","bundles/web/images/webgl_data/three-d/board/textures/board_green.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_green.944bda20.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_grey_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_grey_notation.5f5188b1.png","bundles/web/images/webgl_data/three-d/board/textures/board_grey.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_grey.26eeeb0d.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea_notation.8a2dbe83.png","bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_icy_sea.7e97a7c5.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_light_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_light_notation.ed019a76.png","bundles/web/images/webgl_data/three-d/board/textures/board_light.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_light.fe79815a.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_lolz_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_lolz_notation.a00264f3.png","bundles/web/images/webgl_data/three-d/board/textures/board_lolz.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_lolz.cf1f0e6b.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marble_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marble_notation.85730a04.png","bundles/web/images/webgl_data/three-d/board/textures/board_marble.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marble.fb694be3.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue_notation.733ec2a6.png","bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marbleblue.c5708acd.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown_notation.b4deece6.png","bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marblebrown.106671ff.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen_notation.5b6fd2c5.png","bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_marblegreen.a56f3a5d.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_metal_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_metal_notation.2644fa29.png","bundles/web/images/webgl_data/three-d/board/textures/board_metal.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_metal.9e8343ff.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_neon_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_neon_notation.8aa5eb20.png","bundles/web/images/webgl_data/three-d/board/textures/board_neon.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_neon.1c8ed3ca.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_newspaper_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_newspaper_notation.0d446457.png","bundles/web/images/webgl_data/three-d/board/textures/board_newspaper.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_newspaper.940c4c9b.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_orange_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_orange_notation.ac13f29e.png","bundles/web/images/webgl_data/three-d/board/textures/board_orange.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_orange.df689dfe.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_overlay_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_overlay_notation.a6b83a1e.png","bundles/web/images/webgl_data/three-d/board/textures/board_overlay.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_overlay.b76a5834.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_parchment_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_parchment_notation.af97cabb.png","bundles/web/images/webgl_data/three-d/board/textures/board_parchment.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_parchment.dac73d51.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_pink_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_pink_notation.811ee777.png","bundles/web/images/webgl_data/three-d/board/textures/board_pink.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_pink.e3b56463.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_purple_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_purple_notation.f9f8349a.png","bundles/web/images/webgl_data/three-d/board/textures/board_purple.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_purple.429e87cc.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_red_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_red_notation.51389339.png","bundles/web/images/webgl_data/three-d/board/textures/board_red.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_red.4824adf7.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_sand_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_sand_notation.3712caa6.png","bundles/web/images/webgl_data/three-d/board/textures/board_sand.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_sand.5eb8d889.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_shadow.png":"bundles/web/images/webgl_data/three-d/board/textures/board_shadow.d490d6b4.png","bundles/web/images/webgl_data/three-d/board/textures/board_sky_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_sky_notation.dfa5e504.png","bundles/web/images/webgl_data/three-d/board/textures/board_sky.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_sky.f9014b7c.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_stone_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_stone_notation.81db0ebf.png","bundles/web/images/webgl_data/three-d/board/textures/board_stone.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_stone.75e0be38.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_tan_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_tan_notation.606335e2.png","bundles/web/images/webgl_data/three-d/board/textures/board_tan.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_tan.de0583bf.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_tournament_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_tournament_notation.243f8730.png","bundles/web/images/webgl_data/three-d/board/textures/board_tournament.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_tournament.ca792689.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_translucent_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_translucent_notation.8def817e.png","bundles/web/images/webgl_data/three-d/board/textures/board_translucent.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_translucent.05d18c94.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_walnut_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_walnut_notation.cfb242b2.png","bundles/web/images/webgl_data/three-d/board/textures/board_walnut.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_walnut.ef9a07ec.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_winboard_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_winboard_notation.be4c9f8c.png","bundles/web/images/webgl_data/three-d/board/textures/board_winboard.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_winboard.087df05e.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_wood_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_wood_notation.b13541a6.png","bundles/web/images/webgl_data/three-d/board/textures/board_wood.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_wood.a1c1365b.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_wooddark_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_wooddark_notation.6fe2bbf7.png","bundles/web/images/webgl_data/three-d/board/textures/board_wooddark.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_wooddark.ac2798f7.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodlight_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodlight_notation.39bc254f.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodlight.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodlight.cbd0cac3.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodmid_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodmid_notation.15e78f80.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodmid.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodmid.d30783ac.jpg","bundles/web/images/webgl_data/three-d/board/textures/board_woodolive_notation.png":"bundles/web/images/webgl_data/three-d/board/textures/board_woodolive_notation.d62e0a2a.png","bundles/web/images/webgl_data/three-d/board/textures/board_woodolive.jpg":"bundles/web/images/webgl_data/three-d/board/textures/board_woodolive.33fafd16.jpg","bundles/web/images/webgl_data/three-d/marking_arrow_L.json":"bundles/web/images/webgl_data/three-d/marking_arrow_L.be09e498.json","bundles/web/images/webgl_data/three-d/marking_arrow_straight.json":"bundles/web/images/webgl_data/three-d/marking_arrow_straight.a6b956b9.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_black.64337a24.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop_promotion_white.ec7eb316.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/bishop.7395ab28.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/king.fc9672f5.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_black.cf1d93aa.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight_promotion_white.0f8d79ee.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/knight.b9912c7a.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/pawn.32238b68.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_black.9b4d155e.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen_promotion_white.7329522b.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/queen.8793f6ab.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_black.d0fd00a8.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook_promotion_white.1bc4a10e.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.json":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/rook.76894e32.json","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/bishop_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/bishop_shadow.0b5ee42e.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negx.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negx.33eada3e.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negy.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negy.9b25971e.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negz.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/negz.a12ca378.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posx.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posx.b40ae1ef.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posy.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posy.e2b2685d.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posz.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/envmap/posz.e8613ffe.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/king_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/king_shadow.d6ee554e.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/knight_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/knight_shadow.ea452b95.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/pawn_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/pawn_shadow.fc807ae3.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_black.f1a263b7.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_black.cfb7a7d9.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_marble_white.c0d26492.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_black.fc320163.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_metal_white.26bd2db6.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_black.5b2b7dca.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_plastic_white.add6f6cb.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_white.02639edc.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_black.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_black.15255deb.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_white.jpg":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/piece_wood_white.40e5ede4.jpg","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/queen_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/queen_shadow.2381b0ed.png","bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/rook_shadow.png":"bundles/web/images/webgl_data/three-d/pieces/staunton_executive/textures/rook_shadow.a85529f8.png","bundles/web/images/webgl_data/two-d/arcade/lightning-blue.png":"bundles/web/images/webgl_data/two-d/arcade/lightning-blue.a1fd37f6.png","bundles/web/images/webgl_data/two-d/arcade/lightning-red.png":"bundles/web/images/webgl_data/two-d/arcade/lightning-red.61426d59.png","bundles/web/images/webgl_data/two-d/hover-square.png":"bundles/web/images/webgl_data/two-d/hover-square.949e81d1.png","bundles/web/images/webgl_data/two-d/natural/dust-particle1.png":"bundles/web/images/webgl_data/two-d/natural/dust-particle1.0e9dd2fc.png","bundles/web/images/webgl_data/two-d/natural/dust-particle2.png":"bundles/web/images/webgl_data/two-d/natural/dust-particle2.1cdcf702.png","bundles/web/images/webgl_data/two-d/natural/dust-particle3.png":"bundles/web/images/webgl_data/two-d/natural/dust-particle3.12a980a4.png"},l=window.Config?window.Config["domain.static"]:"localhost:8081";a=window.Config&&window.Config["domain.static"]?"https":"http";var c=function generateUrl(t){var o=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a,c=o?"".concat(r,"://").concat(l):"",u=null!=i[t]?i[t]:t;return"".concat(c,"/").concat(u)}},"./utils/browser.js":function(t,o,r){"use strict";r.d(o,"d",(function(){return a})),r.d(o,"c",(function(){return i})),r.d(o,"i",(function(){return l})),r.d(o,"j",(function(){return c})),r.d(o,"h",(function(){return u})),r.d(o,"a",(function(){return d})),r.d(o,"f",(function(){return p})),r.d(o,"g",(function(){return b})),r.d(o,"e",(function(){return g})),r.d(o,"b",(function(){return _}));var a=function getWindowTitle(){return encodeURIComponent(window.document.title)},i=function getWindowLocation(){return encodeURIComponent(window.location.href)},l=window.location.pathname,c=a(),u=i();window.chessBrowserChecker={};var d=function bookmarkPage(){if(window.sidebar&&window.sidebar.addPanel)window.sidebar.addPanel(c,u,"");else if(window.external&&"AddFavorite"in window.external)window.external.AddFavorite(u,c);else{var t=-1!==window.navigator.userAgent.toLowerCase().indexOf("mac")?"Cmd":"Ctrl";alert("Press ".concat(t,"+D to bookmark this page."))}},m={chrome:"Chrome",edge:"edge",firefox:"Firefox",ie:"IE",safari:"Safari",waterfox:"Waterfox"},p=function printWindow(){window.print()},b=function sendEmail(t,o){window.location.href="mailto:?".concat(t,"&").concat(o)},g=function isMobile(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},h=function isEdge(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return null!==t.match(/Edg/)},_=function getBrowser(){var t,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent,r=o.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];if(h(o)){var a=o.indexOf("Edg"),i=4;o.match("Edge/")&&(i=5);var l=a+i,c=parseInt(o.substring(l,o.indexOf(".",l)),10);return{name:"Edge",version:parseInt(c,10)}}if(/trident/i.test(r[1]))return t=/\brv[ :]+(\d+)/g.exec(o)||[],{name:"IE",version:parseInt(t[1]||-1,10)};if(r[1]===m.chrome&&null!=(t=o.match(/\bOPR\/(\d+)/)))return{name:"Opera",version:parseInt(t[1],10)};if(r[1]===m.firefox){var u=o.match(/(waterfox(?=\/))\/?\s*(\d+)/i)||[];if(u[1]===m.waterfox)return{name:u[1],version:parseInt(u[2],10)}}return(r=r[2]?[r[1],r[2]]:[window.navigator.appName,window.navigator.appVersion,"-?"])[0]===m.safari&&null!=(t=o.match(/version\/(\d+)/i))&&r.splice(1,1,t[1]),"MSIE"===r[0]?{name:m.ie,version:parseInt(r[1],10)}:{name:r[0],version:parseInt(r[1],10)}}},"./utils/cache/service.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./utils/cache/service.js")},"./utils/common/throttle.js":function(t,o,r){"use strict";var a=r("./node_modules/lodash-es/debounce.js"),i=r("./node_modules/lodash-es/isObject.js");var l=function throttle(t,o,r){var l=!0,c=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return Object(i.default)(r)&&(l="leading"in r?!!r.leading:l,c="trailing"in r?!!r.trailing:c),Object(a.default)(t,o,{leading:l,maxWait:o,trailing:c})};o.a=l},"./utils/component.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return l})),r.d(o,"b",(function(){return c}));var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=function createComponentConfig(t,o){var r=document.querySelector(t),a=t.replace(/#|\./g,""),l=i()({},"".concat(a),{});return null!=r&&(l[a]=Object.assign({el:t},o(r))),l},c=function mergePropsData(t,o){return t.propsData=Object.assign({},t.propsData,o),t}},"./utils/dark-mode.ts":function(t,o,r){"use strict";r.d(o,"a",(function(){return i})),r.d(o,"b",(function(){return l}));var a="dark-mode",i=function getIsDarkMode(){return document.body.classList.contains(a)},l=i()},"./utils/directives/confirm-popover.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return C}));var a=r("./web/core/api/content/config.js"),i=r("./node_modules/@chesscom/web-ui/dist/ui/vue/index.js"),l=r("./utils/event-hub.js"),c=r("./ui/components/modals/modal-container.vue"),u=r("./ui/components/modals/modal-content.vue"),d={name:"ConfirmPopover",components:{ModalContainer:c.a,ModalContent:u.a,V5Button:i.V5Button},props:{additionalClass:String,messageLabel:String,yesBtnLabel:String,cancelBtnLabel:String,onConfirm:{type:Function,default:function _default(){}},onBackgroundClick:{type:Function,default:function _default(){}},onCancel:Function},data:function data(){return{eventHubMessage:null}},computed:{message:function message(){var t;return null!==(t=this.eventHubMessage)&&void 0!==t?t:this.messageLabel},yesButtonLabel:function yesButtonLabel(){var t;return null!==(t=this.yesBtnLabel)&&void 0!==t?t:this.$trans("Yes")},cancelButtonLabel:function cancelButtonLabel(){var t;return null!==(t=this.cancelBtnLabel)&&void 0!==t?t:this.$trans("Cancel")}},mounted:function mounted(){var t=this;l.a.on(a.d.SHOW_MODAL,(function(o){"string"==typeof o&&(t.eventHubMessage=o),t.show()}))},methods:{hide:function hide(){this.$refs.modalContainer.hide()},show:function show(){this.$refs.modalContainer.show()},onYesClick:function onYesClick(){this.hide(),"function"==typeof this.onConfirm&&this.onConfirm(),l.a.emit(a.d.CONFIRM_POPOVER_YES)},onCancelClick:function onCancelClick(){this.hide(),"function"==typeof this.onCancel&&this.onCancel()}}},m=r("./web/core/widgets/modals/confirm-popover.vue?vue&type=style&index=0&lang=scss&module=true&"),p=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var b=Object(p.a)(d,(function(){var t,o,r=this,a=r.$createElement,i=r._self._c||a;return i("modal-container",{ref:"modalContainer",on:{"background-clicked":r.onBackgroundClick}},[i("modal-content",{ref:"modal",class:r.$style.modal},[i("div",{class:r.$style.messageLabel},[r._v("\n      "+r._s(r.message)+"\n    ")]),r._v(" "),i("div",{class:r.$style.buttons},[i("v5-button",{class:[r.$style.button,(t={},t[r.$style[""+r.additionalClass]]=r.additionalClass,t),r.$style["button-v5"]],attrs:{size:"small",theme:"basic-light","cancel-btn":r.cancelButtonLabel},domProps:{textContent:r._s(r.cancelButtonLabel)},on:{click:r.onCancelClick}}),r._v(" "),i("v5-button",{class:[r.$style.button,(o={},o[r.$style[""+r.additionalClass]]=r.additionalClass,o),r.$style["button-v5"]],attrs:{size:"small",theme:"primary","yes-btn":r.yesButtonLabel},domProps:{textContent:r._s(r.yesButtonLabel)},on:{click:r.onYesClick}})],1)])],1)}),[],!1,(function injectStyles(t){this.$style=m.default.locals||m.default}),null,null).exports,g=r("./utils/dom/index.js"),h=r("./web/core/api/position/helper.js"),_=r("./web/core/api/position/is-rtl.js"),v={name:"ConfirmPopover",components:{V5Button:i.V5Button},props:{messageLabel:String,onConfirm:{type:Function,default:function _default(){}}},data:function data(){return{position:{placement:"top",left:0,top:0},visible:!1}},computed:{style:function style(){var t={transform:"translate(".concat(this.position.left,"px, ").concat(this.position.top,"px)")};return Object(_.a)()&&(t={transform:"translate(0, ".concat(this.position.top,"px)"),left:"".concat(this.position.left,"px"),right:"auto"}),t}},methods:{hide:function hide(){Object(g.b)(".".concat(a.f.CONFIRM_OPEN)).forEach((function(t){return t.classList.remove(a.f.CONFIRM_OPEN)})),this.visible=!1,this.removeListeners()},show:function show(t){var o=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top";this.visible=!0,this.addListeners(),this.$nextTick((function(){o.position=Object(h.a)(t,o.$el,r,10)}))},onYesClick:function onYesClick(){this.hide(),this.onConfirm()},scrollListener:function scrollListener(){window.addEventListener("scroll",this.hide,{once:!0})},clickListener:function clickListener(){document.addEventListener("click",this.hide,{capture:!0,once:!0})},addListeners:function addListeners(){this.scrollListener(),this.clickListener()},removeListeners:function removeListeners(){window.removeEventListener("scroll",this.scrollListener),document.removeEventListener("click",this.clickListener,!0)}}},y=r("./web/core/widgets/modals/confirm-popover-inline.vue?vue&type=style&index=0&lang=scss&module=true&");var w,j=Object(p.a)(v,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{directives:[{name:"show",rawName:"v-show",value:t.visible,expression:"visible"}],ref:"modal",class:[t.$style.component,t.$style[t.position.placement]],style:t.style},[r("div",{class:t.$style.inner},[r("div",{class:t.$style.message,domProps:{innerHTML:t._s(t.messageLabel)}}),t._v(" "),r("div",{class:t.$style.buttons},[r("v5-button",{class:t.$style.button,attrs:{size:"small",theme:"basic-light"},domProps:{textContent:t._s(t.$trans("Cancel"))},on:{click:t.hide}}),t._v(" "),r("v5-button",{class:t.$style.button,attrs:{size:"small",theme:"primary"},domProps:{textContent:t._s(t.$trans("Yes"))},on:{click:t.onYesClick}})],1)])])}),[],!1,(function confirm_popover_inline_injectStyles(t){this.$style=y.default.locals||y.default}),null,null).exports,O=r("./utils/lazy-vue/index.js"),S=Object(O.a)({confirmPopover:{component:b,el:"#confirm-popover"},confirmPopoverInline:{component:j,el:"#confirm-popover-inline"}}),k=[],C=function callConfirmPopover(t){var o=t.message,r=t.onConfirm;(w=S.createInstance("confirmPopover").$children[0]).messageLabel=o,w.onConfirm=r,w.show()};o.b={bind:function bind(t,o){var r=function directiveClickListener(r){if(w="modal"===o.value.type?"confirmPopover":"confirmPopoverInline",!document.getElementById(a.f.CONFIRM_POPOVER_INLINE)){var i=document.createElement("div");i.setAttribute("id",a.f.CONFIRM_POPOVER_INLINE),document.body.appendChild(i)}var l=S.createInstance(w),c=document.querySelector(".".concat(a.f.TOOLTIP_CLASS,".").concat(a.f.TOOLTIP_TOP)),u=l.$children[0];u&&(u.messageLabel=o.value.message,u.onConfirm=o.value.onConfirm,u.show(r.target,o.value.placement),t.classList.add(a.f.CONFIRM_OPEN)),c&&c.classList.remove(a.f.TOOLTIP_TOP),r.preventDefault()};t.addEventListener("click",r),t.dataset.listenerIndex=k.length,k.push(r)},unbind:function unbind(t){t.removeEventListener("click",k[t.dataset.listenerIndex])}}},"./utils/directives/image-defer.js":function(t,o,r){"use strict";var a=r("./utils/image/helper.js"),i=r("./utils/event-hub.js"),l=r("./utils/dom/observer.js"),c=function cacheBinding(t,o){t.dataset.chessSrc=o.value.src,t.dataset.chessSrcset=o.value.srcset},u=function setAttributes(t){var o=t.dataset.chessSrc,r="false"!==t.dataset.chessSrcset?"".concat(Object(a.a)(o)," 2x"):void 0;o&&t.setAttribute("src",o),r&&t.setAttribute("srcset",r)};o.a={bind:function bind(t,o){c(t,o),i.a.on("visibility-observer-change",(function(o){o===t&&(u(t),t.dataset.visible=!0,l.a.unobserve(t))})),l.a.observe(t)},componentUpdated:function componentUpdated(t,o){c(t,o),void 0!==t.dataset.visible&&u(t)}}},"./utils/directives/tooltip.js":function(t,o,r){"use strict";var a,i=r("./node_modules/vue/dist/vue.esm.js"),l=r("./web/core/api/position/helper.js"),c=r("./web/core/api/content/config.js"),u=r("./live/src/es6/core/type.utils.js"),d=function remove(t,o){var r=u.a.isFunction(o)?t.findIndex(o):t.indexOf(o);-1!==r&&t.splice(r,1)},m=r("./live/src/es6/core/timer.utils.js"),p=function getOptions(t){return u.a.isString(t.value)?{content:t.value}:t.value},b={name:"Tooltip",created:function created(){this.active=null,this.instances=[]},beforeDestroy:function beforeDestroy(){this.instances=null,this.clearTooltip()},methods:{bind:function bind(t,o){this.instances.push({element:t,options:p(o)}),t.addEventListener("mouseenter",this.showTooltip)},update:function update(t,o){var r=this.instances.find((function(o){return o.element===t}));r&&(r.options=p(o))},unbind:function unbind(t){var o=this.instances.find((function(o){return o.element===t}));o&&(this.active===o&&this.hideTooltip({target:o.element}),d(this.instances,o),t.removeEventListener("mouseenter",this.showTooltip),t.removeEventListener("mouseleave",this.hideTooltip))},showTooltip:function showTooltip(t){var o=this,r=t.target,a=this.instances.find((function(t){return t.element===r}));if(a&&a.options&&a.options.content){var i=a.options.delay||400,u=a.options.position||"top",d=a.options.padding||0;this.clearTooltip(),a.element.classList.contains(c.f.CONFIRM_OPEN)||(this.active=a,a.element.addEventListener("mouseleave",this.hideTooltip),this.showTimeout=m.a.setTimeout((function(){o.showFrame=window.requestAnimationFrame((function(){o.$refs&&o.$refs.content&&a.options&&(o.$refs.content.innerHTML=a.options.content),o.$el.classList.add(u),Object(l.c)(a.element,o.$el,u,d)}))}),i)),a.options.closeOnScroll&&this.hideOnScroll(r)}},hideOnScroll:function hideOnScroll(t){var o=this;window.addEventListener("scroll",(function(){o.hideTooltip({target:t})}))},hideTooltip:function hideTooltip(t){var o=this,r=t.target;this.instances.find((function(t){return t.element===r}))&&(this.clearTooltip(),this.hideFrame=window.requestAnimationFrame((function(){o.$refs&&o.$refs.content&&(o.$refs.content.innerHTML=null),Object(l.d)(o.$el)})))},clearTooltip:function clearTooltip(){this.active&&(this.active.element.removeEventListener("mouseleave",this.hideTooltip),this.active=null),m.a.clearTimeout(this.showTimeout),window.cancelAnimationFrame(this.hideFrame),window.cancelAnimationFrame(this.showFrame),window.removeEventListener("scroll",this.hideOnScroll)}}},g=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),h=Object(g.a)(b,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{staticClass:"tooltip tip vue-tooltip"},[r("div",{staticClass:"arrow"}),t._v(" "),r("div",{ref:"content",staticClass:"inner"})])}),[],!1,null,null,null).exports,_=i.default.extend(h),v=!1,y=function getTooltip(){if(a||(a=new _),!v){var t=document.createElement("div");document.body.appendChild(t),a.$mount(t),v=!0}return a};o.a={bind:function bind(t,o){return y().bind(t,o)},componentUpdated:function componentUpdated(t,o){return y().update(t,o)},unbind:function unbind(t,o){return y().unbind(t,o)}}},"./utils/directives/user-popover.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=r.n(a),l=r("./web/core/store/helper.js"),c=r("./utils/lazy-vue/index.js"),u=r("./utils/event-hub.js"),d=r("./web/core/store/index.js");var m=r("./web/core/api/alerts/config.ts"),p=r("./utils/translator.js"),b=function prepAlertMessage(t){return t.data&&t.data.message||m.a.badRequest};var g=function createContextLocaleService(){var t={contentLanguage:window.context.i18n.contentLanguage,language:window.context.i18n.locale,speaksEnglish:"en_US"===window.context.i18n.locale};return{get:function get(o){return t[o]}}}(),h=r("./web/core/base/boot/user.js"),_={namespaced:!0,mutations:{setLoading:function setLoading(t,o){t.loading=o},setLoadingUser:function setLoadingUser(t,o){t.loadingUser[o.username]=o.loading},setLoadingFriends:function setLoadingFriends(t,o){t.loading.friends=o},setFriends:function setFriends(t,o){t.friends=o},setLoadingOpponents:function setLoadingOpponents(t,o){t.loading.opponents=o},setOpponents:function setOpponents(t,o){t.opponents=o},setAvatarUrl:function setAvatarUrl(t,o){t.avatarUrl=o},setSettingsAvatarUrl:function setSettingsAvatarUrl(t,o){t.settingsAvatarUrl=o},setArchiveView:function setArchiveView(t,o){t.archiveView=o},setFairPlayAgree:function setFairPlayAgree(t,o){t.fairPlayAgree=o},setHomeContentType:function setHomeContentType(t,o){t.homeContentType=o},setIsThreeD:function setIsThreeD(t,o){t.isThreeD=o},setFollowSuggestions:function setFollowSuggestions(t,o){t.followSuggestions=o},removeFollowSuggestedUser:function removeFollowSuggestedUser(t,o){var r=t.followSuggestions,a=r.findIndex((function(t){return t.username===o}));-1!==a&&(r.splice(a,1),t.followSuggestions=r)},setFollowMessage:function setFollowMessage(t,o){t.followMessage=o},setRoles:function setRoles(t,o){t.roles=o},setRating:function setRating(t,o){t.rating=o},setLoggedIn:function setLoggedIn(t,o){t.isLoggedIn=o},setUsername:function setUsername(t,o){t.username=o},setMembershipLevel:function setMembershipLevel(t,o){t.membershipLevel=o}},actions:function createUserActions(t){return{init:function init(o){var r=o.dispatch;t.isLoggedIn()&&(r("getFriends"),r("getOpponents"))},getFriends:function getFriends(o){var r=o.commit,a=o.dispatch;return r("setLoading",!0),t.getFriends({user:t.get("id"),avatarSize:50}).then((function(t){r("setLoading",!1),r("setFriends",t.data.friends)})).catch((function(){r("setLoading",!1),a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},getOpponents:function getOpponents(o){var r=o.commit,a=o.dispatch;return r("setLoading",!0),t.getOpponents().then((function(t){r("setLoading",!1),r("setOpponents",t.data)})).catch((function(){r("setLoading",!1),a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},getFollowSuggestions:function getFollowSuggestions(o){var r=o.commit,a=o.dispatch;return t.getFollowSuggestions().then((function(t){if(t.data.users&&t.data.users.length>0){r("setFollowSuggestions",t.data.users);var o=p.a.trans("Consider following...");t.data.notYetFollowing&&(o=p.a.trans("You are not currently following anyone. Here are a few suggestions...")),r("setFollowMessage",o)}else r("setFollowMessage",null)})).catch((function(){return a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},acceptFollowSuggestion:function acceptFollowSuggestion(t,o){var r=t.commit,a=t.dispatch;r("removeFollowSuggestedUser",o),a("trackUser",o)},dismissFollowSuggestion:function dismissFollowSuggestion(o,r){var a=o.commit,i=o.dispatch;return a("removeFollowSuggestedUser",r),t.dismissFollowSuggestion(r).catch((function(){i("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},getAvatar:function getAvatar(o,r){var a=o.commit;if(!t.get("avatarUrl"))return t.getAvatar(r).then((function(t){a("setAvatarUrl",t.data.avatar)}))},addFriend:function addFriend(o,r){var a=o.commit,i=o.dispatch,l=r.userId||r,c=r.dispatchCallback||"getFriends";return a("setLoading",!0),t.addFriend(l).then((function(t){a("setLoading",!1),i("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).then((function(){c.includes("/")?i(c,null,{root:!0}):i(c)})).catch((function(t){a("setLoading",!1),i("alerts/create",{type:m.e.error,message:t.response.data.message},{root:!0})}))},deleteFriend:function deleteFriend(o,r){var a=o.commit,i=o.dispatch,l=r.userId||r,c=r.dispatchCallback||"getFriends";return a("setLoading",!0),t.deleteFriend(l).then((function(t){a("setLoading",!1),i("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).then((function(){c.includes("/")?i(c,null,{root:!0}):i(c)})).catch((function(){a("setLoading",!1),i("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},approveFriendRequest:function approveFriendRequest(o,r){var a=o.dispatch,i=r.userId||r,l=r.dispatchCallback||"getFriends";return t.approveFriendRequest(i).then((function(t){a("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).then((function(){l.includes("/")?a(l,null,{root:!0}):a(l)})).catch((function(){a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},blockUser:function blockUser(o,r){var a=o.dispatch;return t.blockUser(r).then((function(t){a("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).catch((function(){a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},unblockUser:function unblockUser(o,r){var a=o.dispatch;return t.unblockUser(r).then((function(t){a("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).catch((function(){a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},trackUser:function trackUser(o,r){var a=o.dispatch;return t.trackUser(r).then((function(t){a("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).catch((function(){a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},untrackUser:function untrackUser(o,r){var a=o.dispatch;return t.untrackUser(r).then((function(t){a("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).catch((function(){a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},setArchiveView:function setArchiveView(o,r){var a=o.commit;if(function isValidArchiveView(t){return["grid","list"].includes(t)}(r))return t.get("archiveView")!==r?t.setArchiveView(r).then((function(){a("setArchiveView",r)})):void 0},setFairPlayAgree:function setFairPlayAgree(o){return(0,o.commit)("setFairPlayAgree",!0),t.setFairPlayAgree(!0)},setHomeContentType:function setHomeContentType(o,r){var a=o.commit;if(function isValidHomeContentType(t){return["following","my_activity"].includes(t)}(r))return a("setHomeContentType",r),t.setHomeContentType(r)},setIsThreeD:function setIsThreeD(t,o){(0,t.commit)("setIsThreeD",o)},cancelFriendRequest:function cancelFriendRequest(o,r){var a=o.dispatch;return t.cancelFriendRequest(r).then((function(t){a("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).catch((function(){a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},declineFriendRequest:function declineFriendRequest(o,r){var a=o.dispatch;return t.declineFriendRequest(r).then((function(t){a("alerts/create",{type:m.e.success,message:b(t)},{root:!0})})).catch((function(){a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))},refreshUserRoles:function refreshUserRoles(o){var r=o.commit;if(t.isLoggedIn())return t.getRoles().then((function(t){r("setRoles",t.data)}))},checkValidUsername:function checkValidUsername(o,r){var a=o.dispatch;return t.checkValidUsername(r).then((function(t){return t.data})).catch((function(){return a("alerts/create",{type:m.e.error,message:m.a.badRequest},{root:!0})}))}}}(h.a),state:function createUserState(t,o){var r;return{chessTitle:t.get("chessTitle")||"",cohort:t.get("cohort"),flairCode:t.get("flairCode"),friends:t.get("friends"),roles:t.get("roles"),opponents:t.get("opponents"),boardSettings:t.get("boardSettings"),loading:!1,eligibleFirstTrial:t.eligibleFirstTrial(),isActivated:t.checkMembershipStatus("isActivated"),isLoggedIn:t.isLoggedIn(),isEnabled:t.isEnabled("isEnabled"),isImpersonating:t.isImpersonating(),isStaff:t.checkMembershipStatus("isStaff"),isStaffOnly:t.checkMembershipStatus("isStaffOnly"),isModerator:t.checkMembershipStatus("isModerator"),isModeratorOnly:t.checkMembershipStatus("isModeratorOnly"),isDiamond:t.checkMembershipStatus("isDiamond"),isDiamondOnly:t.checkMembershipStatus("isDiamondOnly"),isPlatinum:t.checkMembershipStatus("isPlatinum"),isPlatinumOnly:t.checkMembershipStatus("isPlatinumOnly"),isSilver:t.checkMembershipStatus("isSilver"),isSilverOnly:t.checkMembershipStatus("isSilverOnly"),isGold:t.checkMembershipStatus("isGold"),isGoldOnly:t.checkMembershipStatus("isGoldOnly"),isGuest:t.get("isGuest"),isPremium:t.checkMembershipStatus("isPremium"),isBasic:t.checkMembershipStatus("isBasic"),id:t.get("id"),language:o.get("language"),contentLanguage:o.get("contentLanguage"),username:t.get("username"),avatarUrl:t.get("avatarUrl"),settingsAvatarUrl:t.get("settingsAvatarUrl"),avatarLargeUrl:t.get("avatarLargeUrl"),lastLoginDate:t.get("lastLoginDate"),registerDate:t.get("registerDate"),timezone:t.get("timezone"),diagramSettings:t.get("diagramSettings"),speaksEnglish:o.get("speaksEnglish"),isThreeD:!1,archiveView:t.get("getArchiveView"),homeContentType:t.get("homeContentType"),membershipLevel:t.get("membershipLevel"),isContentHidden:t.get("isContentHidden"),fairPlayAgree:t.get("fairPlayAgree"),features:t.get("features"),followSuggestions:[],followMessage:"",country:t.get("country"),flag:null===(r=t.get("country"))||void 0===r?void 0:r.id,rating:t.get("rating"),membership:t.get("membership"),safeMode:t.get("safeMode"),uuid:t.get("uuid")}}(h.a,g),getters:{chessTitle:function chessTitle(t){return t.chessTitle},isActivated:function isActivated(t){return t.isActivated},id:function id(t){return t.id},isImpersonating:function isImpersonating(t){return t.isImpersonating},isLoggedIn:function isLoggedIn(t){return t.isLoggedIn},username:function username(t){return t.username},roles:function roles(t){return t.roles},isPremium:function isPremium(t){return t.isPremium},hyphenatedLanguage:function hyphenatedLanguage(t){return(t.language||"").replace("_","-")}}},v=r("./utils/browser.js"),y=r("./web/core/api/position/is-rtl.js");function setPopoverPosition(t){var o,r=Object(v.e)()&&window.innerWidth<768;return Object(y.a)()?o="left: auto; right: ".concat(t.right,"px; top: ").concat(t.top,"px;"):(o="transform: translate(".concat(t.left,"px, ").concat(t.top,"px);"),r&&(o="transform: translateY(".concat(t.top,"px);"))),o}var w={hideUserPopover:function hideUserPopover(t){t.isHovered=!1,t.show=!1},hover:function hover(t){t.isHovered=!0},resetUser:function resetUser(t){t.user={avatarUrl:"",bestRating:0,bestRatingType:"",chessTitle:"",country:{},joinDate:"",lastLoginDate:"",membership:{},onlineStatus:"",username:""}},showUserPopover:function showUserPopover(t){t.show=!0},setPosition:function setPosition(t,o){t.position=o},setUser:function setUser(t,o){t.user=o}},j=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),O=r.n(j);function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){O()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var S,k,C,P={namespaced:!0,mutations:w,actions:{fetchUserPopover:function fetchUserPopover(t,o){var r=t.commit;h.a.getUser(o).then((function(t){r("setUser",_objectSpread(_objectSpread({},t.data),{},{username:o}))})).catch((function(){r("setUser",{userNotExist:!0})}))}},state:{isHovered:!1,show:!1,user:{avatarUrl:"",bestRating:0,bestRatingType:"",chessTitle:"",country:{},joinDate:"",lastLoginDate:"",membership:{},onlineStatus:"",username:""},position:{x:"right",y:"bottom",top:0,left:0}}},x=r("./core/navigation/api/config.js"),A=r("./web/core/api/user/helper.js"),T=r("./web/core/api/position/helper.js"),L=r("./node_modules/vuex/dist/vuex.esm.js"),I=r("./web/core/api/user/config.js"),M={namespaced:!0,mutations:{newMessage:function newMessage(t,o){t.message=o}},state:{message:null}},R=r("./utils/router.js"),D=r("./web/core/store/modules/trophies/index.js"),N="create",$="delete",B="here",U="mute",q="unmute",G="warn";S={},O()(S,N,'create <i>say-hi "hello world" 60 5</i>'),O()(S,$,"delete <i>say-hi</i>"),O()(S,B,"here"),O()(S,U,"mute <i>username</i>"),O()(S,q,"unmute <i>username</i>"),O()(S,G,"warn <i>username</i>");!function(t){t.MUTE="mute",t.UNMUTE="unmute",t.WARN="warn"}(k||(k={})),function(t){t.BADGE_KEY="chatMessages",t[t.BIG_EMOTES_LIMIT=4]="BIG_EMOTES_LIMIT",t[t.DEFAULT_CHAT_WINDOW_HEIGHT=400]="DEFAULT_CHAT_WINDOW_HEIGHT",t[t.DEFAULT_CHAT_WINDOW_WIDTH=350]="DEFAULT_CHAT_WINDOW_WIDTH",t[t.CHAT_WINDOW_MOVE_TRESHOLD=30]="CHAT_WINDOW_MOVE_TRESHOLD",t[t.CHAT_WINDOW_WIDTH_ON_MOBILE=.9]="CHAT_WINDOW_WIDTH_ON_MOBILE",t.CHESS_COM_BOT_USER_ID="83ab9400-ffcd-11db-8054-000000000000",t.CHESS_COM_BOT_USER_NAME="chesscombot",t[t.CHESS_TV_CHAT_POPOUT_HEIGHT=500]="CHESS_TV_CHAT_POPOUT_HEIGHT",t[t.CHESS_TV_CHAT_POPOUT_WIDTH=300]="CHESS_TV_CHAT_POPOUT_WIDTH",t.CHESS_TV_DEFAULT_LANG="en",t[t.EMOTES_IN_A_ROW=3]="EMOTES_IN_A_ROW",t[t.HTTP_CODE_TOO_MUCH_REQUESTS=429]="HTTP_CODE_TOO_MUCH_REQUESTS",t[t.HTTP_CODE_FORBIDDEN=403]="HTTP_CODE_FORBIDDEN",t[t.INTERVAL_BETWEEN_BASIC_USER_MESSAGES=1e4]="INTERVAL_BETWEEN_BASIC_USER_MESSAGES",t[t.INTERVAL_GET_PUBSUB_STATE=3e3]="INTERVAL_GET_PUBSUB_STATE",t[t.INTERVAL_GET_PUBSUB_STATE_INITIAL=500]="INTERVAL_GET_PUBSUB_STATE_INITIAL",t[t.INTERVAL_AUTO_SCROLL=15e3]="INTERVAL_AUTO_SCROLL",t[t.INTERVAL_FETCH_ONLINE_STATUS=6e4]="INTERVAL_FETCH_ONLINE_STATUS",t.KEY_ALT="Alt",t[t.KEY_ENTER=13]="KEY_ENTER",t[t.KEY_ESC=27]="KEY_ESC",t[t.MESSAGE_FIELD_MAX_HEIGHT=100]="MESSAGE_FIELD_MAX_HEIGHT",t[t.MESSAGE_MAX_LENGTH=500]="MESSAGE_MAX_LENGTH",t[t.MESSAGE_MAX_LENGTH_FOR_BASIC=100]="MESSAGE_MAX_LENGTH_FOR_BASIC",t[t.MESSAGES_PER_REQUEST=20]="MESSAGES_PER_REQUEST",t[t.MESSAGES_PER_REQUEST_CHESS_TV=100]="MESSAGES_PER_REQUEST_CHESS_TV",t[t.MIN_CHAT_WINDOW_HEIGHT=200]="MIN_CHAT_WINDOW_HEIGHT",t[t.MIN_CHAT_WINDOW_WIDTH=300]="MIN_CHAT_WINDOW_WIDTH",t.ONLINE_STATUS="online",t.PENDING_MESSAGE_ID="pending_message",t.PUBSUB_ACTION_CREATED="created",t[t.RETRY_REQUEST_TIMEOUT=200]="RETRY_REQUEST_TIMEOUT",t[t.WINDOW_RESIZE_DEBOUNCE=250]="WINDOW_RESIZE_DEBOUNCE",t[t.SCROLL_HEIGHT_TRIGGER=100]="SCROLL_HEIGHT_TRIGGER",t.SYSTEM_USER_ID="1414b520-62de-11dd-8050-000000000000",t[t.TIMEOUT_TILL_MESSAGE_IS_READ=500]="TIMEOUT_TILL_MESSAGE_IS_READ",t[t.UNREAD_MESSAGE_BADGE_ANIMATION=1e3]="UNREAD_MESSAGE_BADGE_ANIMATION",t[t.USER_MUTE_MESSAGES_ANMOUNT=60]="USER_MUTE_MESSAGES_ANMOUNT",t[t.USER_MUTE_TIMEOUT=1e4]="USER_MUTE_TIMEOUT",t.USER_CLUB_CHAT_MUTE_TIMEOUT="PT60M",t[t.USERS_PER_REQUEST=30]="USERS_PER_REQUEST",t[t.USERS_TRACK_STATUS_LIMIT=25]="USERS_TRACK_STATUS_LIMIT"}(C||(C={}));var V;r("./core/chat/config/events.ts");!function(t){t.EVERYONE="everyone",t.FRIENDS="friends",t.TITLED_PLAYERS="titled"}(V||(V={}));var H,z=r("./utils/translation/translation.helper.js"),K=(H={accept:Object(z.b)("Accept"),acceptAndChat:Object(z.b)("Accept & Chat"),blockDirectChat:Object(z.b)("Block this chat"),cancel:Object(z.b)("Cancel"),cannotBeCreated:Object(z.b)("This chat cannot be created."),cannotComment:Object(z.b)("You are currently unable to comment with this account."),cannotSendMessagesTooOften:Object(z.b)("You can chat only once every 10 seconds."),chatRequestSent:Object(z.b)("Chat request sent"),chatViewOptions:Object(z.b)("Chat View Options"),closeChat:Object(z.b)("Close"),commandCreated:function commandCreated(t){return Object(z.b)("Command /%1$s% has been created",{"%1$s%":t})},commandDeleted:function commandDeleted(t){return Object(z.b)("Command /%1$s% has been deleted",{"%1$s%":t})},commandDoesNotExist:Object(z.b)("Command doesn't exist"),commandFailed:Object(z.b)("Command failed"),deactivateChat:Object(z.b)("Hide"),decline:Object(z.b)("Decline"),declinedChatRequest:function declinedChatRequest(t){return Object(z.b)("You have declined to chat with %1$s%. You can change your mind and accept at any time.",{"%1$s%":t})},deleteMessage:Object(z.b)("Delete message"),donationGiven:function donationGiven(t){var o=t.userFrom,r=t.userTo,a=t.value;return Object(z.b)("%1$s% donated a %2$s% to %3$s%",{"%1$s%":o,"%2$s%":a,"%3$s%":r})},findUser:Object(z.b)("Search..."),hideInactiveChats:Object(z.b)("Active chats"),latestChat:Object(z.b)("Latest Chat"),leaveChat:Object(z.b)("Leave this chat"),loading:Object(z.b)("Loading..."),membershipGiven:function membershipGiven(t){var o=t.membership,r=t.userFrom,a=t.userTo;return Object(z.b)("%1$s% gifted a %2$s% to %3$s%",{"%1$s%":r,"%2$s%":o,"%3$s%":a})},message:Object(z.b)("Message..."),minimizeChat:Object(z.b)("Minimize"),moderatorMessage:Object(z.b)("Moderator message:"),muted:Object(z.b)("Muted"),gotIt:Object(z.b)("Got it!"),pleaseSignUp:Object(z.b)('Please <a href="%1$s%" target="_blank">Sign Up</a> to use the chat',{"%1$s%":R.a.generate("web_security_register")}),pleaseUpgrade:Object(z.b)("Upgrade to get all emojis!"),popout:Object(z.b)("Popout"),removeChat:Object(z.b)("Remove chat"),restoreMessage:Object(z.b)("Restore message"),rulesLink:Object(z.b)('Please follow our Community Policy to keep Chess.com a fun and safe place to enjoy chess. If you don\'t follow the rules, your account may be restricted. <a href="https://www.chess.com/community" target="_blank">Learn more </a>'),sendMessageError:Object(z.b)("Message failed."),showInactiveChats:Object(z.b)("Inactive chats"),sendMessageTo:Object(z.b)("To:"),subscriptionFromStreamer:function subscriptionFromStreamer(t){var o=t.affiliate,r=t.membership,a=t.username;return Object(z.b)("<strong>%1$s%</strong> upgraded to a Chess.com %2$s% - Thanks %3$s%!",{"%1$s%":a,"%2$s%":r,"%3$s%":o})},tooMuchMessages:Object(z.b)("Relax! You are sending too many messages."),tooManyClubInvitations:Object(z.b)('Please read <a href="%1$s%" target="_blank">How do I invite someone to join my club?</a>',{"%1$s%":"https://support.chess.com/article/329-how-do-i-invite-someone-to-join-my-club"}),tryAgain:Object(z.b)("Resend"),unableToConnect:Object(z.b)("Unable to connect to chat. Please refresh or login again."),usersAreUnavailable:function usersAreUnavailable(t){return Object(z.b)("Sorry! %1$s% are not available to chat.",{"%1$s%":t})},userIsUnavailable:function userIsUnavailable(t){return Object(z.b)("Sorry! %1$s% is not available to chat.",{"%1$s%":t})},userWasUnavailable:function userWasUnavailable(t){return Object(z.b)("%1$s% declined to chat earlier. You can try again now.",{"%1$s%":t})},userWantsToChat:function userWantsToChat(t){return Object(z.b)("%1$s% would like to chat",{"%1$s%":t})},userHasBeenMuted:function userHasBeenMuted(t,o){return Object(z.b)("%1$s% has been muted by %2$s%",{"%1$s%":t,"%2$s%":o})},userHasBeenWarned:function userHasBeenWarned(t,o){return Object(z.b)("%1$s% has been warned by %2$s%",{"%1$s%":t,"%2$s%":o})},usersOnline:function usersOnline(t){return Object(z.b)("Users online: %1$s%",{"%1$s%":t})},warning:Object(z.b)("Warning"),youHaveBeenMuted:Object(z.b)("You have been muted."),youHaveBeenWarned:Object(z.b)("You have been warned.")},O()(H,V.EVERYONE,Object(z.b)("Everyone")),O()(H,V.FRIENDS,Object(z.b)("Friends")),O()(H,V.TITLED_PLAYERS,Object(z.b)("Titled Players")),Object(A.b)("uuid"),window.context),W=(K&&K.user&&K.user.isPremium,r("./utils/i18n.js")),Y=r("./ui/components/icons/icon-font.vue"),Q=r("./utils/directives/tooltip.js"),J={name:"IconButton",components:{IconFont:Y.a},directives:{Tooltip:Q.a},props:{action:Function,btnColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"],methods:{onClick:function onClick(t){this.action?this.action(t):this.$emit("click",t)}}},Z=r("./ui/components/user/icon-button.vue?vue&type=style&index=0&lang=scss&module=true&"),X=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var ee=Object(X.a)(J,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("button",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.label,delay:100},expression:"{\n    content: label,\n    delay: 100\n  }"}],class:[t.$style.link,t.$style[t.btnColor]],attrs:{type:"button","aria-label":t.label},on:{click:t.onClick}},[r("icon-font",{class:[t.$style.icon],attrs:{theme:"primary",name:t.iconName}})],1)}),[],!1,(function injectStyles(t){this.$style=Z.default.locals||Z.default}),null,null).exports,te={name:"AdminActions",components:{IconButton:ee},props:{canModerate:{type:Boolean,default:!1},canMuteOnChat:{type:Boolean,default:!1},clientName:String,canWarnOnChat:Boolean,canModerateOnChat:Boolean,userAlreadyMutedOnChat:Boolean},emits:["chat-kick-user","chat-unmute-user","chat-mute-user-remove-messages","chat-mute-user","chat-warn-user","ban-user","kick-user","mute-user","warn-user"]},ne=r("./ui/components/user/admin-actions.vue?vue&type=style&index=0&lang=scss&module=true&");var oe=Object(X.a)(te,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[t.canModerate?r("icon-button",{attrs:{"icon-name":"flag","btn-color":"red",label:t.$trans("Warn")},on:{click:function(o){return t.$emit("warn-user")}}}):t._e(),t._v(" "),t.canModerate?r("icon-button",{attrs:{"icon-name":"chat-x","btn-color":"red",label:t.$trans("Mute")},on:{click:function(o){return t.$emit("mute-user")}}}):t._e(),t._v(" "),t.canModerate?r("icon-button",{attrs:{"icon-name":"exit","btn-color":"red",label:t.$trans("Kick")},on:{click:function(o){return t.$emit("kick-user")}}}):t._e(),t._v(" "),t.canModerate?r("icon-button",{attrs:{"icon-name":"user-block","btn-color":"red",label:t.$trans("Ban")},on:{click:function(o){return t.$emit("ban-user")}}}):t._e(),t._v(" "),t.canModerate&&t.clientName?r("icon-button",{attrs:{"icon-name":"circle-info",label:t.clientName}}):t._e(),t._v(" "),t.canModerate&&(t.canWarnOnChat||t.canModerateOnChat)?r("div",{class:t.$style.separator}):t._e(),t._v(" "),t.canWarnOnChat&&!t.userAlreadyMutedOnChat?r("icon-button",{attrs:{"icon-name":"flag","btn-color":"red",label:t.$trans("Chat Warn")},on:{click:function(o){return t.$emit("chat-warn-user")}}}):t._e(),t._v(" "),!t.canModerateOnChat&&!t.canMuteOnChat||t.userAlreadyMutedOnChat?t._e():r("icon-button",{attrs:{"icon-name":"chat-x","btn-color":"red",label:t.$trans("Chat Mute")},on:{click:function(o){return t.$emit("chat-mute-user")}}}),t._v(" "),t.canMuteOnChat&&!t.userAlreadyMutedOnChat?r("icon-button",{attrs:{"icon-name":"trash","btn-color":"red",label:t.$trans("Chat Mute and remove messages")},on:{click:function(o){return t.$emit("chat-mute-user-remove-messages")}}}):t._e(),t._v(" "),t.canMuteOnChat&&t.userAlreadyMutedOnChat?r("icon-button",{attrs:{"icon-name":"chat-alt","btn-color":"blue",label:t.$trans("Chat Unmute")},on:{click:function(o){return t.$emit("chat-unmute-user")}}}):t._e(),t._v(" "),t.canModerateOnChat?r("icon-button",{attrs:{"icon-name":"exit","btn-color":"red",label:t.$trans("Chat Kick")},on:{click:function(o){return t.$emit("chat-kick-user")}}}):t._e()],1)}),[],!1,(function admin_actions_injectStyles(t){this.$style=ne.default.locals||ne.default}),null,null).exports,re=r("./live/src/es6/core/type.utils.js"),se=r("./live/src/es6/core/timer.utils.js"),ae={name:"click-outside",bind:function bind(t,o){var r,a,i=1,l="click";if(re.a.isFunction(o.value)?r=o.value:re.a.isObject(o.value)&&(r=o.value.handler,i=o.value.delay,l=o.value.clickEvent||"click"),!re.a.isFunction(r))throw new Error("must pass function to click-outside");var c=function onClickElement(t){return t.stopPropagation()},u=function onClickDocument(o){return t!==o.target&&r(t,o)};t.$unbindClickOutside&&t.$unbindClickOutside(),t.$unbindClickOutside=function(){se.a.clearTimeout(a),t.removeEventListener(l,c),document.removeEventListener(l,u),delete t.$unbindClickOutside},a=se.a.setTimeout((function(){t.addEventListener(l,c),document.addEventListener(l,u)}),i)},unbind:function unbind(t){t.$unbindClickOutside&&t.$unbindClickOutside()}},ie=r("./ui/components/forms/form-button.vue"),le=r("./ui/components/forms/form-input.vue"),ce=r("./ui/components/loaders/loader-three-bounce.vue"),ue={name:"IconLink",components:{IconFont:Y.a},directives:{Tooltip:Q.a},props:{url:String,iconColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"]},de=r("./ui/components/user/icon-link.vue?vue&type=style&index=0&lang=scss&module=true&");var me=Object(X.a)(ue,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:t.label,delay:100},expression:"{\n    content: label,\n    delay: 100\n  }"}],class:[t.$style.link,t.$style[t.iconColor]],attrs:{href:t.url},on:{click:function(o){return t.$emit("click",o)}}},[r("icon-font",{class:[t.$style.icon],attrs:{theme:"primary",name:t.iconName}})],1)}),[],!1,(function icon_link_injectStyles(t){this.$style=de.default.locals||de.default}),null,null).exports,pe={name:"LabeledIconButton",components:{IconFont:Y.a},props:{action:Function,btnColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"],methods:{onClick:function onClick(t){this.action?this.action(t):this.$emit("click",t)}}},fe=r("./ui/components/user/labeled-icon-button.vue?vue&type=style&index=0&lang=scss&module=true&");var be=Object(X.a)(pe,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("button",{class:[t.$style.link,t.$style[t.btnColor]],attrs:{type:"button"},on:{click:t.onClick}},[r("icon-font",{class:[t.$style.icon],attrs:{theme:"primary",name:t.iconName}}),t._v(" "),r("span",{class:t.$style.label,domProps:{textContent:t._s(t.label)}})],1)}),[],!1,(function labeled_icon_button_injectStyles(t){this.$style=fe.default.locals||fe.default}),null,null).exports,ge={name:"LabeledIconButton",components:{IconFont:Y.a},props:{url:String,iconColor:String,iconName:{type:String,required:!0},label:{type:String,required:!0}},emits:["click"]},he=r("./ui/components/user/labeled-icon-link.vue?vue&type=style&index=0&lang=scss&module=true&");var _e=Object(X.a)(ge,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("a",{class:[t.$style.link,t.$style[t.iconColor]],attrs:{href:t.url},on:{click:function(o){return t.$emit("click",o)}}},[r("icon-font",{class:[t.$style.icon],attrs:{theme:"primary",name:t.iconName}}),t._v(" "),r("span",{class:t.$style.label,domProps:{textContent:t._s(t.label)}})],1)}),[],!1,(function labeled_icon_link_injectStyles(t){this.$style=he.default.locals||he.default}),null,null).exports,ve={methods:{hasVisibleDropdown:function hasVisibleDropdown(){return Object.values(this.dropdown).some((function(t){return"block"===t.display}))},createDropdown:function createDropdown(t){var o={dropdown:{}};return t.forEach((function(t){o.dropdown[t]={display:"none",transform:"translate(0, 0)"}})),o},hideDropdown:function hideDropdown(){var t=this;Object.keys(this.dropdown).forEach((function(o){t.dropdown[o].display="none"}))},showDropdown:function showDropdown(t,o,r){var a=this,i=document.querySelector('ul[data-dropdown="'.concat(o,'"]'));i&&("block"===this.dropdown[o].display?this.dropdown[o].display="none":(this.hideDropdown(),this.dropdown[o].display="block",this.$nextTick((function(){var l=t.target.getBoundingClientRect(),c=i.getBoundingClientRect(),u=c.width,d=c.height,m=Object(T.b)(l,d,u);r&&r(m);var p=m.left,b=m.top;a.dropdown[o].transform="translate(".concat(p,"px, ").concat(b,"px)")}))))}}};function chat_options_dropdownvue_type_script_lang_js_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var ye={name:"ChatOptionsDropdown",directives:{Tooltip:Q.a},mixins:[ve],props:{target:{type:HTMLElement,required:!0},position:{type:Object,required:!0},chatOptions:{type:Array,default:function _default(){return[]}}},emits:["option-selected","hide"],data:function data(){return function chat_options_dropdownvue_type_script_lang_js_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?chat_options_dropdownvue_type_script_lang_js_ownKeys(Object(r),!0).forEach((function(o){O()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):chat_options_dropdownvue_type_script_lang_js_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({},this.createDropdown(["chat"]))},mounted:function mounted(){var t=this,o={target:this.target};this.showDropdown(o,"chat",(function(o){o.left-=t.position.left,o.top-=t.position.top}))},methods:{onClickOption:function onClickOption(t,o){t.roomId=o,this.$emit("option-selected",t)}}},we=r("./ui/components/user/chat-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&");var je=Object(X.a)(ye,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("ul",{class:t.$style.component,style:t.dropdown.chat,attrs:{"data-dropdown":"chat"}},[t._l(t.chatOptions,(function(o){return r("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:o.title,expression:"chatOption.title"}],key:o.roomId,domProps:{textContent:t._s(o.title)},on:{click:function(r){return t.onClickOption(r,o.roomId)}}})})),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),r("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$trans("Close"),expression:"$trans('Close')"}],class:[t.$style.close,"icon-x"],on:{click:function(o){return t.$emit("hide")}}})],2)}),[function(){var t=this,o=t.$createElement;return(t._self._c||o)("li",{domProps:{textContent:t._s(t.$trans("Private Chat"))},on:{click:function(o){return t.onClickOption(o)}}})},function(){var t=this,o=t.$createElement;return(t._self._c||o)("span",{class:t.$style.title,domProps:{textContent:t._s(t.$trans("Chat"))}})}],!1,(function chat_options_dropdown_injectStyles(t){this.$style=we.default.locals||we.default}),null,null).exports;function analysis_options_dropdownvue_type_script_lang_js_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var Ee={name:"AnalysisOptionsDropdown",directives:{Tooltip:Q.a},mixins:[ve],props:{target:{type:HTMLElement,required:!0},position:{type:Object,required:!0},analysisOptions:{type:Array,default:function _default(){return[]}}},emits:["option-selected","hide"],data:function data(){return function analysis_options_dropdownvue_type_script_lang_js_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?analysis_options_dropdownvue_type_script_lang_js_ownKeys(Object(r),!0).forEach((function(o){O()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):analysis_options_dropdownvue_type_script_lang_js_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({},this.createDropdown(["analysis"]))},mounted:function mounted(){var t=this,o={target:this.target};this.showDropdown(o,"analysis",(function(o){o.left-=t.position.left,o.top-=t.position.top}))},methods:{onClickOption:function onClickOption(t,o){t.examineId=o,this.$emit("option-selected",t)}}},Oe=r("./ui/components/user/analysis-options-dropdown.vue?vue&type=style&index=0&lang=scss&module=true&");var Se=Object(X.a)(Ee,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("ul",{class:t.$style.component,style:t.dropdown.analysis,attrs:{"data-dropdown":"analysis"}},[t._l(t.analysisOptions,(function(o){return r("li",{directives:[{name:"tooltip",rawName:"v-tooltip",value:o.title,expression:"analysisOption.title"}],key:o.examineId,domProps:{textContent:t._s(o.title)},on:{click:function(r){return t.onClickOption(r,o.examineId)}}})})),t._v(" "),t._m(0),t._v(" "),r("i",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.$trans("Close"),expression:"$trans('Close')"}],class:[t.$style.close,"icon-x"],on:{click:function(o){return t.$emit("hide")}}})],2)}),[function(){var t=this,o=t.$createElement;return(t._self._c||o)("span",{class:t.$style.title,domProps:{textContent:t._s(t.$trans("Analysis Board"))}})}],!1,(function analysis_options_dropdown_injectStyles(t){this.$style=Oe.default.locals||Oe.default}),null,null).exports,ke={name:"UserActions",components:{IconFont:Y.a,IconButton:ee,IconLink:me,LabeledIconButton:be,LabeledIconLink:_e,ChatOptionsDropdown:je,AnalysisOptionsDropdown:Se},props:{avatar:String,canAddFriend:Boolean,canBlockUser:Boolean,canReportUser:Boolean,canCreateChallenge:Boolean,canFollowUser:Boolean,canGiftMembership:Boolean,canRemoveFriend:Boolean,canSendMessage:Boolean,canInviteToChat:Boolean,canSendTrophy:Boolean,canUnblockUser:Boolean,canUnfollowUser:Boolean,canUseGlobalChat:Boolean,isEnabled:Boolean,hasInboundFriendRequest:Boolean,hasOutboundFriendRequest:Boolean,loggedAsAnother:Boolean,username:String,canObserveGame:{type:Boolean,default:!1},isBughousePartner:{type:Boolean,default:!1},challengeUrl:String,canCancelFriendRequest:{type:Boolean,default:!1},canDeclineFriendRequest:{type:Boolean,default:!1},canAcceptFriendRequest:{type:Boolean,default:!1},archiveUrl:String,chatOptions:{type:Array,default:function _default(){return[]}},position:{type:Object,default:function _default(){return{}}},canInviteToAnalysis:{type:Boolean,default:!1},analysisOptions:{type:Array,default:function _default(){return[]}},isConfirmVisible:{type:Boolean,default:!1},showBughousePartner:{type:Boolean,default:!1},membershipUrl:String,dynamicActions:Array},emits:["show-archive","show-gift","show-trophy","decline-friend-request","cancel-friend-request","add-friend","invite-analysis","request-chat","send-message","create-challenge","user-popover-hide","remove-friend","accept-friend-request","follow-user","unfollow-user","block-user","unblock-user","show-report","observe-user","bughouse-partner","bughouse-unpartner","all-actions-shown","start-direct-chat"],data:function data(){return{allActions:!1,chatDropdownTarget:null,analysisDropdownTarget:null,buttonsListStyle:null}},computed:{showGlobalChatButton:function showGlobalChatButton(){return this.canUseGlobalChat&&!this.canInviteToChat}},methods:{getIconComponent:function getIconComponent(t){return t?me:ee},getIconLabeledComponent:function getIconLabeledComponent(t){return t?_e:be},hidePopover:function hidePopover(){this.$emit("user-popover-hide")},onClickChallenge:function onClickChallenge(t){this.challengeUrl?this.hidePopover():(t.username=this.username,t.avatar=this.avatar,this.$emit("create-challenge",t))},onClickMessage:function onClickMessage(t){t.username=this.username,t.avatar=this.avatar,this.$emit("send-message",t)},onClickChat:function onClickChat(t){this.chatOptions.length?this.chatDropdownTarget=t.target:this.onClickChatOption(t)},onClickChatOption:function onClickChatOption(t){this.hideChatDropdown(),this.$emit("request-chat",t)},onClickAnalysis:function onClickAnalysis(t){this.analysisDropdownTarget=t.target},onClickAnalysisOption:function onClickAnalysisOption(t){this.hideAnalysisDropdown(),this.$emit("invite-analysis",t)},onClickAddFriend:function onClickAddFriend(){this.$emit("add-friend")},onClickCancelFriendRequest:function onClickCancelFriendRequest(){this.$emit("cancel-friend-request")},onClickDeclineFriendRequest:function onClickDeclineFriendRequest(){this.$emit("decline-friend-request")},onClickTrophy:function onClickTrophy(t){t.username=this.username,this.$emit("show-trophy",t)},onClickGift:function onClickGift(){this.$emit("show-gift")},onClickArchive:function onClickArchive(t){this.archiveUrl?this.hidePopover():(t.username=this.username,this.$emit("show-archive",t))},onClickRemoveFriend:function onClickRemoveFriend(){this.$emit("remove-friend")},onClickAcceptFriendRequest:function onClickAcceptFriendRequest(){this.$emit("accept-friend-request")},onClickFollowUser:function onClickFollowUser(){this.$emit("follow-user")},onClickUnfollowUser:function onClickUnfollowUser(){this.$emit("unfollow-user")},onClickBlockUser:function onClickBlockUser(){this.$emit("block-user")},onClickUnblockUser:function onClickUnblockUser(){this.$emit("unblock-user")},onClickReport:function onClickReport(){this.$emit("show-report")},onClickObserve:function onClickObserve(){this.$emit("observe-user")},onClickPartner:function onClickPartner(){this.$emit("bughouse-partner")},onClickUnpartner:function onClickUnpartner(){this.$emit("bughouse-unpartner")},showAllActions:function showAllActions(){var t=this;this.allActions=!0,this.$nextTick((function(){var o=document.getElementsByClassName(t.$style.buttonsList)[0];if(o){var r=i()(o.children),a=Math.max.apply(Math,i()(r.map((function(t){return t.offsetHeight}))));t.buttonsListStyle={height:"".concat(a*Math.round(r.length/2),"px")}}t.$nextTick((function(){t.$emit("all-actions-shown")}))}))},startDirectChat:function startDirectChat(){this.hidePopover(),this.$emit("start-direct-chat")},hideChatDropdown:function hideChatDropdown(){this.chatDropdownTarget=null},hideAnalysisDropdown:function hideAnalysisDropdown(){this.analysisDropdownTarget=null}}},Ce=r("./ui/components/user/user-actions.vue?vue&type=style&index=0&lang=scss&module=true&");var Pe=Object(X.a)(ke,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[t.allActions?t._e():r("div",{class:t.$style["icons-list"]},[t.canCreateChallenge?r(t.getIconComponent(t.challengeUrl),{tag:"component",attrs:{"icon-name":"chess-board-plus",label:t.$trans("Challenge"),url:t.challengeUrl},on:{click:t.onClickChallenge}}):t._e(),t._v(" "),t.showGlobalChatButton?r("icon-button",{attrs:{"icon-name":"chat",label:t.$trans("Chat")},on:{click:t.startDirectChat}}):t._e(),t._v(" "),t.loggedAsAnother?r("icon-button",{attrs:{"icon-name":"mail-plus",label:t.$trans("Message")},on:{click:t.onClickMessage}}):t._e(),t._v(" "),t.canInviteToChat?r("icon-button",{attrs:{"icon-name":"chat",label:t.$trans("Chat")},on:{click:t.onClickChat}}):t._e(),t._v(" "),t.canAddFriend?r("icon-button",{attrs:{"icon-name":"user-plus",label:t.$trans("Add Friend")},on:{click:t.onClickAddFriend}}):t._e(),t._v(" "),t.canAcceptFriendRequest?r("icon-button",{attrs:{"icon-name":"user-plus",label:t.$trans("Accept Request")},on:{click:t.onClickAcceptFriendRequest}}):t._e(),t._v(" "),t.canDeclineFriendRequest?r("icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:t.$trans("Decline Request")},on:{click:t.onClickDeclineFriendRequest}}):t._e(),t._v(" "),t.canCancelFriendRequest?r("icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:t.$trans("Cancel Request")},on:{click:t.onClickCancelFriendRequest}}):t._e(),t._v(" "),t.canRemoveFriend?r("icon-button",{attrs:{"icon-name":"user-x",label:t.$trans("Remove Friend")},on:{click:t.onClickRemoveFriend}}):t._e(),t._v(" "),t.canGiftMembership?r(t.getIconComponent(t.membershipUrl),{tag:"component",attrs:{"btn-color":"blue","icon-color":"blue","icon-name":"display-slider",label:t.$trans("Gift Membership"),url:t.membershipUrl},on:{click:t.onClickGift}}):t._e(),t._v(" "),t.canObserveGame?r("icon-button",{attrs:{"icon-name":"binoculars",label:t.$trans("Observe Game")},on:{click:t.onClickObserve}}):t._e(),t._v(" "),t.canReportUser?r("icon-button",{attrs:{"icon-name":"circle-danger",label:t.$trans("Report")},on:{click:t.onClickReport}}):t._e(),t._v(" "),t.loggedAsAnother?t._e():r(t.getIconComponent(t.archiveUrl),{tag:"component",attrs:{"icon-name":"chess-board-folder",label:t.$trans("Archive"),url:t.archiveUrl},on:{click:t.onClickArchive}}),t._v(" "),t.loggedAsAnother&&t.isEnabled?r("button",{class:t.$style.more,attrs:{type:"button"},on:{click:t.showAllActions}},[t._v("\n      "+t._s(t.$trans("More"))+"\n      "),r("icon-font",{class:t.$style.caret,attrs:{name:"caret-down",theme:"primary"}})],1):t._e()],1),t._v(" "),t.allActions&&!t.isConfirmVisible?r("div",{class:t.$style.buttonsList,style:t.buttonsListStyle},[t.canCreateChallenge?r(t.getIconLabeledComponent(t.challengeUrl),{tag:"component",attrs:{"icon-name":"chess-board-plus",label:t.$trans("Challenge"),url:t.challengeUrl},on:{click:t.onClickChallenge}}):t._e(),t._v(" "),t.showGlobalChatButton?r("labeled-icon-button",{attrs:{"icon-name":"chat",label:t.$trans("Chat")},on:{click:t.startDirectChat}}):t._e(),t._v(" "),t.loggedAsAnother?r("labeled-icon-button",{attrs:{"icon-name":"mail-plus",label:t.$trans("Message")},on:{click:t.onClickMessage}}):t._e(),t._v(" "),t.canInviteToChat?r("labeled-icon-button",{attrs:{"icon-name":"chat",label:t.$trans("Chat")},on:{click:t.onClickChat}}):t._e(),t._v(" "),t.canAddFriend?r("labeled-icon-button",{attrs:{"icon-name":"user-plus",label:t.$trans("Add Friend")},on:{click:t.onClickAddFriend}}):t._e(),t._v(" "),t.canAcceptFriendRequest?r("labeled-icon-button",{attrs:{"icon-name":"user-plus",label:t.$trans("Accept Request")},on:{click:t.onClickAcceptFriendRequest}}):t._e(),t._v(" "),t.canDeclineFriendRequest?r("labeled-icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:t.$trans("Decline Request")},on:{click:t.onClickDeclineFriendRequest}}):t._e(),t._v(" "),t.canCancelFriendRequest?r("labeled-icon-button",{attrs:{"btn-color":"grey","icon-name":"user-x",label:t.$trans("Cancel Request")},on:{click:t.onClickCancelFriendRequest}}):t._e(),t._v(" "),t.canRemoveFriend?r("labeled-icon-button",{attrs:{"icon-name":"user-x",label:t.$trans("Remove Friend")},on:{click:t.onClickRemoveFriend}}):t._e(),t._v(" "),t.canObserveGame?r("labeled-icon-button",{attrs:{"icon-name":"binoculars",label:t.$trans("Observe")},on:{click:t.onClickObserve}}):t._e(),t._v(" "),t.canFollowUser?r("labeled-icon-button",{attrs:{"icon-name":"follow",label:t.$trans("Follow")},on:{click:t.onClickFollowUser}}):t._e(),t._v(" "),t.canUnfollowUser?r("labeled-icon-button",{attrs:{"icon-name":"unfollow",label:t.$trans("Unfollow")},on:{click:t.onClickUnfollowUser}}):t._e(),t._v(" "),t.canGiftMembership?r("labeled-icon-button",{attrs:{"btn-color":"blue","icon-name":"display-slider",label:t.$trans("Gift Membership")},on:{click:t.onClickGift}}):t._e(),t._v(" "),t.canSendTrophy?r("labeled-icon-button",{attrs:{"icon-name":"trophy-plus",label:t.$trans("Give Award")},on:{click:t.onClickTrophy}}):t._e(),t._v(" "),t.showBughousePartner&&!t.isBughousePartner?r("labeled-icon-button",{attrs:{"icon-name":"bughouse",label:t.$trans("Partner")},on:{click:t.onClickPartner}}):t._e(),t._v(" "),t.showBughousePartner&&t.isBughousePartner?r("labeled-icon-button",{attrs:{"icon-name":"bughouse",label:t.$trans("Unpartner")},on:{click:t.onClickUnpartner}}):t._e(),t._v(" "),t.canInviteToAnalysis?r("labeled-icon-button",{attrs:{"icon-name":"chess-board-search",label:t.$trans("Analysis Board")},on:{click:t.onClickAnalysis}}):t._e(),t._v(" "),r(t.getIconLabeledComponent(t.archiveUrl),{tag:"component",attrs:{"icon-name":"chess-board-folder",label:t.$trans("Archive"),url:t.archiveUrl},on:{click:t.onClickArchive}}),t._v(" "),t.canBlockUser?r("labeled-icon-button",{attrs:{"icon-name":"circle-block",label:t.$trans("Block")},on:{click:t.onClickBlockUser}}):t._e(),t._v(" "),t.canUnblockUser?r("labeled-icon-button",{attrs:{"btn-color":"red","icon-name":"circle-block",label:t.$trans("Unblock")},on:{click:t.onClickUnblockUser}}):t._e(),t._v(" "),t.canReportUser?r("labeled-icon-button",{attrs:{"icon-name":"circle-danger",label:t.$trans("Report")},on:{click:t.onClickReport}}):t._e(),t._v(" "),t.dynamicActions?t._l(t.dynamicActions,(function(t,o){return r("labeled-icon-button",{key:o,attrs:{"icon-name":t.iconName,label:t.label},on:{click:t.handler}})})):t._e()],2):t._e(),t._v(" "),t.chatDropdownTarget?r("chat-options-dropdown",{attrs:{target:t.chatDropdownTarget,position:t.position,"chat-options":t.chatOptions},on:{"option-selected":t.onClickChatOption,hide:t.hideChatDropdown}}):t._e(),t._v(" "),t.analysisDropdownTarget?r("analysis-options-dropdown",{attrs:{target:t.analysisDropdownTarget,position:t.position,"analysis-options":t.analysisOptions},on:{"option-selected":t.onClickAnalysisOption,hide:t.hideAnalysisDropdown}}):t._e()],1)}),[],!1,(function user_actions_injectStyles(t){this.$style=Ce.default.locals||Ce.default}),null,null).exports,xe=r("./ui/components/user/user-avatar.vue"),Ae={name:"UserFlairStatus",props:{status:{type:String,required:!0}}},Te=r("./ui/components/user/user-flair-status.vue?vue&type=style&index=0&lang=scss&module=true&");var Le=Object(X.a)(Ae,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return t.status.length?r("div",{class:t.$style.component,domProps:{textContent:t._s(t.status)}}):t._e()}),[],!1,(function user_flair_status_injectStyles(t){this.$style=Te.default.locals||Te.default}),null,null).exports,Ie={name:"UserRating",components:{IconFont:Y.a},props:{icon:{type:String,required:!0},rating:{type:Number,required:!0}}},Me=r("./ui/components/user/user-rating.vue?vue&type=style&index=0&lang=scss&module=true&");var Re=Object(X.a)(Ie,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("span",{class:t.$style.component},[r("icon-font",{class:t.$style.icon,attrs:{theme:"primary",name:t.icon}}),t._v(" "),r("span",{class:t.$style.rating},[t._v("\n    "+t._s(t.rating)+"\n  ")])],1)}),[],!1,(function user_rating_injectStyles(t){this.$style=Me.default.locals||Me.default}),null,null).exports,De=r("./ui/components/user/user-tagline.vue"),Ne={name:"UserPopover",components:{LoaderThreeBounce:ce.a,UserAvatar:xe.a,UserFlairStatus:Le,UserRating:Re,UserTagline:De.a,UserActions:Pe,FormButton:ie.a,FormInput:le.a,AdminActions:oe},directives:{Tooltip:Q.a,ClickOutside:ae},props:{avatar:{type:String,required:!0},ratings:{type:Array,required:!0},chessTitle:{type:String,required:!1},country:{type:Object,required:!1},flair:{type:Object,default:function _default(){return{code:"",status:""}}},isEnabled:{type:Boolean},isGuest:{type:Boolean,default:!1},isLoading:{type:Boolean,default:!1},joinedDate:String,lastLoginDate:String,membership:{type:Number,required:!1},onlineStatus:{type:[Boolean,String],required:!1},usernameElementRef:{type:HTMLElement,required:!0},username:{type:String,required:!1},canAddFriend:Boolean,canBlockUser:Boolean,canUseGlobalChat:Boolean,canReportUser:Boolean,canCreateChallenge:Boolean,canFollowUser:Boolean,canGiftMembership:Boolean,canRemoveFriend:Boolean,canSendMessage:Boolean,canInviteToChat:Boolean,canSendTrophy:Boolean,canUnblockUser:Boolean,canUnfollowUser:Boolean,loggedAsAnother:Boolean,canMuteUser:{type:Boolean,default:!1},canObserveGame:{type:Boolean,default:!1},isBughousePartner:{type:Boolean,default:!1},shouldShowModeration:{type:Boolean,default:!1},challengeUrl:String,canCancelFriendRequest:{type:Boolean,default:!1},canDeclineFriendRequest:{type:Boolean,default:!1},canAcceptFriendRequest:{type:Boolean,default:!1},archiveUrl:String,chatOptions:{type:Array,default:function _default(){return[]}},canInviteToAnalysis:{type:Boolean,default:!1},analysisOptions:{type:Array,default:function _default(){return[]}},canModerate:{type:Boolean,default:!1},clientName:String,canWarnOnChat:Boolean,canModerateOnChat:Boolean,showBughousePartner:{type:Boolean,default:!1},openProfileOnNewTab:{type:Boolean,required:!1},membershipUrl:String,dynamicActions:Array,clubChatIdForModeratorActions:String,popoverPosition:{type:Object,default:null},showProfileUrls:{type:Boolean,default:!0},userAlreadyMutedOnChat:Boolean,uuid:String},emits:["chat-kick-user","chat-mute-user","chat-warn-user","ban-user","kick-user","mute-user","warn-user","block-user","remove-friend","user-popover-hide","request-chat","invite-analysis","bughouse-unpartner","bughouse-partner","observe-user","show-trophy","show-report","unblock-user","unfollow-user","follow-user","accept-friend-request","start-direct-chat","show-archive","show-gift","decline-friend-request","cancel-friend-request","add-friend","send-message","create-challenge"],data:function data(){return{clubChatModeratorMessage:"",isLive:I.g,isLoggedIn:Object(A.f)(),isOnline:I.h,offset:12,translations:I.o,confirmMessage:null,confirmCallback:null,position:{x:0,y:0,top:0,left:0}}},computed:{adminActionsIsVisible:function adminActionsIsVisible(){return this.canModerate||this.canWarnOnChat||this.canModerateOnChat||this.clubChatIdForModeratorActions},formatedJoinedDate:function formatedJoinedDate(){return Object(A.f)()?this.joinedDate:W.a.relative(this.joinedDate)},formatedLastLoginDate:function formatedLastLoginDate(){return Object(A.f)()?this.lastLoginDate:W.a.relative(this.lastLoginDate)},memberUrl:function memberUrl(){return R.a.generate("web_member_view",{username:this.username})},ratingsToShow:function ratingsToShow(){return this.ratings.slice(0,3)},isConfirmVisible:function isConfirmVisible(){return!!this.confirmMessage&&!!this.confirmCallback},inlineStyles:function inlineStyles(){return setPopoverPosition(this.position)}},mounted:function mounted(){this.popoverPosition?this.position=this.popoverPosition:this.updatePopoverPosition()},methods:{onMouseEnter:function onMouseEnter(){clearTimeout(this.hideTimeout)},onMouseLeave:function onMouseLeave(){var t=this;this.hideTimeout=setTimeout((function(){t.hidePopover()}),500)},hidePopover:function hidePopover(){this.$emit("user-popover-hide")},onConfirmYes:function onConfirmYes(){this.confirmCallback&&this.confirmCallback(),this.onConfirmNo()},onConfirmNo:function onConfirmNo(){this.confirmMessage=null,this.confirmCallback=null},onClickRemoveFriend:function onClickRemoveFriend(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to remove this friend from your list?"),this.confirmCallback=function(){return t.$emit("remove-friend")}},onClickBlockUser:function onClickBlockUser(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to block this user?"),this.confirmCallback=function(){return t.$emit("block-user")}},onClickWarn:function onClickWarn(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to warn this user?"),this.confirmCallback=function(){return t.$emit("warn-user")}},onClickMute:function onClickMute(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.confirmCallback=function(){return t.$emit("mute-user")}},onClickKick:function onClickKick(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to kick this user?"),this.confirmCallback=function(){return t.$emit("kick-user")}},onClickBan:function onClickBan(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to ban this user?"),this.confirmCallback=function(){return t.$emit("ban-user")}},onClickChatWarn:function onClickChatWarn(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to warn this user?"),this.clubChatIdForModeratorActions?this.confirmCallback=this.onClubChatAction(k.WARN):this.confirmCallback=function(){return t.$emit("chat-warn-user")}},onClickChatMute:function onClickChatMute(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.clubChatIdForModeratorActions?this.confirmCallback=this.onClubChatAction(k.MUTE):this.confirmCallback=function(){return t.$emit("chat-mute-user")}},onClickChatMuteRemoveMessages:function onClickChatMuteRemoveMessages(){this.confirmMessage=this.$trans("Are you sure you want to mute this user?"),this.confirmCallback=this.onClubChatAction(k.MUTE,!0)},onClickChatUnMute:function onClickChatUnMute(){this.confirmMessage=this.$trans("Are you sure you want to unmute this user?"),this.confirmCallback=this.onClubChatAction(k.UNMUTE)},onClickChatKick:function onClickChatKick(){var t=this;this.confirmMessage=this.$trans("Are you sure you want to kick this user?"),this.clubChatIdForModeratorActions?this.confirmCallback=this.onClubChatAction(k.KICK):this.confirmCallback=function(){return t.$emit("chat-kick-user")}},onClubChatAction:function onClubChatAction(t,o){var r={chatId:this.clubChatIdForModeratorActions,key:x.b.CLUB_CHAT_MODERATOR_ACTION,message:this.clubChatModeratorMessage,type:t,userId:this.uuid};return o&&(r.hideMessages=!0),function(){return window.postMessage(r,window.location.origin)}},updatePopoverPosition:function updatePopoverPosition(){if(this.usernameElementRef&&this.$refs.userPopover){var t=this.usernameElementRef.getBoundingClientRect(),o=this.$refs.userPopover.offsetHeight;this.position=Object(T.b)(t,o)}}}},$e=r("./ui/components/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&");function user_popovervue_type_script_lang_js_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function user_popovervue_type_script_lang_js_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?user_popovervue_type_script_lang_js_ownKeys(Object(r),!0).forEach((function(o){O()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):user_popovervue_type_script_lang_js_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Fe={name:"UserPopoverWidget",components:{giftMembershipModal:function giftMembershipModal(){return{component:Promise.all([r.e("vendors~gift-membership-modal~trophy-popover~user-report-modal"),r.e("gift-membership-modal")]).then(r.bind(null,"./ui/components/user/modal-gift-membership.vue"))}},UserReportModal:function UserReportModal(){return{component:Promise.all([r.e("vendors~gift-membership-modal~trophy-popover~user-report-modal"),r.e("user-report-modal")]).then(r.bind(null,"./ui/components/user/modal-user-report.vue"))}},UserPopover:Object(X.a)(Ne,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:t.onMouseLeave,expression:"onMouseLeave"}],ref:"userPopover",class:[t.$style.popover,t.$style[t.position.x],t.$style[t.position.y]],style:t.inlineStyles,on:{mouseenter:t.onMouseEnter,mouseleave:t.onMouseLeave}},[r("div",{class:t.$style.component},[r("div",{class:t.$style.profile},[r("div",{class:t.$style.meta},[t.username?r("user-avatar",{attrs:{image:t.avatar,"is-live":t.onlineStatus&&t.isLive(t.onlineStatus),"is-online":t.onlineStatus&&t.isOnline(t.onlineStatus),url:t.showProfileUrls?t.memberUrl:null}}):t._e(),t._v(" "),t.username?t._e():r("div",{class:t.$style["avatar-placeholder"]}),t._v(" "),t.username?r("div",{class:t.$style.info},[r("user-tagline",{attrs:{"username-theme":"blue",country:t.country,"flair-code":t.flair?t.flair.code:"",membership:t.membership,"not-clickable":!t.showProfileUrls,"open-profile-on-new-tab":t.openProfileOnNewTab,title:t.chessTitle,url:t.showProfileUrls?t.memberUrl:null,username:t.username}}),t._v(" "),r("user-flair-status",{attrs:{status:t.flair?t.flair.status:""}}),t._v(" "),r("div",{class:t.$style.ratings},t._l(t.ratingsToShow,(function(t){return r("user-rating",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.label,expression:"rating.label"}],key:t.type,attrs:{icon:t.icon,rating:t.value}})})),1)],1):t._e(),t._v(" "),t.username?t._e():r("div",{class:t.$style.info},[r("loader-three-bounce",{directives:[{name:"show",rawName:"v-show",value:t.isLoading,expression:"isLoading"}],class:t.$style.loader,attrs:{size:40}})],1)],1),t._v(" "),t.joinedDate&&t.username?r("div",{class:t.$style.secondary},[r("div",{domProps:{textContent:t._s(t.translations.joinedDate(t.formatedJoinedDate))}}),t._v(" "),r("div",{class:t.$style.status},[t.isLive(t.onlineStatus)?r("div",{class:t.$style.onlive,domProps:{textContent:t._s(t.translations.inLiveNow)}}):t._e(),t._v(" "),t.isOnline(t.onlineStatus)?r("div",{class:t.$style.online,domProps:{textContent:t._s(t.translations.onlineNow)}}):t._e(),t._v(" "),!t.lastLoginDate||t.isOnline(t.onlineStatus)||t.isLive(t.onlineStatus)?t._e():r("div",{domProps:{textContent:t._s(t.translations.lastOnline(t.formatedLastLoginDate))}})])]):t._e(),t._v(" "),t.username?t._e():r("div",{class:t.$style.secondary})]),t._v(" "),t.adminActionsIsVisible?r("admin-actions",{attrs:{"can-moderate":t.canModerate,"client-name":t.clientName,"can-mute-on-chat":Boolean(t.clubChatIdForModeratorActions),"can-warn-on-chat":t.canWarnOnChat||Boolean(t.clubChatIdForModeratorActions),"can-moderate-on-chat":t.canModerateOnChat,"user-already-muted-on-chat":t.userAlreadyMutedOnChat},on:{"warn-user":t.onClickWarn,"mute-user":t.onClickMute,"kick-user":t.onClickKick,"ban-user":t.onClickBan,"chat-warn-user":t.onClickChatWarn,"chat-mute-user":t.onClickChatMute,"chat-unmute-user":t.onClickChatUnMute,"chat-mute-user-remove-messages":t.onClickChatMuteRemoveMessages,"chat-kick-user":t.onClickChatKick}}):t._e(),t._v(" "),t.isLoggedIn&&!t.isGuest?r("div",{class:t.$style.actions},[t.username?r("user-actions",{attrs:{avatar:t.avatar,"can-add-friend":t.canAddFriend,"can-block-user":t.canBlockUser,"can-create-challenge":t.canCreateChallenge,"can-follow-user":t.canFollowUser,"can-gift-membership":t.canGiftMembership,"can-remove-friend":t.canRemoveFriend,"can-report-user":t.canReportUser,"can-send-message":t.canSendMessage,"can-invite-to-chat":t.canInviteToChat,"can-send-trophy":t.canSendTrophy,"can-unblock-user":t.canUnblockUser,"can-unfollow-user":t.canUnfollowUser,"can-use-global-chat":t.canUseGlobalChat,"can-cancel-friend-request":t.canCancelFriendRequest,"can-decline-friend-request":t.canDeclineFriendRequest,"can-accept-friend-request":t.canAcceptFriendRequest,"dynamic-actions":t.dynamicActions,"logged-as-another":t.loggedAsAnother,username:t.username,"can-observe-game":t.canObserveGame,"is-bughouse-partner":t.isBughousePartner,"challenge-url":t.challengeUrl,"archive-url":t.archiveUrl,"chat-options":t.chatOptions,position:t.position,"can-invite-to-analysis":t.canInviteToAnalysis,"analysis-options":t.analysisOptions,"is-enabled":t.isEnabled,"is-confirm-visible":t.isConfirmVisible,"show-bughouse-partner":t.showBughousePartner,"membership-url":t.membershipUrl},on:{"all-actions-shown":t.updatePopoverPosition,"remove-friend":t.onClickRemoveFriend,"block-user":t.onClickBlockUser,"user-popover-hide":t.hidePopover,"create-challenge":function(o){return t.$emit("create-challenge",o)},"send-message":function(o){return t.$emit("send-message",o)},"add-friend":function(o){return t.$emit("add-friend",o)},"cancel-friend-request":function(o){return t.$emit("cancel-friend-request",o)},"decline-friend-request":function(o){return t.$emit("decline-friend-request",o)},"show-gift":function(o){return t.$emit("show-gift",o)},"show-archive":function(o){return t.$emit("show-archive",o)},"start-direct-chat":function(o){return t.$emit("start-direct-chat")},"mute-user":function(o){return t.$emit("mute-user",o)},"accept-friend-request":function(o){return t.$emit("accept-friend-request",o)},"follow-user":function(o){return t.$emit("follow-user",o)},"unfollow-user":function(o){return t.$emit("unfollow-user",o)},"unblock-user":function(o){return t.$emit("unblock-user",o)},"show-report":function(o){return t.$emit("show-report",o)},"show-trophy":function(o){return t.$emit("show-trophy",o)},"observe-user":function(o){return t.$emit("observe-user",o)},"bughouse-partner":function(o){return t.$emit("bughouse-partner",o)},"bughouse-unpartner":function(o){return t.$emit("bughouse-unpartner",o)},"request-chat":function(o){return t.$emit("request-chat",o)},"invite-analysis":function(o){return t.$emit("invite-analysis",o)}}}):t._e()],1):t._e()],1),t._v(" "),t.isConfirmVisible?r("div",{class:t.$style.confirm},[r("p",{domProps:{innerHTML:t._s(t.confirmMessage)}}),t._v(" "),t.clubChatIdForModeratorActions&&!t.userAlreadyMutedOnChat?r("p",[t._v("\n      "+t._s(t.$trans("Message to user:"))+"\n      "),r("form-input",{class:t.$style["moderator-message"],model:{value:t.clubChatModeratorMessage,callback:function(o){t.clubChatModeratorMessage=o},expression:"clubChatModeratorMessage"}})],1):t._e(),t._v(" "),r("div",[r("form-button",{attrs:{size:"small",theme:"basic"},on:{click:t.onConfirmNo}},[t._v("\n        "+t._s(t.$trans("No"))+"\n      ")]),t._v(" "),r("form-button",{attrs:{size:"small",theme:"primary"},on:{click:t.onConfirmYes}},[t._v("\n        "+t._s(t.$trans("Yes"))+"\n      ")])],1)]):t._e()])}),[],!1,(function user_popover_injectStyles(t){this.$style=$e.default.locals||$e.default}),null,null).exports,TrophyPopover:function TrophyPopover(){return{component:Promise.all([r.e("vendors~gift-membership-modal~trophy-popover~user-report-modal"),r.e("trophy-popover")]).then(r.bind(null,"./web/core/widgets/modals/trophy/trophy-popover.vue"))}}},data:function data(){return{clubChatIdForModeratorActions:!1,clickListener:null,dynamicActions:null,isLoading:!1,showGiftMembershipModal:!1,isUserReportModalVisible:!1,isChallengePopoverVisible:!1,isTrophyPopoverVisible:!1,scrollContainer:null,elementRef:null,userAlreadyMutedOnChat:!1}},computed:user_popovervue_type_script_lang_js_objectSpread(user_popovervue_type_script_lang_js_objectSpread({},Object(L.mapState)({currentUserIsGuest:function currentUserIsGuest(t){return t.user.isGuest},show:function show(t){return t.userPopover.show},user:function user(t){return t.userPopover.user},username:function username(t){return t.user.username},position:function position(t){return t.userPopover.position}})),{},{ratings:function ratings(){var t=this.user,o=t.bestRating,r=t.bestRatingType,a=t.topPuzzleRushScore,ratings=[{type:r,icon:r,value:o}];return a&&ratings.push({type:"puzzle",icon:"fire-puzzle",value:a}),ratings},canAddFriend:function canAddFriend(){return this.loggedAsAnother&&!this.user.areFriends&&!this.user.isFriendRequestFromUserExists&&!this.user.isFriendRequestExists&&this.user.isEnabled},canBlockUser:function canBlockUser(){return this.loggedAsAnother&&!this.user.areFriends&&!this.user.isBlocked&&this.user.isEnabled&&this.user.membership&&this.user.membership.level<I.i.moderator},canUseGlobalChat:function canUseGlobalChat(){return this.loggedAsAnother&&this.user.isEnabled},canCreateChallenge:function canCreateChallenge(){return this.loggedAsAnother&&this.user.isEnabled},canFollowUser:function canFollowUser(){return this.loggedAsAnother&&!this.user.isTracked&&this.user.isEnabled},canGiftMembership:function canGiftMembership(){return this.user.canReceiveGiftMembership&&this.user.isEnabled},canRemoveFriend:function canRemoveFriend(){return this.loggedAsAnother&&this.user.areFriends},canReportUser:function canReportUser(){return this.loggedAsAnother&&!this.user.isModerator&&!this.user.isStaff},canSendMessage:function canSendMessage(){return this.loggedAsAnother&&this.user.isMessageable&&this.user.isEnabled},canSendTrophy:function canSendTrophy(){return this.canSendMessage&&this.user.isEnabled},canUnblockUser:function canUnblockUser(){return this.loggedAsAnother&&this.user.isBlocked&&this.user.isEnabled},canUnfollowUser:function canUnfollowUser(){return this.loggedAsAnother&&this.user.isTracked&&this.user.isEnabled},hasInboundFriendRequest:function hasInboundFriendRequest(){return this.loggedAsAnother&&this.user.isFriendRequestFromUserExists},hasOutboundFriendRequest:function hasOutboundFriendRequest(){return this.loggedAsAnother&&this.user.isFriendRequestExists},canCancelFriendRequest:function canCancelFriendRequest(){return this.hasOutboundFriendRequest&&!this.hasInboundFriendRequest},canAcceptFriendRequest:function canAcceptFriendRequest(){return this.hasInboundFriendRequest},loggedAsAnother:function loggedAsAnother(){return this.username&&this.username!==this.user.username},membershipNumber:function membershipNumber(){return Object(A.c)(this.user.membership?this.user.membership.level:null,this.user.isEnabled)},inlineStyles:function inlineStyles(){return setPopoverPosition(this.position)},areFriends:function areFriends(){return this.user.areFriends},isGuest:function isGuest(){return this.currentUserIsGuest||this.user.isGuest}}),created:function created(){Object(l.a)({modalMessages:M,trophies:D.a})},mounted:function mounted(){var t=this;this.scrollContainer=window,u.a.on("userPopover/show",(function(o,r){var a=o.actions,i=o.clubChatIdForModeratorActions,l=o.userAlreadyMutedOnChat,c=o.username;if(t.dynamicActions=a,t.clubChatIdForModeratorActions=i,t.userAlreadyMutedOnChat=l,t.$store.dispatch("userPopover/fetchUserPopover",c).then((function(){t.isLoading=!1})),t.$store.commit("userPopover/resetUser"),null!=c){t.clickListener=document.addEventListener("click",(function(o){(t.user.userNotExist||t.$refs.userPopover&&o.target!==t.$refs.userPopover.$el&&!t.$refs.userPopover.$el.contains(o.target)&&!document.getElementById(I.l.USER_POPOVER_CONTAINER).contains(o.target))&&t.hideUserPopup()}),!0),setTimeout((function(){t.user.username||t.user.userNotExist||(t.isLoading=!0)}),500),t.scrollContainer.addEventListener("scroll",t.hideUserPopup),t.elementRef=r;var u=Object(T.b)(r.getBoundingClientRect());t.$store.commit("userPopover/setPosition",u),t.$store.commit("userPopover/showUserPopover")}})),u.a.on("userPopover/hide",this.hideUserPopup)},beforeDestroy:function beforeDestroy(){this.removeListeners()},methods:user_popovervue_type_script_lang_js_objectSpread(user_popovervue_type_script_lang_js_objectSpread({},Object(L.mapMutations)({hideUserPopover:"userPopover/hideUserPopover",setRecipientIsFriend:"trophies/setRecipientIsFriend",setRecipientUsername:"trophies/setRecipientUsername"})),{},{onChallenge:function onChallenge(t){var o=t.username;window.location=R.a.generate("web_play_new",{opponent:o})},onMessage:function onMessage(t){this.hideUserPopup(),window.postMessage({event:"SHOW_MESSAGE_MODAL",user:{avatar_url:t.avatar,username:t.username}},window.location.origin)},onTrophy:function onTrophy(t){this.hideUserPopup(),this.setRecipientUsername(t.username),this.isTrophyPopoverVisible=!0},acceptFriendRequest:function acceptFriendRequest(){this.$store.dispatch("user/approveFriendRequest",this.user.userId).then(this.reload)},addFriend:function addFriend(){this.$store.dispatch("user/addFriend",this.user.userId).then(this.reload)},blockUser:function blockUser(){this.$store.dispatch("user/blockUser",this.user.username).then(this.reload)},cancelFriendRequest:function cancelFriendRequest(){this.$store.dispatch("user/cancelFriendRequest",this.user.userId).then(this.reload)},deleteFriend:function deleteFriend(){this.$store.dispatch("user/deleteFriend",this.user.userId).then(this.reload)},hideUserPopup:function hideUserPopup(){this.setRecipientIsFriend(this.areFriends),this.hideUserPopover(),this.removeListeners(),this.isLoading=!1},reload:function reload(){return this.$store.dispatch("userPopover/fetchUserPopover",this.user.username)},removeListeners:function removeListeners(){document.removeEventListener("click",this.clickListener,!0),this.scrollContainer.removeEventListener("scroll",this.hideUserPopup)},trackUser:function trackUser(){this.$store.dispatch("user/trackUser",this.user.username).then(this.reload)},unblockUser:function unblockUser(){this.$store.dispatch("user/unblockUser",this.user.username).then(this.reload)},untrackUser:function untrackUser(){this.$store.dispatch("user/untrackUser",this.user.username).then(this.reload)},showGiftModal:function showGiftModal(){this.hideUserPopup(),this.showGiftMembershipModal=!0},hideGiftMembershipModal:function hideGiftMembershipModal(){this.showGiftMembershipModal=!1},showReportModal:function showReportModal(){this.hideUserPopup(),this.isUserReportModalVisible=!0},hideUserReportModal:function hideUserReportModal(){this.isUserReportModalVisible=!1},hideChallengePopover:function hideChallengePopover(){this.isChallengePopoverVisible=!1},hideTrophyPopover:function hideTrophyPopover(){this.isTrophyPopoverVisible=!1},showArchive:function showArchive(t){window.location.href=R.a.generate("web_archive_index",{username:t.username})},startDirectChat:function startDirectChat(){var t=x.b.START_DIRECT_CHAT,o={avatarUrl:this.user.avatarUrl,id:this.user.uuid,username:this.user.username};window.postMessage({key:t,payload:o},window.location.origin)}})},Be=r("./web/core/widgets/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&");var Ue=Object(X.a)(Fe,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",[t.user.userNotExist?t._e():r("div",{attrs:{id:"user-popover"}},[t.show?r("user-popover",{ref:"userPopover",attrs:{"dynamic-actions":t.dynamicActions,avatar:t.user.avatarUrl,"can-add-friend":t.canAddFriend,"can-block-user":t.canBlockUser,"can-create-challenge":t.canCreateChallenge,"can-follow-user":t.canFollowUser,"can-gift-membership":t.canGiftMembership,"can-remove-friend":t.canRemoveFriend,"can-report-user":t.canReportUser,"can-send-message":t.canSendMessage,"can-send-trophy":t.canSendTrophy,"can-unblock-user":t.canUnblockUser,"can-unfollow-user":t.canUnfollowUser,"can-use-global-chat":t.canUseGlobalChat,"can-cancel-friend-request":t.canCancelFriendRequest,"can-accept-friend-request":t.canAcceptFriendRequest,"chess-title":t.user.chessTitle,country:{name:t.user.countryName,code:t.user.countryId},flair:t.user.flair,"club-chat-id-for-moderator-actions":t.clubChatIdForModeratorActions,"is-enabled":t.user.isEnabled,"is-guest":t.isGuest,"is-loading":t.isLoading,"joined-date":t.user.joinDate,"last-login-date":t.user.lastLoginDate,"logged-as-another":t.loggedAsAnother,membership:t.membershipNumber,"online-status":t.user.onlineStatus,"popover-position":t.position,ratings:t.ratings,username:t.user.username,"username-element-ref":t.elementRef,"user-already-muted-on-chat":t.userAlreadyMutedOnChat,uuid:t.user.uuid},on:{"accept-friend-request":t.acceptFriendRequest,"add-friend":t.addFriend,"block-user":t.blockUser,"cancel-friend-request":t.cancelFriendRequest,"create-challenge":t.onChallenge,"follow-user":t.trackUser,"remove-friend":t.deleteFriend,"send-message":t.onMessage,"show-archive":t.showArchive,"show-gift":t.showGiftModal,"show-report":t.showReportModal,"show-trophy":t.onTrophy,"start-direct-chat":t.startDirectChat,"unblock-user":t.unblockUser,"unfollow-user":t.untrackUser,"user-popover-hide":t.hideUserPopup}}):t._e(),t._v(" "),t.isUserReportModalVisible?r("user-report-modal",{attrs:{username:t.user.username},on:{"modal-did-hide":t.hideUserReportModal}}):t._e(),t._v(" "),t.showGiftMembershipModal?r("gift-membership-modal",{attrs:{"receiver-username":t.user.username,"receiver-id":t.user.userId,"sender-username":t.username},on:{"hide-modal":t.hideGiftMembershipModal}}):t._e(),t._v(" "),t.isTrophyPopoverVisible?r("trophy-popover",{on:{hide:t.hideTrophyPopover}}):t._e()],1),t._v(" "),t.user.userNotExist&&t.show?r("div",{class:[t.$style["placeholder-popover"],t.$style[t.position.x],t.$style[t.position.y]],style:t.inlineStyles},[r("div",{class:t.$style["placeholder-component"]},[r("div",{class:t.$style["placeholder-profile"]},[r("div",{class:t.$style["placeholder-avatar"]}),t._v(" "),r("div",{class:t.$style["placeholder-info"],domProps:{textContent:t._s(t.$trans("Member name does not exist"))}})])])]):t._e()])}),[],!1,(function user_user_popover_injectStyles(t){this.$style=Be.default.locals||Be.default}),null,null).exports;Object(l.a)({user:_,userPopover:P});var qe,Ge=Object(c.a)({userPopover:{component:Ue,el:"#user-popover",store:d.default}}),Ve=window,He=0,ze=function documentClickListener(t){var o=document.getElementById("userPopover");if(!o||t.target!==o&&!o.contains(t.target)){document.removeEventListener("click",documentClickListener,!0);var r=!qe||t.target!==qe&&!qe.contains(t.target),a=null===qe.getAttribute("href");r?He=0:a&&setTimeout((function(){He=0}),0)}},Ke=function documentScrollListener(){Ve.removeEventListener("scroll",documentScrollListener),He=0},We=function directiveClickListener(t){qe=t.target,0===He&&(He+=1,Ge.createInstance("userPopover"),u.a.emit("userPopover/show",t.currentTarget.userPopoverProps,t.target),t.preventDefault(),document.addEventListener("click",ze,!0),Ve.addEventListener("scroll",Ke))},Ye=function normalizeProps(t){return"string"==typeof t?{username:t}:t};o.a={bind:function bind(t,o){if(!o.value)return!1;t.userPopoverProps=Ye(o.value),t.addEventListener("click",We)},unbind:function unbind(t){t.removeEventListener("click",We)},update:function update(t,o){if(!o.value)return!1;var r,a=Ye(o.value);(t.userPopoverProps.username=a.username,a.actions)&&(r=t.userPopoverProps.actions).splice.apply(r,[0,a.actions.length].concat(i()(a.actions)))}}},"./utils/dom/index.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return c})),r.d(o,"b",(function(){return u})),r.d(o,"c",(function(){return d})),r.d(o,"d",(function(){return m})),r.d(o,"e",(function(){return p})),r.d(o,"f",(function(){return b})),r.d(o,"h",(function(){return showHideMore})),r.d(o,"g",(function(){return g})),r.d(o,"i",(function(){return h}));var a=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=r.n(a),l=r("./web/core/api/content/config.js"),c=(r("./web/core/api/board/helper/get-board-element.js"),function browserWidth(){return window.parent.innerWidth}),u=function getArrayOfElements(t){return i()(document.querySelectorAll(t))},d=function getElement(t){return document.querySelector(".".concat(t))},m=function getElements(t){return document.getElementsByClassName(t)},p=function getScrollElement(){return window},b=function injectMounts(t,o){o.forEach((function(o){var r=document.createElement("div");r.id=o,t.appendChild(r)}))};function showHideMore(t,o,r,a){var i=m(t);Array.from(i).forEach((function(t){var i=t.getAttribute("data-key"),c=document.querySelectorAll(".".concat(o,"[data-key=").concat(i,"]")),u=t.querySelector(".".concat(r)),d=t.querySelector(".".concat(a));u.innerHTML=l.h.showMore,t.addEventListener("click",(function(){var t=u.innerHTML===l.h.showMore;u.innerHTML=t?l.h.showLess:l.h.showMore,d.classList.toggle("toggle-content-icon-up"),Array.from(c).forEach((function(t){t.style.display="block"===t.style.display?"none":"block"}))}))}))}var g=function scriptExist(t){return document.querySelectorAll('script[src="'.concat(t,'"]')).length>0},h=function styleExist(t){return document.querySelectorAll('link[href="'.concat(t,'"]')).length>0}},"./utils/dom/observer.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=r.n(a),l=r("./node_modules/@babel/runtime/helpers/createClass.js"),c=r.n(l),u=r("./utils/event-hub.js"),d=null,m=function(){function VisibilityObserver(){var t=this;return i()(this,VisibilityObserver),null==d&&(d=this,this.observer=new IntersectionObserver((function(o){o.forEach((function(o){o.intersectionRatio>0&&(u.a.emit("visibility-observer-change",o.target),t.observer.unobserve(o.target))}))}),{rootMargin:"200px 0px",threshold:.01})),d}return c()(VisibilityObserver,[{key:"observe",value:function observe(t){this.observer.observe(t)}},{key:"unobserve",value:function unobserve(t){this.observer.unobserve(t)}}]),VisibilityObserver}();o.a=new m},"./utils/editor.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return p}));var a,i=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),l=r.n(i),c=r("./node_modules/@babel/runtime/helpers/createClass.js"),u=r.n(c),d=r("./web/core/api/content/config.js"),m=r("./utils/dark-mode.ts");var p=function(){function _default(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;l()(this,_default),t&&(this.editor=t)}return u()(_default,[{key:"getEditor",value:function getEditor(){var t=this;return!this.editor&&window.tinymce&&(this.editor=window.tinymce),this.editor?Promise.resolve(this.editor):function lazyLoadTinyMCE(){return a||(a=new Promise((function(t,o){var r=document.createElement("script");r.src=window.Config.pathToTinyMCE,r.async=!0,r.type="text/javascript",r.onload=function(){t()},r.onerror=function(t){o(t||new Error("failed to load tinymce"))},r.onreadystatechange=function(){"complete"===r.readyState&&t()},document.body.appendChild(r)}))),a}().then((function(){return t.editor=window.tinymce,t.editor}))}},{key:"init",value:function init(t){if(t.darkModeSupport){var o=m.b?d.c.DARK_MODE:"",r="".concat(d.c.SUPPORT_DARK_MODE," ").concat(o),a=Object.assign(t,{body_class:r});return this.getEditor().then((function(t){return t.init(a)}))}return this.getEditor().then((function(o){return o.init(t)}))}},{key:"execCommand",value:function execCommand(){for(var t=arguments.length,o=new Array(t),r=0;r<t;r++)o[r]=arguments[r];this.getEditor().then((function(t){var r;return(r=t.activeEditor).execCommand.apply(r,o)}))}},{key:"fire",value:function fire(t){this.getEditor().then((function(o){return o.activeEditor.fire(t)}))}},{key:"getContent",value:function getContent(){if(!this.editor)throw new Error("TinyMCE not initialized");return this.editor.activeEditor.getContent()}},{key:"getParams",value:function getParams(){return this.getEditor().then((function(t){if(t.activeEditor)return t.activeEditor.windowManager.getParams()}))}},{key:"insertContent",value:function insertContent(t){this.getEditor().then((function(o){return o.activeEditor.insertContent(t)}))}},{key:"setContent",value:function setContent(t){this.getEditor().then((function(o){return o.activeEditor.setContent(t)}))}},{key:"destroy",value:function destroy(){this.editor&&this.editor.activeEditor.destroy()}},{key:"closePopup",value:function closePopup(){this.getEditor().then((function(t){return t.activeEditor.windowManager.close(window)}))}},{key:"openPopup",value:function openPopup(){this.getEditor().then((function(t){return t.activeEditor.windowManager.open()}))}}]),_default}()},"./utils/event-hub.js":function(t,o,r){"use strict";var a=r("./node_modules/tiny-emitter/index.js"),i=r.n(a),l=r("./node_modules/vue/dist/vue.esm.js"),c=document.querySelector('[data-v3-event-emitter-migration="true"]')?new i.a:new l.default;c instanceof l.default&&(c.emit=c.$emit,c.off=c.$off,c.on=c.$on,c.once=c.$once),o.a=c},"./utils/html.transformer.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i})),r.d(o,"c",(function(){return l})),r.d(o,"d",(function(){return c}));var a=function cleanTinyMCE(t){return function removeHtmlWhiteSpace(t){return t.replace(/&nbsp;/g,"")}(function removeHtmlTags(t){return t.replace(/(<(?!img|\/?iframe)([^>]+)>)/gi,"")}(t)).trim()},i=function htmlDecode(t){return(new DOMParser).parseFromString("<!doctype html><body>".concat(t),"text/html").body.textContent},l=function htmlEncode(t){if(!t)return t;for(var o=[60,62],r=t.length,a=[];r--;){var i=t[r].charCodeAt();o.indexOf(i)>-1?a[r]="&#".concat(i,";"):a[r]=t[r]}return a.join("")},c=function userMention(t){return String(t).replace(/(^|[^a-zA-Z0-9_!#$%&*@])([@]([a-zA-Z0-9_-]{3,20}))/g,(function(t,o,r,a){return"".concat(o,'<span class="v-user-popover" v-user-popover="\'').concat(a,"'\" data-username=\"'").concat(a,"'\"> ").concat(r,"</span>")}))}},"./utils/http/handle-error.js":function(t,o,r){"use strict";var a=r("./web/core/api/alerts/config.ts"),i=(r("./utils/translator.js"),function getMessageFromError(t){if(t.response&&401!==t.response.status)return(t.response.data&&t.response.data.message?t.response.data.message:a.a.badRequest)||t.response.statusText}),l=r("./web/core/store/index.js");o.a=function(t){var o=i(t);return o&&l.default.dispatch("alerts/create",{type:a.e.error,message:o}),Promise.reject(t)}},"./utils/http/index.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./utils/http/index.js")},"./utils/i18n.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return d})),r.d(o,"b",(function(){return formatNumber})),r.d(o,"c",(function(){return formatTime}));var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./web/core/api/content/config.js"),c=r("./utils/translator.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}function getLocale(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",r=t||(Object.prototype.hasOwnProperty.call(window,"context")?window.context.i18n.locale:"en-US");return r.replace("_",o)}var u={year:{milliseconds:31536e6,str:"{1} 1 year|]1,Inf] %1$s% years",strAgo:"{1} 1 year ago|]1,Inf] %1$s% years ago"},month:{milliseconds:function getMsInThisMonth(){var t=864e5;switch((new Date).getMonth()){case 3:case 5:case 8:case 10:return 30*t;case 1:return(new Date).getFullYear()%4==0?29*t:28*t;default:return 31*t}}(),str:"{1} 1 month|]1,Inf] %1$s% months",strAgo:"{1} 1 month ago|]1,Inf] %1$s% months ago"},day:{milliseconds:864e5,str:"{1} 1 day|]1,Inf] %1$s% days",strAgo:"{1} 1 day ago|]1,Inf] %1$s% days ago"},hour:{milliseconds:36e5,str:"{1} 1 hour|]1,Inf] %1$s% hours",strAgo:"{1} 1 hour ago|]1,Inf] %1$s% hours ago"},minute:{milliseconds:6e4,str:"{1} 1 minute|]1,Inf] %1$s% minutes",strAgo:"{1} 1 minute ago|]1,Inf] %1$s% minutes ago"}},d={hoursMinute:function hoursMinute(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=_objectSpread({abbreviateHours:!1,abbreviateMinutes:!0,asObject:!1,includeDays:!1},o),a=86400,i=3600,l=60,u="{0} 0 days|{1} 1 day|]1,Inf] %1$s% days",d="{0} 0 hours|{1} 1 hour|]1,Inf] %1$s% hours",m="{0} 0 min|{1} 1 min|]1,Inf] %1$s% min";r.abbreviateHours&&(d="{0} 0 hrs|{1} 1 hr|]1,Inf] %1$s% hrs"),r.abbreviateMinutes||(m="{1} 1 minute|]1,Inf] %1$s% minutes");var p=[],b=0,g=0,h=0,_=t;!0===r.includeDays&&(_-=(b=Math.floor(_/a))*a),_-=(g=Math.floor(_/i))*i,h=Math.floor(_/l);var v=c.a.transChoice(u,b,{"%1$s%":b}),y=c.a.transChoice(d,g,{"%1$s%":g}),w=c.a.transChoice(m,h,{"%1$s%":h});return b>0&&p.push(v),g>0&&p.push(y),(h>0||0===p.length)&&p.push(w),r.asObject?{days:v,hours:y,minutes:w}:p.join(" ")},long:function long(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{year:"numeric",month:"short",day:"numeric"},r=t instanceof Date?t:new Date(t);return new Intl.DateTimeFormat(getLocale(),o).format(r)},full:function full(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t instanceof Date?t:new Date(t),a={year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"};return new Intl.DateTimeFormat(getLocale(),_objectSpread(_objectSpread({},a),o)).format(r)},numeric:function numeric(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,o=t instanceof Date?t:new Date(t);if(window.Intl){var r=getLocale(),a={day:"2-digit",month:"2-digit",year:"numeric"};return new Intl.DateTimeFormat(r,a).format(o)}var i="0".concat(o.getMonth()+1).slice(-2),l="0".concat(o.getDate()).slice(-2);return"".concat(i,"/").concat(l,"/").concat(o.getFullYear())},relative:function relative(t){var o,r,a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],l=arguments.length>3&&void 0!==arguments[3]&&arguments[3],d=Date.now(),m=t instanceof Date?t:new Date(t),p=m.getTime(),b=l?p-d:d-p;if(Math.abs(b)>u.month.milliseconds&&a){var g={year:"numeric",month:"short",day:"numeric"};return new Intl.DateTimeFormat(getLocale(),g).format(p)}if(b>=u.year.milliseconds)r=u.year,o=Math.abs(Math.floor(b/u.year.milliseconds));else if(b>=u.month.milliseconds)r=u.month,o=Math.abs(Math.floor(b/u.month.milliseconds));else if(b>=u.day.milliseconds)r=u.day,o=Math.abs(Math.floor(b/u.day.milliseconds));else if(b>=u.hour.milliseconds)r=u.hour,o=Math.abs(Math.floor(b/u.hour.milliseconds));else{if(!(b>=u.minute.milliseconds))return c.a.trans(l?"Right now":"Just now");r=u.minute,o=Math.abs(Math.floor(b/u.minute.milliseconds))}var h=Math.abs(b)===b;return c.a.transChoice(h&&i?r.strAgo:r.str,o,{"%1$s%":o})},customNumericDate:function customNumericDate(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"m/d/y",a=t instanceof Date?t:new Date(t),i={d:"0".concat(a.getDate()).slice(-2),m:"0".concat(a.getMonth()+1).slice(-2),y:"".concat(a.getFullYear())},l=["m","d","y"].every((function(t){return r.split("/").includes(t)}));return l?r.split("/").reduce((function(t,o){return t.push(i[o]),t}),[]).join(o):"".concat(i.m).concat(o).concat(i.d).concat(o).concat(i.y)},userDate:function userDate(t){var o=window.context.user?new Date(1e3*t).toLocaleString("en-US",{timeZone:window.context.user.timezone}):new Date(1e3*t),r=new Date(o).setMilliseconds(0),a=new Date(r),i=l.h.daysOfWeek[a.getDay()],c=a.getDate(),u=l.h.months[a.getMonth()],d=a.toLocaleTimeString(getLocale()),m=d.split(" ").length>1?d.split(" ")[1]:"",p=d.split(" ")[0].split(":");return p.pop(),p=p.join(":"),"".concat(i,", ").concat(u," ").concat(c,", ").concat(p).concat(m)}};function formatNumber(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Intl.NumberFormat([getLocale(o),"en-US"],r).format(t)}function formatTime(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(t<0||null==t)return"";var r=t%1e3/1e3,a=r.toString().slice(2,o+2),i=Math.floor(t/1e3),l=Math.floor(i/60),c=Math.floor(l/60),u=l%60;u=u<10&&c?"0".concat(u):u;var d=i%60;d=d<10?"0".concat(d):d;var m="".concat(u,":").concat(d);return c&&(m="".concat(c,":").concat(m)),o&&(m="".concat(m,".").concat(a)),m}},"./utils/image/helper.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i}));var a=function pixelDensity(t,o){if(t){var r="@2x";return/\.svg$/.test(t)?t:([1.5,3,4].indexOf(o)>-1&&(r="@".concat(o,"x")),t.replace(/(\.\w+)$/,(function(t){return r+t})))}},i=function retinaImageSrcset(t){if(!t)return null;var o=t.substring(t.lastIndexOf("/")+1),r=t.replace(o,"");return"".concat(t,", ").concat(r).concat(a(o)," 2x")}},"./utils/is-2fa.js":function(t,o,r){"use strict";var a=r("./utils/router.js");o.a=function(){return-1!==window.location.href.indexOf(a.a.generate("web_2fa_login"))}},"./utils/lazy-vue/index.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./node_modules/vue/dist/vue.esm.js"),c=r("./utils/translation/mixin.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}l.default.mixin(c.a);var u=function instantiate(t){return new l.default(_objectSpread(_objectSpread({},t),{},{el:t.el,render:function render(o){return o(t.component,{props:t.propsData})},store:t.store}))};o.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o={},r=function createInstance(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[r]&&Object.keys(t[r]).length?(o[r]=o[r]||u(_objectSpread(_objectSpread({},t[r]),a)),o[r]):null},a=function createInstances(t){t.forEach((function(t){return r(t)}))};return{createInstance:r,createInstances:a,instances:o}}},"./utils/mixins/dark-mode-forces.js":function(t,o,r){"use strict";o.a={props:{darkMode:{type:Boolean,default:!1},lightMode:{type:Boolean,default:!1}},computed:{themeClasses:function themeClasses(){return{"light-mode":this.lightMode,"dark-mode":this.darkMode}}}}},"./utils/mixins/dark-mode-functional.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a);o.a={props:{isDarkMode:{type:Boolean,default:!1}},methods:{componentClasses:function componentClasses(){var t;return t={},i()(t,this.$style.component,!0),i()(t,this.$style.darkMode,this.isDarkMode),t}}}},"./utils/multivue.js":function(t,o,r){"use strict";var a=r("./utils/dom/index.js"),i=r("./node_modules/vue/dist/vue.esm.js");function _createForOfIteratorHelper(t,o){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function _unsupportedIterableToArray(t,o){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,o);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _arrayLikeToArray(t,o)}(t))||o&&t&&"number"==typeof t.length){r&&(t=r);var a=0,i=function F(){};return{s:i,n:function n(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function e(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var l,c=!0,u=!1;return{s:function s(){r=t[Symbol.iterator]()},n:function n(){var t=r.next();return c=t.done,t},e:function e(t){u=!0,l=t},f:function f(){try{c||null==r.return||r.return()}finally{if(u)throw l}}}}function _arrayLikeToArray(t,o){(null==o||o>t.length)&&(o=t.length);for(var r=0,a=new Array(o);r<o;r++)a[r]=t[r];return a}o.a=function(t,o,r,l,c){var u=Object(a.b)(t),d=[],m={};if(0===u.length)return d;var p,b=_createForOfIteratorHelper(u);try{for(b.s();!(p=b.n()).done;){var g=p.value,h=!0;"function"==typeof r&&(m=r(g)),l&&(g.dataset[l]?h=!1:g.dataset[l]=!0);var _={el:g};if(c&&(_.store=c),h){var v=Object.assign(_,o,{propsData:m});d.push(new i.default(v))}}}catch(y){b.e(y)}finally{b.f()}return d}},"./utils/object.js":function(t,o,r){"use strict";r.d(o,"e",(function(){return _e})),r.d(o,"c",(function(){return ve})),r.d(o,"d",(function(){return ye})),r.d(o,"b",(function(){return we})),r.d(o,"a",(function(){return je}));r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),r("./node_modules/@babel/runtime/helpers/typeof.js");var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=r("./node_modules/lodash-es/_Symbol.js");var c=function arrayMap(t,o){for(var r=-1,a=null==t?0:t.length,i=Array(a);++r<a;)i[r]=o(t[r],r,t);return i},u=r("./node_modules/lodash-es/isArray.js"),d=r("./node_modules/lodash-es/isSymbol.js"),m=l.default?l.default.prototype:void 0,p=m?m.toString:void 0;var b=function baseToString(t){if("string"==typeof t)return t;if(Object(u.a)(t))return c(t,baseToString)+"";if(Object(d.default)(t))return p?p.call(t):"";var o=t+"";return"0"==o&&1/t==-Infinity?"-0":o};var g=function toString_toString(t){return null==t?"":b(t)};var h=function baseSlice(t,o,r){var a=-1,i=t.length;o<0&&(o=-o>i?0:i+o),(r=r>i?i:r)<0&&(r+=i),i=o>r?0:r-o>>>0,o>>>=0;for(var l=Array(i);++a<i;)l[a]=t[a+o];return l};var _=function castSlice(t,o,r){var a=t.length;return r=void 0===r?a:r,!o&&r>=a?t:h(t,o,r)},v=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");var y=function hasUnicode(t){return v.test(t)};var w=function asciiToArray(t){return t.split("")},j="[\\ud800-\\udfff]",O="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",S="\\ud83c[\\udffb-\\udfff]",k="[^\\ud800-\\udfff]",C="(?:\\ud83c[\\udde6-\\uddff]){2}",P="[\\ud800-\\udbff][\\udc00-\\udfff]",x="(?:"+O+"|"+S+")"+"?",A="[\\ufe0e\\ufe0f]?",T=A+x+("(?:\\u200d(?:"+[k,C,P].join("|")+")"+A+x+")*"),L="(?:"+[k+O+"?",O,C,P,j].join("|")+")",I=RegExp(S+"(?="+S+")|"+L+T,"g");var M=function unicodeToArray(t){return t.match(I)||[]};var R=function stringToArray(t){return y(t)?M(t):w(t)};var D=function createCaseFirst(t){return function(o){o=g(o);var r=y(o)?R(o):void 0,a=r?r[0]:o.charAt(0),i=r?_(r,1).join(""):o.slice(1);return a[t]()+i}}("toUpperCase");var N=function capitalize(t){return D(g(t).toLowerCase())};var $=function arrayReduce(t,o,r,a){var i=-1,l=null==t?0:t.length;for(a&&l&&(r=t[++i]);++i<l;)r=o(r,t[i],i,t);return r};var B=function basePropertyOf(t){return function(o){return null==t?void 0:t[o]}}({"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"}),U=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,q=RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]","g");var G=function deburr(t){return(t=g(t))&&t.replace(U,B).replace(q,"")},V=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;var H=function asciiWords(t){return t.match(V)||[]},z=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;var K=function hasUnicodeWord(t){return z.test(t)},W="\\u2700-\\u27bf",Y="a-z\\xdf-\\xf6\\xf8-\\xff",Q="A-Z\\xc0-\\xd6\\xd8-\\xde",J="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Z="["+J+"]",X="\\d+",ee="[\\u2700-\\u27bf]",te="["+Y+"]",ne="[^\\ud800-\\udfff"+J+X+W+Y+Q+"]",oe="(?:\\ud83c[\\udde6-\\uddff]){2}",re="[\\ud800-\\udbff][\\udc00-\\udfff]",se="["+Q+"]",ae="(?:"+te+"|"+ne+")",ie="(?:"+se+"|"+ne+")",le="(?:['](?:d|ll|m|re|s|t|ve))?",ce="(?:['](?:D|LL|M|RE|S|T|VE))?",ue="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",de="[\\ufe0e\\ufe0f]?",me=de+ue+("(?:\\u200d(?:"+["[^\\ud800-\\udfff]",oe,re].join("|")+")"+de+ue+")*"),pe="(?:"+[ee,oe,re].join("|")+")"+me,fe=RegExp([se+"?"+te+"+"+le+"(?="+[Z,se,"$"].join("|")+")",ie+"+"+ce+"(?="+[Z,se+ae,"$"].join("|")+")",se+"?"+ae+"+"+le,se+"+"+ce,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",X,pe].join("|"),"g");var be=function unicodeWords(t){return t.match(fe)||[]};var ge=function words(t,o,r){return t=g(t),void 0===(o=r?void 0:o)?K(t)?be(t):H(t):t.match(o)||[]},he=RegExp("[']","g");(function createCompounder(t){return function(o){return $(ge(G(o).replace(he,"")),t,"")}})((function(t,o,r){return o=o.toLowerCase(),t+(r?N(o):o)}));function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){i()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var _e=function objectIsEmpty(t){return t&&!Object.keys(t).length};var ve=function objectHasData(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return t&&Object.keys(t).length>0};var ye=function objectHasProp(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;return Object.prototype.hasOwnProperty.call(t,o)},we=function invertObject(t){return Object.keys(t).reduce((function(o,r){return _objectSpread(_objectSpread({},o),{},i()({},t[r],r))}),{})},je=function hasProperty(t,o){return Object.prototype.hasOwnProperty.call(t,o)}},"./utils/router.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=r.n(a),l=r("./node_modules/@babel/runtime/helpers/createClass.js"),c=r.n(l);r("./utils/sentry/set-sentry-context.js");var u=function(){function Router(){i()(this,Router),this.baseUrl=null,null==window.Routing&&(window.Routing={generate:function generate(t){return t}})}return c()(Router,[{key:"generate",value:function generate(t,o,r){var a=o||{},i=this.baseUrl||a.baseUrl||null;"string"==typeof a.username&&(a.username=a.username.toLowerCase());try{return null!=i?(delete a.baseUrl,i+window.Routing.generate(t,a,!1)):window.Routing.generate(t,a,r)}catch(c){var l=new Error("Couldn't find missing route '".concat(t,"'."));return console.error(l),function captureException(t,o){if(window.Sentry){var r=t instanceof Error?t:new Error(t);o?window.Sentry.withScope((function(t){Object.keys(o).forEach((function(r){return t.setExtra(r,o[r])})),window.Sentry.captureException(r)})):window.Sentry.captureException(r)}}(l,{missing_route:t}),"/"}}},{key:"getRouteRegex",value:function getRouteRegex(t){for(var o=function escapeRegex(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},r=function removePossesiveQuantifier(t){return t.replace("++","+")},a=window.Routing.getRoute(t),i="",l=a.tokens.length-1;l>=0;--l){var c=a.tokens[l];"variable"===c[0]?i+="".concat(o(c[1]),"(?<").concat(c[3],">").concat(r(c[2]),")"):i+=o(c[1])}return"^".concat(i,"$")}},{key:"setBaseUrl",value:function setBaseUrl(t){this.baseUrl=t}}]),Router}();o.a=new u},"./utils/script-loader.js":function(t,o,r){"use strict";var a=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=r.n(a),l=r("./node_modules/@babel/runtime/helpers/createClass.js"),c=r.n(l),u=function(){function ScriptLoader(){i()(this,ScriptLoader),this.insert=this.loadScript((function(t,o){var r=document.createElement("script");return r.type="text/javascript",r.src=t,o&&Object.keys(o).forEach((function(t){r.setAttribute(t,o[t])})),document.body.appendChild(r),r}))}return c()(ScriptLoader,[{key:"loadScript",value:function loadScript(t){var o={};return function(r,a){if(void 0===o[r]){var i=new Promise((function(o,i){var l=t(r,a);l.onload=function(t){o(t)},l.onreadystatechange=l.onload,l.onerror=function(t){i(t)}}));o[r]=i}return o[r]}}}]),ScriptLoader}();o.a=new u},"./utils/sentry/set-sentry-context.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./utils/sentry/set-sentry-context.js")},"./utils/string.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i}));var a=function stringBooleanToBoolean(t){return"true"===t},i=function stripHTMLComments(t){return t.replace(/<!--([\s\S]*?)-->/gm,"")}},"./utils/tinymce/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return u})),r.d(o,"b",(function(){return c})),r.d(o,"c",(function(){return d}));function fixWidth(t){var o=t.style.width,r=parseInt(o,10);o&&o.includes("px")&&r>668&&(t.style.width=function calcWidth(t){var o=[];return["marginLeft","marginRight","borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"].forEach((function(r){parseInt(t.style[r],10)&&o.push(t.style[r])})),o.length>0?(o=o.join(" - "),"calc(100% - ".concat(o,")")):"100%"}(t))}function pastePostproccess(t,o){var r=o.node;Array.from(r.querySelectorAll("[style]")).forEach((function(t){!function fixMargin(t){var o=t.style.marginLeft,r=t.style.marginRight;o&&r&&o===r&&(t.style.marginLeft="auto",t.style.marginRight="auto")}(t),fixWidth(t)}))}var a=r("./web/core/api/user/helper.js");function filterToolbarButtons(t){return Object(a.a)("isNewlyRegistered")?t.replace(/imageuploader|smileys|media|link|unlink/g,""):t}var i="chessdiagram imageuploader smileys media link unlink bullist numlist table hr undo redo fullscreen",l="bold italic underline alignleft aligncenter alignright alignjustify outdent indent forecolor backcolor fontselect fontsizeselect",c=function defaultConfig(){return Object.assign(window.TinymceConfig.theme_options,window.TinymceConfig.editor_options,{height:100,plugins:"placeholder",paste_postprocess:pastePostproccess,resize:!0,toolbar1:filterToolbarButtons("chessdiagram imageuploader smileys media bold italic forecolor fontsizeselect bullist numlist hr link unlink"),toolbar:!0})},u=function advancedConfig(){return Object.assign(c(),{height:200,toolbar1:filterToolbarButtons(i),toolbar2:l,toolbar3:"blockquote anchor subscript superscript charmap preview code styleselect",verify_html:!1})},d={MCE_HEADER:"mce-window-head",MCE_DRAG_ELEMENT:"mce-dragh",SUBMIT_BUTTON:"message-submit"}},"./utils/translation/mixin.js":function(t,o,r){"use strict";var a=r("./utils/translation/translation.helper.js");o.a={methods:{$trans:a.b,$transChoice:a.c}}},"./utils/translation/translation.helper.js":function(t,o,r){"use strict";r.d(o,"b",(function(){return u})),r.d(o,"c",(function(){return d})),r.d(o,"a",(function(){return m}));var a=r("./node_modules/bazinga-translator/js/translator.js"),i=r.n(a);i.a.placeHolderPrefix="",i.a.placeHolderSuffix="";var l=function escapeParameters(t){var o={};return null!=t&&Object.keys(t).forEach((function(r){var a=function escapeRegExp(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}(r);null!=a&&a.length>0&&(o[a]=t[r])})),o},c=function getTranslatedPhrase(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"messages",r=arguments.length>2?arguments[2]:void 0;return window.chesscom_translations&&window.chesscom_translations[o]&&window.chesscom_translations[o][t]?window.chesscom_translations[o][t]:window.chesscom_live_translations&&window.chesscom_live_translations[o]&&window.chesscom_live_translations[o][t]?window.chesscom_live_translations[o][t]:"live"===o&&window.i18n_phrases&&window.i18n_phrases[t]?window.i18n_phrases:"countries"===o&&window.Country&&window.Country[t]?window.Country:r?void 0:"javascript"!==o?getTranslatedPhrase(t,"javascript"):t},u=function trans(t,o,r){return i.a.trans(c(t,r),l(o),r)},d=function transChoice(t,o,r,a){return void 0===o?"":i.a.transChoice(c(t,a),o,l(r))},m={trans:u,transChoice:d}},"./utils/translator.js":function(t,o,r){"use strict";var a=r("./utils/translation/translation.helper.js");o.a=a.a},"./utils/window.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return O}));var a=window.context?window.context.iterableKey:"",i={ITERABLE_API_TRACK_URL:"https://api.iterable.com/api/events/track?apiKey=".concat(a),ITERABLE_API_UPDATE_URL:"https://api.iterable.com/api/users/update?apiKey=".concat(a)},l=r("./utils/http/index.js"),c=window.context||{},u=c.user,d=c.iterableMuteApiCallsFeature,m=u?String(u.id):"",p=u&&!u.isGuest&&!d,b=function track(t,o){if(p)return l.default.post(i.ITERABLE_API_TRACK_URL,{userId:m,eventName:t,createdAt:Date.now(),dataFields:o||{}})},g=r("./node_modules/amplitude-js/amplitude.js"),h=r.n(g),_=r("./node_modules/lodash-es/_baseForOwn.js"),v=r("./node_modules/lodash-es/_castFunction.js");var y=function forOwn(t,o){return t&&Object(_.a)(t,Object(v.a)(o))},w={init:function init(){if(w.initialized)return!0;var t=window.context||{};return h.a.getInstance().init(t.amplitudeKey,null,{includeUtm:!0,includeReferrer:!0,includeGclid:!0}),null!=t&&null!=t.user&&h.a.getInstance().setUserId(t.user.id),w.initialized=!0,!0},logEvent:function logEvent(t,o,r,a){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;w.init()?(w.setUserProperties(r),w.incrementUserProperties(a),h.a.getInstance().logEvent(t,o||{})):i<3&&setTimeout((function(){w.logEvent(t,o,r,a,i+1)}),1e3)},setUserProperties:function setUserProperties(t){w.init()&&null!=t&&h.a.getInstance().setUserProperties(t)},incrementUserProperties:function incrementUserProperties(t){if(w.init()&&null!=t){var o=new h.a.Identify;y(t,(function(t,r){o.add(r,t)})),h.a.getInstance().identify(o)}},logSocialShare:function logSocialShare(){w.logEvent("Social - SocialShare",null,null,{numSocialShares:1})},logOnboardChangeAvatar:function logOnboardChangeAvatar(t){w.logEvent("Onboard - Avatar",null,{hasAvatar:t})},logOnboardChangeTheme:function logOnboardChangeTheme(t){w.logEvent("Onboard - Theme",null,{themeName:t})},logAccountClose:function logAccountClose(t){w.logEvent("User - AccountClose",t)},logStartCheckout:function logStartCheckout(t){var o="Upgrade - Checkout";w.logEvent(o,t),b(o,t)},logSubmitPayment:function logSubmitPayment(t){w.logEvent("Upgrade - SubmitPayment",{auth:t})},logAccountDowngrade:function logAccountDowngrade(t,o){var r="Upgrade - Cancel";w.logEvent(r,t,o),b(r,t)},logAccountDowngradeTrial:function logAccountDowngradeTrial(t,o){var r="Upgrade - CancelTrial";w.logEvent(r,t,o),b(r,t)},logVideoComplete:function logVideoComplete(t,o,r,a){w.logEvent("Videos - Complete",{skillLevels:t,category:o,title:r,author:a})},logVideoStart:function logVideoStart(t,o,r,a){w.logEvent("Videos - Start",{skillLevels:t,category:o,title:r,author:a},null,{numVideos:1})}},j=w,O=function openWindow(t){j.logSocialShare();var o=window.screen.width/2-280,r=window.screen.height/2-340,a="width=".concat(560,", height=").concat(510),i="left=".concat(o,", top=").concat(r);window.open(t,"_blank","".concat(a,",").concat(i,",").concat("resizable=no, status=no, menubar=no, scrollbars=no"))}},"./utils/window/post-message.ts":function(t,o,r){"use strict";function postMessage(t){window.postMessage(t,window.location.origin)}r.d(o,"a",(function(){return postMessage}))},"./web/core/api/alerts/config.ts":function(t,o,r){"use strict";r.d(o,"a",(function(){return i})),r.d(o,"c",(function(){return l})),r.d(o,"d",(function(){return c})),r.d(o,"e",(function(){return u})),r.d(o,"b",(function(){return d}));var a=r("./utils/translator.js"),i={badRequest:a.a.trans("Oops. Looks like there was an error. Sorry! Please refresh.")},l={avatarUploaded:a.a.trans("Avatar uploaded"),commentCreated:a.a.trans("Thank you for your comment."),commentDeleted:a.a.trans("Comment deleted."),commentEmptyContent:a.a.trans("You cannot send an empty comment"),commentMarkedAsSpam:a.a.trans("Comment marked as spam."),commentUpdated:a.a.trans("Comment updated."),commentLinkCopied:a.a.trans("Comment link is copied to clipboard"),copied:a.a.trans("Copied to clipboard"),forumsMarkedAsRead:a.a.trans("All forum topics have been marked as read"),featureContent:a.a.trans("Feature Set! It might take a minute or two to appear."),inviteEmpty:a.a.trans("Please select the players for whom to send the invitation"),inviteSent:a.a.trans("Your invitations were sent successfully"),pgnCopied:a.a.trans("PGN copied to buffer")},c={ALERT_FLASH_CONTAINER:"widget-alert-flash",DISMISSING:"alert-banner-dismissing"},u={error:"error",info:"info",success:"success"},d="create-header-alert";u.error,i.badRequest},"./web/core/api/board/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return x})),r.d(o,"c",(function(){return A})),r.d(o,"d",(function(){return T})),r.d(o,"j",(function(){return L})),r.d(o,"f",(function(){return I})),r.d(o,"h",(function(){return M})),r.d(o,"k",(function(){return R})),r.d(o,"e",(function(){return D})),r.d(o,"n",(function(){return N})),r.d(o,"g",(function(){return $})),r.d(o,"i",(function(){return B})),r.d(o,"b",(function(){return U})),r.d(o,"l",(function(){return q})),r.d(o,"m",(function(){return G}));var a="icon-background",i="icon-component",l="icon-component-shadow",c="icon-shadow",u='\n  <path class="'.concat(c,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path d="M9 3.72a.48.48 0 0 0-.44.3L7.24 7.46l-3.68.19a.48.48 0 0 0-.27.84l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56 2.86-2.32a.48.48 0 0 0-.27-.84l-3.68-.19L9.44 4A.48.48 0 0 0 9 3.72z" opacity=".1"/>\n  <path d="M9 3.22a.48.48 0 0 0-.44.3L7.24 7l-3.68.19a.48.48 0 0 0-.27.81l2.86 2.32-1 3.56a.47.47 0 0 0 .18.5.46.46 0 0 0 .27.09.5.5 0 0 0 .26-.08l3.09-2 3.09 2a.5.5 0 0 0 .26.08.46.46 0 0 0 .27-.09.47.47 0 0 0 .18-.5l-1-3.56L14.71 8a.48.48 0 0 0-.27-.84L10.76 7 9.44 3.52a.48.48 0 0 0-.44-.3z" fill="#fff"/>\n'),d='\n  <path class="'.concat(c,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a,'" fill="#a88865" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(l,'" opacity=".3" d="M8.4,6c-1-.75-2.52-1.09-4.83-1.09H2.49v8.71H3.57A8.13,8.13,0,0,1,8.4,14.76Z"/>\n  <path class="').concat(l,'" opacity=".3" d="M9.49,14.76a8.14,8.14,0,0,1,4.84-1.17h1.08V4.88H14.33C12,4.88,10.52,5.22,9.49,6Z"/>\n  <path class="').concat(i,'" fill="#fff" d="M8.4,5.47c-1-.75-2.52-1.09-4.83-1.09H3v8.71h.58A8.13,8.13,0,0,1,8.4,14.26Z"/>\n  <path class="').concat(i,'" fill="#fff" d="M9.49,14.26a8.14,8.14,0,0,1,4.84-1.17h.58V4.38h-.58c-2.32,0-3.81.34-4.84,1.09Z"/>\n'),m='\n  <path class="'.concat(c,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <g class="').concat(l,'" opacity=".2">\n    <path d="M14.68 5.48a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.19 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.66a.45.45 0 0 0 .19 0l.11-.09a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .42-.23 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .65-.64A4.62 4.62 0 0 0 14 9a5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1 2.76 2.76 0 0 0-.31-1.19zM12.3 12.72h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.06zM6.68 12.72H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23V13a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.06zM8.28 4.56A3.63 3.63 0 0 0 7.19 4 3.86 3.86 0 0 0 6 3.81 3.78 3.78 0 0 0 4.79 4a6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41l1 1.21a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.09a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.52.53 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7 8.22 8.22 0 0 1 .66-.64A5.68 5.68 0 0 0 8.36 9a7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.11z"/>\n  </g>\n  <path class="').concat(i,'" fill="#fff" d="M14.68 5a2.77 2.77 0 0 0-.77-.92 3.81 3.81 0 0 0-1.1-.56 3.86 3.86 0 0 0-1.2-.19 3.68 3.68 0 0 0-1.19.17 5.72 5.72 0 0 0-.9.37l-.33.2a3.5 3.5 0 0 1 .43.63A3.26 3.26 0 0 1 10 6.16a.45.45 0 0 0 .19 0l.09-.16a1.13 1.13 0 0 1 .28-.18 2.54 2.54 0 0 1 .44-.16 1.61 1.61 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.25.68c-.17.19-.39.4-.65.64s-.33.27-.49.42a3.08 3.08 0 0 0-.45.55 2.55 2.55 0 0 0-.33.66 2.43 2.43 0 0 0-.13.84v.35a.34.34 0 0 0 .32.32h1.72a.27.27 0 0 0 .22-.1.29.29 0 0 0 .09-.22v-.21a.93.93 0 0 1 .27-.7 6.62 6.62 0 0 1 .62-.66 4.62 4.62 0 0 0 .54-.46 5.58 5.58 0 0 0 .49-.6 2.92 2.92 0 0 0 .36-.73 3.08 3.08 0 0 0 .14-1A2.76 2.76 0 0 0 14.68 5zM12.3 12.22h-1.89a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.31.31 0 0 0 .09.22.26.26 0 0 0 .22.1h1.89a.33.33 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.33.33 0 0 0-.23-.09zM6.68 12.22H4.79a.29.29 0 0 0-.22.09.33.33 0 0 0-.09.22v1.84a.35.35 0 0 0 .08.22.28.28 0 0 0 .23.1h1.89a.35.35 0 0 0 .23-.09.34.34 0 0 0 .1-.23v-1.84a.34.34 0 0 0-.1-.22.35.35 0 0 0-.23-.09zM8.28 4.06a3.63 3.63 0 0 0-1.09-.56A3.86 3.86 0 0 0 6 3.31a3.78 3.78 0 0 0-1.2.17 6.65 6.65 0 0 0-.9.37 2.84 2.84 0 0 0-.55.38l-.21.19a.31.31 0 0 0 0 .41L4.09 6a.31.31 0 0 0 .21.13.54.54 0 0 0 .25-.06l.1-.07a1.46 1.46 0 0 1 .29-.18 2.2 2.2 0 0 1 .41-.18 1.57 1.57 0 0 1 .49-.07 1.13 1.13 0 0 1 .73.24.74.74 0 0 1 .3.6 1 1 0 0 1-.26.68c-.17.19-.38.4-.64.64a6.4 6.4 0 0 0-.49.42 2.7 2.7 0 0 0-.48.57 2.94 2.94 0 0 0-.34.66 2.7 2.7 0 0 0-.12.84v.35a.29.29 0 0 0 .09.22.28.28 0 0 0 .22.1h1.76a.26.26 0 0 0 .21-.1.29.29 0 0 0 .09-.22v-.21a1 1 0 0 1 .27-.7A8.22 8.22 0 0 1 7.84 9a5.68 5.68 0 0 0 .52-.48 7 7 0 0 0 .48-.6 3 3 0 0 0 .37-.73 3.1 3.1 0 0 0 .13-1 2.67 2.67 0 0 0-1.06-2.13z"/>\n'),p='\n  <path class="'.concat(c,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a,'" fill="#1baca6" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(l,'" opacity=".2" d="M12.57,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,4.15A.42.42,0,0,1,10,3.91a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(i,'" fill="#fff" d="M12.57,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23Zm-.11-3.93a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H10.35a.32.32,0,0,1-.34-.31L9.86,3.65A.42.42,0,0,1,10,3.41a.3.3,0,0,1,.24-.1H12.3a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(l,'" opacity=".2" d="M8.07,14.85a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24V13a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.92a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,4.15a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n  <path class="').concat(i,'" fill="#fff" d="M8.07,14.35a.3.3,0,0,1-.1.24.32.32,0,0,1-.23.1h-2a.3.3,0,0,1-.24-.1.41.41,0,0,1-.08-.24v-1.9a.32.32,0,0,1,.09-.23.29.29,0,0,1,.23-.1h2a.32.32,0,0,1,.23.1.29.29,0,0,1,.1.23ZM8,10.42a.33.33,0,0,1-.1.23.34.34,0,0,1-.23.08H5.85a.32.32,0,0,1-.34-.31L5.36,3.65a.42.42,0,0,1,.09-.24.3.3,0,0,1,.24-.1H7.8a.36.36,0,0,1,.25.1.42.42,0,0,1,.09.24Z"/>\n'),b='\n  <path class="'.concat(c,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#95bb4a"/>\n  <path class="').concat(l,'" d="M15.11 6.81l-5.66 5.66-1.66 1.65a.38.38 0 0 1-.55 0L2.89 9.78a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0l2.69 2.69 5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .55z" opacity=".2"/>\n  <path class="').concat(i,'" d="M15.11 6.31L9.45 12l-1.66 1.62a.38.38 0 0 1-.55 0L2.89 9.28a.39.39 0 0 1 0-.55l1.39-1.39a.39.39 0 0 1 .55 0L7.52 10l5.65-5.65a.38.38 0 0 1 .55 0l1.39 1.38a.39.39 0 0 1 0 .58z" fill="#fff"/>\n'),g='\n  <path class="'.concat(c,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a,'" fill="#5a9ac0" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(l,'" opacity=".2" d="M15,6.8,7.81,14a.38.38,0,0,1-.55,0L3,9.73a.41.41,0,0,1,0-.55L4.36,7.81a.4.4,0,0,1,.54,0l2.63,2.64L13.1,4.9a.38.38,0,0,1,.55,0L15,6.25A.38.38,0,0,1,15,6.8Z"/>\n  <path class="').concat(i,'" fill="#ffffff" d="M15,6.3,7.81,13.49a.38.38,0,0,1-.55,0L3,9.23a.41.41,0,0,1,0-.55L4.36,7.31a.4.4,0,0,1,.54,0L7.53,10,13.1,4.4a.38.38,0,0,1,.55,0L15,5.75A.38.38,0,0,1,15,6.3Z"/>\n'),h='\n  <path class="'.concat(c,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z" />\n  <path class="').concat(a,'" fill="#95bb4a" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z" />\n  <path class="').concat(l,'" opacity=".1"\n    d="M4.44,5.41v7.68a1,1,0,0,0,1,1h7.68a1,1,0,0,0,1-1V5.41a1,1,0,0,0-1-1H5.41A1,1,0,0,0,4.44,5.41ZM12,12H6.53V6.53H12Z" />\n  <path class="').concat(i,'" fill="#ffffff"\n    d="M4.19,5.16v7.68a1,1,0,0,0,1,1h7.68a1,1,0,0,0,1-1V5.16a1,1,0,0,0-1-1H5.16A1,1,0,0,0,4.19,5.16Zm7.53,6.56H6.28V6.28h5.44Z" />\n'),_='\n  <path class="'.concat(c,'" opacity=".3" d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"/>\n  <path class="').concat(a,'" fill="#a09f9e" d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"/>\n  <path class="').concat(i,'" fill="#fff" d="M9,2.5A6.5,6.5,0,1,0,15.5,9,6.5,6.5,0,0,0,9,2.5Z"/>\n  <path class="').concat(a,'" fill="#a09f9e" d="M9,5a4,4,0,1,0,4,4A4,4,0,0,0,9,5Z"/>\n  <path class="').concat(i,'" fill="#fff" d="M9,7.5A1.5,1.5,0,1,0,10.5,9,1.5,1.5,0,0,0,9,7.5Z"/>\n'),v='\n  <path class="'.concat(c,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#f0c15c"/>\n  <path class="').concat(l,'" opacity=".3" d="M13.51 14.85a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24V13a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="').concat(i,'" fill="#fff" d="M13.51 14.35a.3.3 0 0 1-.1.24.33.33 0 0 1-.24.1h-2a.29.29 0 0 1-.23-.1.36.36 0 0 1-.09-.24v-1.9a.33.33 0 0 1 .1-.23.27.27 0 0 1 .22-.1h2a.33.33 0 0 1 .24.1.29.29 0 0 1 .1.23zm-.12-3.93a.29.29 0 0 1-.1.23.31.31 0 0 1-.23.08h-1.77a.31.31 0 0 1-.34-.31l-.15-6.77a.49.49 0 0 1 .08-.24.32.32 0 0 1 .25-.1h2.11a.38.38 0 0 1 .25.1.42.42 0 0 1 .09.24z"/>\n  <path class="').concat(l,'" opacity=".3" d="M7.5 14.87a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.48 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.67a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.13l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38A6.65 6.65 0 0 1 5.29 4a3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.17 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.06 2.19 3.1 3.1 0 0 1-.13.96z"/>\n  <path class="').concat(i,'" fill="#fff" d="M7.5 14.37a.33.33 0 0 1-.09.23.35.35 0 0 1-.23.09H5.29a.28.28 0 0 1-.23-.1.35.35 0 0 1-.06-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.87a.35.35 0 0 1 .23.09.33.33 0 0 1 .09.22zm2.21-7.16a3 3 0 0 1-.37.73 7 7 0 0 1-.48.6 5.68 5.68 0 0 1-.52.46 8.22 8.22 0 0 0-.66.64 1 1 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.26.26 0 0 1-.21.1H5.38a.28.28 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.7 2.7 0 0 1 .12-.84 3.39 3.39 0 0 1 .33-.66A3.12 3.12 0 0 1 6 8.17a6.4 6.4 0 0 1 .49-.42c.25-.24.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.14 1.14 0 0 0-.73-.24 1.53 1.53 0 0 0-.49.07 2.2 2.2 0 0 0-.41.18 1.46 1.46 0 0 0-.31.16l-.1.09a.54.54 0 0 1-.25.06.31.31 0 0 1-.21-.15l-1-1.21a.31.31 0 0 1 0-.41l.21-.19a2.84 2.84 0 0 1 .55-.38 6.65 6.65 0 0 1 .9-.37 3.74 3.74 0 0 1 1.2-.17 3.86 3.86 0 0 1 1.2.19 3.75 3.75 0 0 1 1.09.56 2.67 2.67 0 0 1 1.1 2.23 3.1 3.1 0 0 1-.13.96z"/>\n'),y='\n  <path class="'.concat(c,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#c93430"/>\n  <path class="').concat(l,'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="').concat(i,'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'),w='\n  <path class="'.concat(c,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#dd5357"/>\n  <path class="').concat(l,'" d="M14 12.58a.4.4 0 0 1 0 .56l-1.38 1.38a.4.4 0 0 1-.56 0L9 11.44l-3.08 3.08a.4.4 0 0 1-.56 0L4 13.14a.4.4 0 0 1 0-.56L7.06 9.5 4 6.42a.4.4 0 0 1 0-.56l1.36-1.38a.4.4 0 0 1 .56 0L9 7.56l3.08-3.08a.4.4 0 0 1 .56 0L14 5.86a.4.4 0 0 1 0 .56L10.94 9.5z" opacity=".2"/>\n  <path class="').concat(i,'" d="M14 12.08a.4.4 0 0 1 0 .56L12.64 14a.4.4 0 0 1-.56 0L9 10.94 5.92 14a.4.4 0 0 1-.56 0L4 12.64a.4.4 0 0 1 0-.56L7.06 9 4 5.92a.4.4 0 0 1 0-.56L5.36 4a.4.4 0 0 1 .56 0L9 7.06 12.08 4a.4.4 0 0 1 .56 0L14 5.36a.4.4 0 0 1 0 .56L10.94 9z" fill="#f1f2f2"/>\n'),j='\n  <path class="'.concat(c,'" d="M9 .5a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" opacity=".3"/>\n  <path class="').concat(a,'" d="M9 0a9 9 0 1 0 9 9 9 9 0 0 0-9-9z" fill="#e6912c"/>\n  <path class="').concat(l,'" d="M9.82 14.87a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22V13a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.71a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.18l-.1.09a.53.53 0 0 1-.24.06c-.12 0-.19-.07-.21-.13l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38A5.72 5.72 0 0 1 7.61 4a3.68 3.68 0 0 1 1.19-.19A3.86 3.86 0 0 1 10 4a3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" opacity=".2"/>\n  <path class="').concat(i,'" d="M9.82 14.37a.34.34 0 0 1-.1.23.33.33 0 0 1-.23.09H7.6a.26.26 0 0 1-.22-.1.31.31 0 0 1-.09-.22v-1.84a.33.33 0 0 1 .09-.22.29.29 0 0 1 .22-.09h1.89a.33.33 0 0 1 .23.09.34.34 0 0 1 .1.22zM12 7.21a3.31 3.31 0 0 1-.36.73 7.11 7.11 0 0 1-.49.6 4.62 4.62 0 0 1-.52.48 6.62 6.62 0 0 0-.65.64.93.93 0 0 0-.27.7v.21a.29.29 0 0 1-.09.22.28.28 0 0 1-.22.1H7.69a.3.3 0 0 1-.22-.1.29.29 0 0 1-.09-.22v-.35a2.43 2.43 0 0 1 .13-.84 2.55 2.55 0 0 1 .33-.66 3.08 3.08 0 0 1 .45-.55c.16-.15.33-.29.49-.42s.47-.45.64-.64a1 1 0 0 0 .26-.68.74.74 0 0 0-.3-.6 1.13 1.13 0 0 0-.73-.24 1.57 1.57 0 0 0-.49.07 2.54 2.54 0 0 0-.41.18 1.46 1.46 0 0 0-.29.16l-.1.09a.53.53 0 0 1-.24.06C7 6.14 6.93 6.1 6.91 6l-1-1.21a.3.3 0 0 1 0-.41l.21-.19a2.67 2.67 0 0 1 .56-.38 5.72 5.72 0 0 1 .9-.37 3.68 3.68 0 0 1 1.22-.13 3.86 3.86 0 0 1 1.2.19 3.63 3.63 0 0 1 1.09.56 2.79 2.79 0 0 1 .78.92 2.76 2.76 0 0 1 .29 1.27 3.08 3.08 0 0 1-.16.96z" fill="#fff"/>\n'),O='\n    <path class="'.concat(c,'" d="M6.33,16.85l-6-12A3,3,0,0,1,3,.5H15a3,3,0,0,1,2.67,4.33l-6,12A3,3,0,0,1,6.33,16.85Z" opacity=".3"/>\n    <path class="').concat(a,'" d="M6.33,16.35l-6-12A3,3,0,0,1,3,0H15a3,3,0,0,1,2.67,4.33l-6,12A3,3,0,0,1,6.33,16.35Z" fill="#c93430"/>\n    <path class="').concat(l,'" d="M8.92,2,5.9,9.3A.14.14,0,0,0,6,9.48h2.6a.14.14,0,0,1,.14.14l0,5.4c0,.12.18.19.23.08l3.7-7.92A.13.13,0,0,0,12.53,7H9.64a.14.14,0,0,1-.14-.13L9.15,2.05C9.15,1.93,9,1.87,8.92,2Z" opacity=".2"/>\n    <path class="').concat(i,'" d="M8.92,1.48,5.9,8.8A.14.14,0,0,0,6,9h2.6a.14.14,0,0,1,.14.14l0,5.4c0,.12.18.19.23.08l3.7-7.92a.13.13,0,0,0-.13-.18H9.64a.14.14,0,0,1-.14-.13L9.15,1.55C9.15,1.43,9,1.37,8.92,1.48Z" fill="#fff"/>\n'),S='\n  <path\n    class="'.concat(c,'"\n    d="M9,.5a9,9,0,1,0,9,9A9,9,0,0,0,9,.5Z"\n    opacity=".3"></path>\n\n  <path\n    class="').concat(a,'"\n    d="M9,0a9,9,0,1,0,9,9A9,9,0,0,0,9,0Z"\n    fill="#8a8886"></path>\n\n  <path\n    d="M3.59,10.23a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,13.31,3.58,3.58,0,0,0,10.47,13a3.94,3.94,0,0,0,1.22-.81A4.09,4.09,0,0,0,12.5,11a3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2A3.94,3.94,0,0,0,10.47,6,3.65,3.65,0,0,0,9,5.69a3.61,3.61,0,0,0-1.23.21,3.23,3.23,0,0,0-1.09.6L7.77,7.59c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,8a.52.52,0,0,1-.17-.38V4.45c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,5.34a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,4.05a5.3,5.3,0,0,1,2.12.44,5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,7.38a5.23,5.23,0,0,1,.44,2.12A5.16,5.16,0,0,1,14,11.62a5.59,5.59,0,0,1-1.16,1.73,5.32,5.32,0,0,1-1.73,1.18A5.64,5.64,0,0,1,9,15a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,12.1,5.1,5.1,0,0,1,3.59,10.23Z"\n    class="').concat(l,'"\n    opacity=".3"></path>\n\n  <path\n    d="M3.59,9.73a.25.25,0,0,1,.24-.31l1.08-.15a.49.49,0,0,1,.2.06.25.25,0,0,1,.11.2,3.58,3.58,0,0,0,.42,1.28,3.68,3.68,0,0,0,.84,1.06,3.76,3.76,0,0,0,1.16.69A3.9,3.9,0,0,0,9,12.81a3.58,3.58,0,0,0,1.47-.31,3.94,3.94,0,0,0,1.22-.81,4.09,4.09,0,0,0,.81-1.2,3.74,3.74,0,0,0,0-3,4.09,4.09,0,0,0-.81-1.2,3.94,3.94,0,0,0-1.22-.81A3.65,3.65,0,0,0,9,5.19a3.61,3.61,0,0,0-1.23.21A3.23,3.23,0,0,0,6.68,6L7.77,7.09c.16.15.21.29.16.38s-.18.17-.4.17H4.37a.36.36,0,0,1-.2,0A.76.76,0,0,1,4,7.49a.52.52,0,0,1-.17-.38V4c0-.2.06-.33.17-.38s.25,0,.41.16L5.51,4.84a5.83,5.83,0,0,1,1.64-1A5.19,5.19,0,0,1,9,3.55,5.3,5.3,0,0,1,11.12,4a5,5,0,0,1,1.73,1.16A5.59,5.59,0,0,1,14,6.88,5.23,5.23,0,0,1,14.45,9,5.16,5.16,0,0,1,14,11.12a5.59,5.59,0,0,1-1.16,1.73A5.32,5.32,0,0,1,11.12,14,5.64,5.64,0,0,1,9,14.45a5.23,5.23,0,0,1-1.94-.37A5.27,5.27,0,0,1,4.21,11.6,5.1,5.1,0,0,1,3.59,9.73Z"\n    class="').concat(i,'"\n    fill="#ffffff"></path>\n'),k=r("./web/core/api/move-list/config.js"),C=r("./utils/translation/translation.helper.js"),P="//images.chesscomfiles.com",x={ARCADE:"arcade",DEFAULT:"default",FAST:"fast",NATURAL:"natural",NONE:"none",SLOW:"slow"},A={ALMOST_CORRECT:{color:"#8a8886",icon:S,type:"Undo"},BEST_MOVE:{color:"#9EBA5A",icon:u,key:"bestMove",label:Object(C.b)("Best Move"),phrase:Object(C.b)("is best"),type:"BestMove"},BLUNDER:{annotation:k.c.$4,color:"#b33430",icon:m,key:"blunder",label:Object(C.b)("Blunder"),phrase:Object(C.b)("is a blunder"),type:"Blunder"},BOOK:{icon:d,key:"book",label:Object(C.b)("Book"),phrase:Object(C.b)("is a book move"),type:"Book"},BRILLIANT:{color:"#1baca6",icon:p,key:"brilliant",label:Object(C.b)("Brilliant"),phrase:Object(C.b)("is brilliant"),type:"Brilliant"},CORRECT:{color:"#acce59",key:"correct",icon:b,label:Object(C.b)("Correct"),type:"Correct"},CRITICAL:{key:"critical",label:Object(C.b)("Critical")},EXCELLENT:{color:"#5a9ac0",icon:g,key:"excellent",label:Object(C.b)("Excellent"),phrase:Object(C.b)("is excellent"),type:"Excellent"},FORCED:{icon:h,key:"forced",label:Object(C.b)("Forced"),phrase:Object(C.b)("is forced"),type:"Forced"},GOOD:{icon:_,key:"good",label:Object(C.b)("Good"),phrase:Object(C.b)("is good"),type:"Good"},INACCURACY:{annotation:k.c.$6,color:"#f0c15c",icon:v,key:"inaccuracy",label:Object(C.b)("Inaccuracy"),phrase:Object(C.b)("is an inaccuracy"),type:"Inaccuracy"},INCORRECT:{color:"#c93430",icon:y,key:"incorrect",label:Object(C.b)("Incorrect"),type:"Incorrect"},MISSED_WIN:{color:"#dd5357",icon:w,key:"missedWin",label:Object(C.b)("Missed Win"),phrase:Object(C.b)("is a missed win"),type:"MissedWin"},MISTAKE:{annotation:k.c.$2,color:"#e6912c",icon:j,key:"mistake",label:Object(C.b)("Mistake"),phrase:Object(C.b)("is a mistake"),type:"Mistake"},STAR:{color:"#e6912c",icon:u,key:"star",type:"BestMove"},THREAT:{color:"#c93430",icon:O,key:"threat",label:Object(C.b)("Threat"),phrase:Object(C.b)("is threat"),type:"Threat"}},T={WHITE:1,BLACK:2},L={COORDINATE_FILE:".coordinates .letter"},I={INSIDE:"inside",NONE:null,OUTSIDE:"outside"},M=("".concat(P,"/chess-themes/boards"),"".concat(P,"/chess-themes/pieces"),"".concat(P,"/chess-themes/sounds"),{boardStyle:"green",pieceStyle:"neo",highlightColor:"#FFFF33",highlightOpacity:.5,arrowColor:"rgb(255, 168, 0)",flipped:!1,files:8,ranks:8}),R={DARK_MODE_CHANGE:"darkModeChange"},D=[{key:0,label:Object(C.b)("None"),value:I.NONE},{key:1,label:Object(C.b)("Inside"),value:I.INSIDE},{key:2,label:Object(C.b)("Outside"),value:I.OUTSIDE}],N={pieces:["real3d"],animations:["arcade","natural"]},$=[{key:"0",value:null},{key:"1",value:"inside"},{key:"2",value:"outside"}],B={board:".board-board",resize:".board-controls",sidebar:".board-sidebar"},U={minSidebarWidth:300,boardPaddingLeft:30},q="8/pppppppp8/8/8/8/PPPPPPPP/8",G="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR"},"./web/core/api/board/helper/get-board-element.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i})),r.d(o,"b",(function(){return l}));var a=r("./web/core/api/board/config.js"),i=function getBoardContainerElement(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=a.i.board.substr(1),r=document.getElementsByClassName(o)[t];return r||null},l=function getBoardElement(){var t=i();if(!t)return null;var o=t.childNodes;return Array.from(o).find((function(t){return 1===t.nodeType}))}},"./web/core/api/content/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return u})),r.d(o,"b",(function(){return d})),r.d(o,"c",(function(){return m})),r.d(o,"e",(function(){return p})),r.d(o,"h",(function(){return b})),r.d(o,"f",(function(){return g})),r.d(o,"d",(function(){return h})),r.d(o,"g",(function(){return _}));var a,i,l=r("./utils/router.js"),c=r("./utils/translator.js"),u={ARIA_CONTROLS:"aria-controls",ARIA_SELECTED:"aria-selected",AVATAR:"data-avatar",CUSTOM_BTN_CLASS:"data-custom-btn-class",CUSTOM_COLLAPSE_CLASS:"data-custom-collapse-class",DARK_MODE:"data-dark-mode",IS_V5:"data-is-v5",HIDDEN:"hidden",ICON_BUTTON:"data-icon-button",PAGE_V5:"data-page-v5",SLOTS:"data-stats-slots",STATS:"data-stats",SURVEY_DATA:"data-survey",SURVEY_VOTED:"data-voted-survey",USERNAME:"data-username",VS_STATS:"data-vs-stats"},d={getArticleAuthors:"web_article_callback_list_authors",getBlogAuthors:"web_blog_callback_authors",getContent:"web_content_callback_load_more",getNewsAuthors:"web_news_callback_list_authors",setArticleFeature:"web_content_callback_feature_article",setBlogFeature:"web_blog_callback_feature",setLessonsFeature:"web_content_callback_feature_lesson_course",setNewsFeature:"web_content_callback_feature_news",setVideoFeature:"web_content_callback_feature_chess_video"},m={BLOG:"blog",CSRF_TOKEN:null===(a=window.context)||void 0===a||null===(i=a.csrf)||void 0===i?void 0:i.token,DARK_MODE:"dark-mode",LESSONS:"lessons",NEWS:"news",VIDEO:"video",GRID_VIEW:"grid",LIST_VIEW:"list",LOCALE:window.context&&window.context.locale||"en_US",LOGGED_IN:window.context&&window.context.user,SUPPORT_DARK_MODE:"support-dark-mode",TIME:{hour:36e5},USERNAME:window.context&&window.context.user?window.context.user.username:null},p={CHESS_960:"chess960"},b={category:function category(t){return c.a.trans(t,{},"dynamic")},daysOfWeek:[c.a.trans("Sunday"),c.a.trans("Monday"),c.a.trans("Tuesday"),c.a.trans("Wednesday"),c.a.trans("Thursday"),c.a.trans("Friday"),c.a.trans("Saturday")],loading:c.a.trans("Loading..."),months:[c.a.trans("January"),c.a.trans("February"),c.a.trans("March"),c.a.trans("April"),c.a.trans("May"),c.a.trans("June"),c.a.trans("July"),c.a.trans("August"),c.a.trans("September"),c.a.trans("October"),c.a.trans("November"),c.a.trans("December")],noResult:c.a.trans("No results found."),pleaseEnter:function pleaseEnter(t){return c.a.trans("Please enter %number% or more characters",{"%number%":t})},showMore:c.a.trans("More"),showLess:c.a.trans("Less")},g={AMPLITUDE_LOGGER:"amplitude-logger",BOARD_POPOVER:"v-board-popover",CAPTCHA:"captcha",COLLAPSE:"v-toggle-collapse",COLLAPSED:"toggle-collapsed",CONTENT_AD:"content-ad",CONTENT_CATEGORY_SELECT:"content-category-select",CONTENT_LANGUAGE_SELECT:"content-language-select",CONFIRM_OPEN:"confirm-open",CONFIRM_POPOVER:"v-confirm-popover",CONFIRM_POPOVER_INLINE:"confirm-popover-inline",DONATE_MODAL:"donate-modal",FEATURE_SIDEBAR_LINK:"post-category-link-feature",FILTERS:"page-filters",FOLLOW_UNFOLLOW_AUTHOR:"follow-unfollow-author",FORM_DATEPICKER:"v-datepicker",FORM_DROPDOWN:"form-dropdown",GAME_PREVIEW:"game-preview",GIFT_MEMBERSHIP_MODAL:"gift-membership-modal",HEADLINE_SIDEBAR_LINK:"post-category-link-headline",HIDDEN:"toggle-hidden",LANGUAGE_DROPDOWN:"post-view-languages",MESSAGE_PARENT:"vue-message",NAVIGATION_FOOTER:"navigation-footer",NEW_GAME:"new-game",PAGINATION_BOTTOM:"pagination-bottom",PAGINATION_TOP:"pagination-top",PAGINATION_SCROLL_TOP:".pagination-top",POST_AUTHOR_FOLLOW:"post-author-follow",POST_CAN_EDIT_URL:"post-can-edit-url",POST_EDIT_URL:"post-edit-url",POST_EDIT_URL_FIELD:"post-edit-url-field",POST_IMAGE_BUTTON:"image-upload-button",POST_IMAGE_THUMBNAIL:"image-upload-thumbnail",SCROLL_TOP_ANCHOR:"scroll-top-anchor",SHORT_SIDEBAR_AD_BOTTOM:"short-sidebar-ad-bottom",SHORT_SIDEBAR_AD_TOP:"short-sidebar-ad-top",SIDEBAR_STATS:"sidebar-stats",SIDEBAR_SURVEY:"sidebar-survey",SIDEBAR_TOGGLE_BUTTON_TEXT:"toggle-content-button-text",SIDEBAR_TOGGLE_ICON:"toggle-content-icon",SIDEBAR_USER_ITEMS:"sidebar-users-grid-toggle-item",SIDEBAR_USERS_TOGGLE_BUTTON:"toggle-content-button",STAT_CHART:"stat-chart",TABS_BUTTON:"v5-tabs-button",TABS_PANEL:"v5-tabs-panel",TIMEZONES:"page-timezones",TOOLTIP:"v-tooltip",TOOLTIP_CLASS:"tooltip",TOOLTIP_TOP:"top",USER_POPOVER:"v-user-popover",USER_POPOVER_TOOLTIP:"v-user-popover-tooltip",USER_TAGLINE:"post-view-meta-user",VERSION_DROPDOWN:"version-dropdown"},h={CONFIRM_POPOVER_YES:"confirm-popover-yes",SHOW_MODAL:"show-confirm-popover",VOTE_COUNTED:"vote-counted",VIEW_CHANGE:"view-change",VIEW_GRID:"view-grid",VIEW_LIST:"view-list"},_={changeContentLanguage:function changeContentLanguage(){return l.a.generate("web_user_callback_set_content_language")},enPassant:function enPassant(){return l.a.generate("web_article_view",{url:"how-to-capture-en-passant"})},inviteLink:function inviteLink(t,o,r){return l.a.generate(t,{url:o,secret:r})},loginPage:l.a.generate("web_security_login_and_go"),redirectToLoginPage:function redirectToLoginPage(t){return l.a.generate("web_security_login_and_go",{redirectUrl:t})},surveyVote:function surveyVote(t,o){return l.a.generate("web_survey_callback_vote",{id:t,optionId:o})},teamMatch:function teamMatch(t){return l.a.generate("web_team_match_view",{match:t})},tournament:function tournament(t){return l.a.generate("web_tournament_view",{url:t})},userProfile:function userProfile(t){return l.a.generate("web_member_view",{username:t})}}},"./web/core/api/content/helpers/generate-route.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i}));var a=r("./utils/router.js"),i=function generateRoute(t,o,r){var i=t,l=o;if(r){var c=document.querySelector("[data-url-locale]"),u=c&&c.getAttribute("data-url-locale"),d=u&&"en"!==u.split("_")[0]&&u.split("_")[0];d&&l&&(i="i18n_".concat(i),l._locale=d)}return a.a.generate(i,l)}},"./web/core/api/diagram-editor/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return l})),r.d(o,"b",(function(){return c})),r.d(o,"c",(function(){return u})),r.d(o,"d",(function(){return d})),r.d(o,"e",(function(){return m})),r.d(o,"f",(function(){return p})),r.d(o,"g",(function(){return b})),r.d(o,"h",(function(){return g})),r.d(o,"i",(function(){return h})),r.d(o,"l",(function(){return _})),r.d(o,"m",(function(){return v})),r.d(o,"n",(function(){return y})),r.d(o,"o",(function(){return w})),r.d(o,"q",(function(){return j})),r.d(o,"p",(function(){return O})),r.d(o,"r",(function(){return S})),r.d(o,"s",(function(){return k})),r.d(o,"u",(function(){return C})),r.d(o,"v",(function(){return P})),r.d(o,"w",(function(){return x})),r.d(o,"x",(function(){return A})),r.d(o,"y",(function(){return T})),r.d(o,"z",(function(){return L})),r.d(o,"A",(function(){return I})),r.d(o,"k",(function(){return M})),r.d(o,"j",(function(){return R})),r.d(o,"C",(function(){return D})),r.d(o,"B",(function(){return N})),r.d(o,"t",(function(){return $}));var a=r("./utils/router.js"),i=r("./utils/translator.js"),l=/https?:\/\/(?:www.)?chess(?:-dev|-\d+)?.com\/a\/[\d\w]{12}/,c={large:600,small:320},u={K:"K",k:"k",Q:"Q",q:"q"},d={K:!1,Q:!1,k:!1,q:!1},m={BLACK:"black",WHITE:"white"},p={BLACK:"b",WHITE:"w"},b={DEFAULT:"-",FULLMOVE_DEFAULT:"1",HALFMOVE_DEFAULT:"0"},g={INSIDE:"inside"},h={CHESS_GAME:"chessGame",CHESS_PROBLEM:"chessProblem",SIMPLE_DIAGRAM:"simpleDiagram"},_={INVALID_ANALYSIS_URL:i.a.trans("We cannot find an analysis with that URL."),INVALID_GAME_URL:i.a.trans("We cannot find the game in that URL."),WRONG_PGN:i.a.trans("Something wrong with loaded PGN, we load it in soft mode")},v={BOARD_INITIALIZED:"board-initialized"},y={daily:"game",game:"game",games:"game_archive",live:"game_live",votechess:"votechess_game"},w=/https?:\/\/(?:www.)?chess(?:-dev|-\d+)?.com\/(votechess|games|daily|live|game)\/(?:game|view|daily)\/(\d+)\/?/,j="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",O={CHEVRON_BOTTOM:"chevron-bottom",CHEVRON_UP:"chevron-up"},S={desktop:900,mobile:640},k={FIRST_MOVE:0},C={BLACK_ELO:"BlackElo",WHITE_ELO:"WhiteElo"},P={DIAGRAM_WRAPPER:"diagram-editor"},x=[{label:i.a.trans("No Result (*)"),value:"*"},{label:i.a.trans("White Won (1-0)"),value:"1-0"},{label:i.a.trans("Black Won (0-1)"),value:"0-1"},{label:i.a.trans("Draw (1/2-1/2)"),value:"1/2-1/2"}],A={getChessDiagram:function getChessDiagram(t){return a.a.generate("web_tinymce_get_chessdiagram",{id:t||"new"})},getSavedAnalysisFromUrl:function getSavedAnalysisFromUrl(t){return a.a.generate("web_analysis_game_callback_view",{uuid:t})}},T={DETAILS:"details",MOVES:"moves",SETUP:"setup",THEME:"theme"},L={LOAD_FEN:"fen",LOAD_PGN:"pgn",LOAD_URL:"url",SETUP_POSITION:"setup-position"},I=[{label:i.a.trans("White to move"),value:"white"},{label:i.a.trans("Black to move"),value:"black"}],M=[{label:"-",value:"-"},{label:"a6",value:"a6"},{label:"b6",value:"b6"},{label:"c6",value:"c6"},{label:"d6",value:"d6"},{label:"e6",value:"e6"},{label:"f6",value:"f6"},{label:"g6",value:"g6"},{label:"h6",value:"h6"}],R=[{label:"-",value:"-"},{label:"a3",value:"a3"},{label:"b3",value:"b3"},{label:"c3",value:"c3"},{label:"d3",value:"d3"},{label:"e3",value:"e3"},{label:"f3",value:"f3"},{label:"g3",value:"g3"},{label:"h3",value:"h3"}],D=[{label:"Standard",value:null},{label:"Chess960",value:"Chess960"}],N={CHESS:"Chess",CHESS960:"Chess960",ODDS_CHESS:"Odds Chess",KING_OF_THE_HILL:"King of the Hill",THREE_CHECK:"Three-Check"},$={CHESS:"chess",KING_OF_THE_HILL:"kingofthehill",THREE_CHECK:"threecheck"}},"./web/core/api/diagram-editor/helpers.js":function(t,o,r){"use strict";r.d(o,"b",(function(){return h})),r.d(o,"d",(function(){return _})),r.d(o,"e",(function(){return y})),r.d(o,"f",(function(){return w})),r.d(o,"h",(function(){return j})),r.d(o,"i",(function(){return O})),r.d(o,"j",(function(){return S})),r.d(o,"l",(function(){return k})),r.d(o,"m",(function(){return C})),r.d(o,"k",(function(){return splitMultiPgn})),r.d(o,"a",(function(){return createTextSetup})),r.d(o,"c",(function(){return x})),r.d(o,"g",(function(){return A}));var a=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=r.n(a),l=(r("./web/core/api/diagram-editor/service.js"),r("./web/core/api/diagram-editor/config.js")),c=r("./utils/html.transformer.js"),u=r("./utils/object.js"),d=r("./web/core/api/board/config.js"),m=r("./utils/string.js"),p=r("./chessboard/src/board/board.service.js"),b=(r("./utils/http/handle-error.js"),r("./utils/editor.js"),r("./chessboard/src/game/engine/JCE.js")),g=function cleanDiagramString(t,o){var r=o?t.trim().split(" ")[0].trim():t.split("\n")[1];return r?r.trim():""},h=function generateImage(t){return'<div style="text-align: center;"><img id="chess_com_diagram_0_'.concat(t,'" class="chessDiagramEditorImg mceItemNonEditable" src="/bundles/web/images/diagram-placeholder.png" name="mce_chessDiagramEditorImg" /></div><br>')},_=function getDiagramPieceStyle(t){return d.n.pieces.includes(t)?p.a.getDefaultOptions().pieceStyle:t},v=function getDiagramType(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return t?o?l.i.CHESS_PROBLEM:l.i.CHESS_GAME:l.i.SIMPLE_DIAGRAM},y=function getPgnHeaderValue(t){return"?"===t?"":t},w=function isPgnValid(t){return!1!==b.a.pgnToJson(t,0)},j=function parseAnalysisUrl(t){if(l.a.test(t)){var o=t.split("/");return o[o.length-1]}return null},O=function parseBoardOptions(t){var o=t.data,r=o.match(/\n?(.+)?&amp;(.+)?/g),a=!1;r&&(a=r.some((function(t){return!t.includes("[")&&!t.includes("]")})));var i=o.split(":"),l={};return l.isPuzzle="chessProblem"===g(i[1],a),l.boardStyle=g(i[2],a),l.pieceStyle=g(i[3],a),l.flipBoard="true"===g(i[5],a),l.focus=Number(g(i[10],a)),l.begin=Number(g(i[11],a)),l.end=Number(g(i[12],a)),l.coordinates="true"===g(i[7],a),l.pgn=Object(c.b)(o.substr(o.indexOf("["),o.length).trim()),l},S=function parseGameUrl(t){if(l.o.test(t)){var o=l.o.exec(t);return{id:o[2],gameType:l.n[o[1]]}}return{id:null,gameType:null}},k=function stripDisabledPieceStyles(t){return t.filter((function(t){return!d.n.pieces.includes(t.code)}))},C=function transformCommentDiagramForEditor(t){var o=/(<div *?id="(chess_com_diagram_([0-9]+)_([0-9]+))"[^>]*?>([\s\S]*?)<\/div>)/gm,r=o.exec(t);if(r){var a=t;return a=(a=Object(m.b)(a)).replace(o,h(r[4]))}return t};function splitMultiPgn(t){var o='[Event "';return t.split(o).slice(1).map((function(t){return"".concat(o).concat(t)}))}function createTextSetup(t,o){var r=splitMultiPgn(t),a=o;return r.map((function(t){return a.pgn=t.replace(/\\/g,""),function generateTextSetup(t){return"&-diagramtype:\n    ".concat(t.diagramType,"\n    &-colorscheme:\n    ").concat(t.boardStyle,"\n    &-piecestyle:\n    ").concat(t.pieceStyle,"\n    &-float:\n    left\n    &-flip:\n    ").concat(t.isBoardFlipped,"\n    &-prompt:\n    false\n    &-coords:\n    ").concat(t.coords,"\n    &-size:\n    45\n    &-lastmove:\n\n    &-focusnode:\n    ").concat(t.focusNode,"\n    &-beginnode:\n    ").concat(t.beginNode,"\n    &-endnode:\n    ").concat(t.endNode,"\n    &-hideglobalbuttons:\n    false\n    &-pgnbody:\n    ").concat(t.pgn).replace(/^[^\S\r\n]+/gm,"")}(a)})).join("")}var P=function getLimitMove(t){return Object(u.c)(t)?t.ids.move+1:""},x=function getDiagramConfig(t){var o=t.boardOptions,r=t.hasMoves,a=t.isPuzzle,i=t.nodeLimit;return{beginNode:P(i.begin),boardStyle:o.boardStyle,coords:Boolean(o.coordinates),diagramType:v(r,a),endNode:P(i.end),focusNode:P(i.focus),isBoardFlipped:o.flipBoard,pgn:"",pieceStyle:_(o.pieceStyle)}},A=function normalizeVariant(t){var o;return(o={},i()(o,l.B.KING_OF_THE_HILL,l.t.KING_OF_THE_HILL),i()(o,l.B.THREE_CHECK,l.t.THREE_CHECK),i()(o,l.B.ODDS_CHESS,l.t.CHESS),o)[t]||t.toLowerCase()}},"./web/core/api/diagram-editor/service.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return createChessDiagram})),r.d(o,"b",(function(){return getChessDiagram})),r.d(o,"d",(function(){return hasValidUrl})),r.d(o,"c",(function(){return getSavedAnalysisFromUrl}));var a=r("./web/core/api/diagram-editor/config.js"),i=r("./utils/http/index.js");function createChessDiagram(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return i.default.post(a.x.getChessDiagram(),{textSetup:t})}function getChessDiagram(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return i.default.post(a.x.getChessDiagram(t),{textSetup:o})}function hasValidUrl(t){return""!==t&&(a.o.test(t)||a.a.test(t))}function getSavedAnalysisFromUrl(t){return i.default.get(a.x.getSavedAnalysisFromUrl(t))}},"./web/core/api/modals/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return u})),r.d(o,"d",(function(){return d})),r.d(o,"b",(function(){return m})),r.d(o,"c",(function(){return b}));var a,i=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=r.n(i),c=r("./utils/translation/translation.helper.js"),u={HIDE_MODAL:"hide-modal",HIDE_MODAL_BACKGROUND_CLICK:"hide-background",HIDE_MODAL_SOCIAL_SHARE:"hide-modal-social-share",LOGIN_OR_REGISTER_MODAL:"LOGIN_OR_REGISTER_MODAL",MODAL_DID_HIDE:"modal-did-hide",SHOW_GUEST_MODAL:"show-guest-modal",SHOW_MODAL_SOCIAL_SHARE:"show-modal-social-share",SHOW_UPGRADE_MODAL:"show-upgrade-modal"},d={AUTHENTICATION_MODAL:"authentication-modal",FIRST_TIME_MODAL:"first-time-modal",GUEST_MODAL:"guest-modal",GUEST_MODAL_TRIGGER:"guest-modal-trigger",UPGRADE_MODAL:"upgrade-modal"},m=(Object(c.b)("Sign up to analyze your games!"),Object(c.b)("Sign up to play Automate!"),Object(c.b)("Sign up to unlock Lessons!"),Object(c.b)("Sign up to use this feature."),Object(c.b)("Sign up to keep solving puzzles!"),Object(c.b)("Sign up to track your progress!"),Object(c.b)("Already have an account? Log in"),Object(c.b)("Play, Learn and Connect"),Object(c.b)("Join millions of chess players."),Object(c.b)("150k+ Puzzles"),Object(c.b)("Play every day to improve"),Object(c.b)("1500+ Lessons"),Object(c.b)("Learn from chess masters!"),Object(c.b)("Full Game Analysis"),Object(c.b)("Learn from every game!"),Object(c.b)("Get a Rating"),Object(c.b)("Save your games!"),Object(c.b)("Explore Full Openings"),Object(c.b)("See moves played by masters!"),Object(c.b)("Full Analysis"),Object(c.b)("Full Report, Accuracy, Key Moments"),Object(c.b)("Unlimited Puzzles"),Object(c.b)("Solve 8+ Puzzles/day to improve fast"),Object(c.b)("Unlimited Lessons"),Object(c.b)("Your step-by-step path to mastery"),Object(c.b)("Remove Ads"),Object(c.b)("Get the best Chess.com experience"),Object(c.b)("Unlimited Puzzle Rush"),Object(c.b)("3 strikes and you're out!"),Object(c.b)("Unlimited Puzzle Battles"),Object(c.b)("Rush another player to win!"),Object(c.b)("Get Your Own Flair"),Object(c.b)("Share your unique personality"),Object(c.b)("Explore Full Openings"),Object(c.b)("See moves played by masters!"),Object(c.b)("Master Every Position"),Object(c.b)("Practice means everything!"),Object(c.b)("Unlock All Bots"),Object(c.b)("Play vs various skills and styles."),Object(c.b)("Unlimited Collections"),Object(c.b)("Build and organize your library"),{CLUBS:"clubs",COMPUTER:"computer",DRILLS:"drills",EXPLORER:"explorer",LESSONS:"lessons",OPENINGS:"openings",SOLO_CHESS:"solo",TOURNAMENTS:"tournaments",VISION:"vision"}),p=(a={},l()(a,m.COMPUTER,{bullets:[{icon:"select",text:Object(c.b)("Play bots with various strengths and styles")},{icon:"chip",text:Object(c.b)("Use optional coaching features for insights")},{icon:"user",text:Object(c.b)("Practice at any time - with no pressure")}],icon:"computer",storageKey:"vs_computer_intro_modal_dismissed",subtitle:Object(c.b)("Challenge the computer to an online chess game."),title:Object(c.b)("Chess Computer")}),l()(a,m.DRILLS,{bullets:[{icon:"vscomp",text:Object(c.b)("Play Key Positions vs Computer")},{icon:"lightbulb",text:Object(c.b)("Strengthen Tactical Decisions")},{icon:"chess-move-alt",text:Object(c.b)("Improve Positional Play")}],icon:"drills",storageKey:"drills_intro_modal_dismissed",subtitle:Object(c.b)("Practice playing common positions vs a chess computer."),title:Object(c.b)("Chess Drills")}),l()(a,m.EXPLORER,{bullets:[{icon:"magnifying-glass",text:Object(c.b)("Search millions of master games")},{icon:"user",text:Object(c.b)("Choose specific players to explore")},{icon:"chess-move-alt",text:Object(c.b)("Find winning moves from your games")}],icon:"explorer",storageKey:"explorer_intro_modal_dismissed",subtitleBottom:Object(c.b)("See moves chess masters have made and the outcome of the game from any position."),title:Object(c.b)("Chess Explorer")}),l()(a,m.OPENINGS,{bullets:[{icon:"magnifying-glass",text:Object(c.b)("Search more than 3,000 opening lines")},{icon:"book-open",text:Object(c.b)("Find the perfect chess opening for you")},{icon:"circle-compass",text:Object(c.b)("Explore variations and master chess games")}],icon:"openings",storageKey:"openings_intro_modal_dismissed",subtitleBottom:Object(c.b)("Learn and explore chess openings to try in your chess games."),title:Object(c.b)("Chess Openings")}),l()(a,m.SOLO_CHESS,{bullets:[{icon:"incorrect",text:Object(c.b)("Capture a piece with every move until just one remains")},{icon:"circle-stop",text:Object(c.b)("No piece may capture more than 2 times per puzzle")},{icon:"king-black",text:Object(c.b)("If there is a King on the board, it must be the final piece")},{icon:"circle-checkmark",text:Object(c.b)("Try for a perfect run in Challenge Mode!")}],buttonText:Object(c.b)("Start"),icon:"solo",modalWidth:"lg",storageKey:"solo_intro_modal_dismissed",subtitleTop:Object(c.b)("How to Play"),title:Object(c.b)("Solo Chess")}),l()(a,m.VISION,{bullets:[{icon:"chess-board-vision",text:Object(c.b)("Improve vision with coordinate training")},{icon:"chess-board-arrow-down",text:Object(c.b)("Identify squares or make moves")},{icon:"live",text:Object(c.b)("Answer as many as you can in 30 seconds")}],icon:"vision",showConfirmButton:!1,storageKey:"vision_intro_modal_dismissed",subtitleBottom:Object(c.b)("Learn to quickly follow and record chess coordinates and annotation."),title:Object(c.b)("Vision Trainer")}),l()(a,m.LESSONS,{bullets:[{icon:"play",text:Object(c.b)("Watch videos to learn concepts")},{icon:"circle-checkmark",text:Object(c.b)("Test knowledge with Challenges")},{icon:"king-black",text:Object(c.b)("Level up to achieve Mastery")}],icon:"lessons",storageKey:"lessons_intro_modal_dismissed",subtitleBottom:Object(c.b)("Learn from interactive lessons created by chess masters."),title:Object(c.b)("Chess Lessons")}),l()(a,m.CLUBS,{bullets:[{icon:"teammatch",text:Object(c.b)("Represent your club in matches")},{icon:"chat",text:Object(c.b)("Chat in private forums")},{icon:"square-four",text:Object(c.b)("Organize your team")}],icon:"clubs",storageKey:"clubs_intro_modal_dismissed",subtitleBottom:Object(c.b)("Join an Online Chess Club and connect and compete with your friends in matches."),title:Object(c.b)("Chess Clubs")}),l()(a,m.TOURNAMENTS,{bullets:[{icon:"circle-timer",text:Object(c.b)("Join tournaments starting every few minutes")},{icon:"calendar",text:Object(c.b)("Compete in Daily, multi-game tournaments")},{icon:"cup",text:Object(c.b)("Win trophies to display on your Profile")}],icon:"tournaments",storageKey:"tournaments_intro_modal_dismissed",subtitleBottom:Object(c.b)("Compete in online chess tournaments or join an online Arena, where anyone can win."),title:Object(c.b)("Chess Tournaments")}),a),b=function getFirstTimeModalConfig(t){return p[t]}},"./web/core/api/move-list/config.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i})),r.d(o,"c",(function(){return l})),r.d(o,"b",(function(){return c})),r.d(o,"d",(function(){return u}));var a=r("./utils/object.js"),i=function defaultNodeLimit(){return{begin:{},focus:{},end:{}}},l={$1:"!",$2:"?",$3:"!!",$4:"??",$5:"!?",$6:"?!",$10:"=",$11:"=",$12:"=",$13:"",$14:"",$15:"",$16:"",$17:"",$18:"+-",$19:"-+",$22:"",$23:"",$32:"",$33:"",$36:"",$37:"",$40:"",$41:"",$44:"/=",$45:"=/",$132:"",$133:"",$146:"N"},c=Object(a.b)(l),u={DIAGRAM_EDITOR:"diagram-editor-container"}},"./web/core/api/move-list/context-menu/config.js":function(t,o,r){"use strict";r.d(o,"b",(function(){return p})),r.d(o,"a",(function(){return b})),r.d(o,"e",(function(){return g})),r.d(o,"c",(function(){return _})),r.d(o,"d",(function(){return v})),r.d(o,"g",(function(){return y})),r.d(o,"f",(function(){return w})),r.d(o,"h",(function(){return j}));var a,i,l,c=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),u=r.n(c),d=r("./web/core/api/move-list/config.js"),m=r("./utils/translator.js"),p={AFTER:"after",BEFORE:"before"},b={ADD_ANNOTATION:"addAnnotation",ADD_EVAL_NOTATION:"addEvalNotation",CLEAR_ANALYSIS:"clearAnalysis",CREATE_CONTINUATION:"createContinuation",CREATE_VARIATION:"createVariation",DELETE_COMMENT:"deleteComment",DELETE_LINE:"deleteLine",DELETE_MOVE:"deleteMove",INSERT_COMMENT:"insertComment",MOVE_VARIATION_DOWN:"moveVariationDown",MOVE_VARIATION:"moveVariation",PROMOTE_VARIATION:"promoteVariation",REMOVE_ANNOTATION:"removeAnnotation",REMOVE_BEGIN:"removeBegin",REMOVE_END:"removeEnd",REMOVE_EVAL_ANNOTATION:"removeEvalAnnotation",REMOVE_FOCUS:"removeFocus",SET_BEGIN:"setBegin",SET_END:"setEnd",SET_FOCUS:"setFocus",UPDATE_COMMENT:"updateComment"},g={CLEAR_ANALYSIS:"clear-analysis-on-confirm"},h=[{code:"$1",display:d.c.$1,meaning:m.a.trans("Good move"),action:b.ADD_ANNOTATION},{code:"$2",display:d.c.$2,meaning:m.a.trans("Bad move"),action:b.ADD_ANNOTATION},{code:"$3",display:d.c.$3,meaning:m.a.trans("Excellent move"),action:b.ADD_ANNOTATION},{code:"$4",display:d.c.$4,meaning:m.a.trans("Blunder"),action:b.ADD_ANNOTATION},{code:"$5",display:d.c.$5,meaning:m.a.trans("Speculative move"),action:b.ADD_ANNOTATION},{code:"$6",display:d.c.$6,meaning:m.a.trans("Dubious move"),action:b.ADD_ANNOTATION},{code:"$10",display:d.c.$10,meaning:m.a.trans("Drawish"),action:b.ADD_EVAL_NOTATION},{code:"$13",display:d.c.$13,meaning:m.a.trans("Unclear"),action:b.ADD_EVAL_NOTATION},{code:"$14",display:d.c.$14,meaning:m.a.trans("White has a slight advantage"),action:b.ADD_EVAL_NOTATION},{code:"$15",display:d.c.$15,meaning:m.a.trans("Black has a slight advantage"),action:b.ADD_EVAL_NOTATION},{code:"$16",display:d.c.$16,meaning:m.a.trans("White has a moderate advantage"),action:b.ADD_EVAL_NOTATION},{code:"$17",display:d.c.$17,meaning:m.a.trans("Black has a moderate advantage"),action:b.ADD_EVAL_NOTATION},{code:"$18",display:d.c.$18,meaning:m.a.trans("White has a decisive advantage"),action:b.ADD_EVAL_NOTATION},{code:"$19",display:d.c.$19,meaning:m.a.trans("Black has a decisive advantage"),action:b.ADD_EVAL_NOTATION},{code:"$22",display:d.c.$22,meaning:m.a.trans("The position is in zugzwang"),action:b.ADD_EVAL_NOTATION},{code:"$146",display:d.c.$146,meaning:m.a.trans("Novelty"),action:b.ADD_EVAL_NOTATION}],_={CLEAR_ALL_ANALYSIS:{name:m.a.trans("Clear All Analysis"),action:b.CLEAR_ANALYSIS},CREATE_CONTINUATION:{name:m.a.trans("Insert Continuation"),action:b.CREATE_CONTINUATION},CREATE_VARIATION:{name:m.a.trans("Insert Alternate Line"),action:b.CREATE_VARIATION},DELETE_COMMENT_AFTER:{name:m.a.trans("Delete Comment After"),action:b.DELETE_COMMENT,position:p.AFTER},DELETE_COMMENT_BEFORE:{name:m.a.trans("Delete Comment Before"),action:b.DELETE_COMMENT,position:p.BEFORE},DELETE_LINE:{name:m.a.trans("Delete Entire Variation"),action:b.DELETE_LINE},DELETE_MOVE:{name:m.a.trans("Delete Move"),action:b.DELETE_MOVE},INSERT_COMMENT_AFTER:{name:m.a.trans("Comment After"),action:b.INSERT_COMMENT,position:p.AFTER},INSERT_COMMENT_BEFORE:{name:m.a.trans("Comment Before"),action:b.INSERT_COMMENT,position:p.BEFORE},MOVE_VARIATION_DOWN:{name:m.a.trans("Move Variation Down"),action:b.MOVE_VARIATION_DOWN},MOVE_VARIATION_UP:{name:m.a.trans("Move Variation Up"),action:b.MOVE_VARIATION},PROMOTE_VARIATION:{name:m.a.trans("Promote"),action:b.PROMOTE_VARIATION},REMOVE_ANNOTATION:{name:m.a.trans("Remove Annotation"),action:b.REMOVE_ANNOTATION},REMOVE_BEGIN:{name:m.a.trans("Remove Begin"),action:b.REMOVE_BEGIN},REMOVE_END:{name:m.a.trans("Remove End"),action:b.REMOVE_END},REMOVE_EVAL_ANNOTATION:{name:m.a.trans("Remove Evaluation Annotation"),action:b.REMOVE_EVAL_ANNOTATION},REMOVE_FOCUS:{name:m.a.trans("Remove Focus"),action:b.REMOVE_FOCUS},SET_BEGIN:{name:m.a.trans("Set Begin"),action:b.SET_BEGIN},SET_END:{name:m.a.trans("Set End"),action:b.SET_END},SET_FOCUS:{name:m.a.trans("Set Focus"),action:b.SET_FOCUS}},v=[b.SET_BEGIN,b.SET_END,b.SET_FOCUS,b.REMOVE_BEGIN,b.REMOVE_END,b.REMOVE_FOCUS],y={BEGIN:"begin",END:"end",FOCUS:"focus"},w={SET:(a={},u()(a,b.SET_BEGIN,y.BEGIN),u()(a,b.SET_END,y.END),u()(a,b.SET_FOCUS,y.FOCUS),a),REMOVE:(i={},u()(i,b.REMOVE_BEGIN,y.BEGIN),u()(i,b.REMOVE_END,y.END),u()(i,b.REMOVE_FOCUS,y.FOCUS),i)},j=(l=[],h.forEach((function(t){var o=l[l.length-1]||null;o&&4!==o.length?o.push(t):l.push([t])})),l)},"./web/core/api/move-list/move-list.js":function(t,o,r){"use strict";r.r(o),r.d(o,"nodeProps",(function(){return c}));var a=r("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),i=r.n(a),l=r("./chessboard/src/game/line.js"),c=["additionalAnnotation","annotation","arrows","color","comment","commentBefore","fen","flags","from","ids","lines","moveNumber","piece","previous","promotion","san","time","to"];o.default=function moveList(){var t,o={lines:[]};return{state:o,updateLines:function updateLines(r){o.lines=i()(r),(r||[]).forEach((function(a,i){t=l.a.isContinuation(r,a.id),o.lines[i]=a.map((function(o){var r={};return c.forEach((function(t){void 0!==o[t]&&(r[t]=o[t])})),t&&0===o.ids.move&&(r.commentBefore=a.initComment),r})),o.lines[i].atMoveNode=a.atMoveNode,o.lines[i].id=a.id,o.lines[i].parentId=a.parentId}))}}}()},"./web/core/api/navigation/bus.js":function(t,o,r){"use strict";var a=r("./web/core/api/navigation/config/refs.js"),i={expanded:null===document.querySelector("".concat(a.a.SIDEBAR,".").concat(a.a.SIDEBAR_COLLAPSED)),forcedOpen:!1,isLive:"/live"===window.location.pathname.substr(0,5),isLiveElement:document.querySelector("#live-app"),isVisible:!0,isWide:"en-US"!==document.documentElement.getAttribute("lang"),position:"horizontal",showingSecondary:null};o.a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=[],r=function emit(r,a){o.filter((function(t){return t.type===r})).forEach((function(o){return o.handler(t,a)}))},a=function on(t,r){return o.push({type:t,handler:r}),o},i=function off(t){return-1!==o.findIndex((function(o){return o.type===t.type&&o.handler===t.handler}))&&o.splice(o,1),o};return{emit:r,off:i,on:a,state:t,subscriptions:o}}(i)},"./web/core/api/navigation/config/refs.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a})),r.d(o,"b",(function(){return i}));var a={AUTHENTICATE:"navigation-sidebar-authenticate-component",AUTHENTICATE_COLLAPSED:"navigation-sidebar-authenticate-collapsed",BADGE_HOME:"navigation-sidebar-home-badge",BADGE_INDEX:"navigation-sidebar-index-badge",BADGE_MESSAGES:"navigation-sidebar-messages-badge",BADGE_PLAY:"navigation-sidebar-play-badge",BOTTOM_LINK_EXPAND_COLLAPSE:"navigation-sidebar-expand-collapse-feature",BOTTOM_LINK_HELP:"navigation-sidebar-help-feature",BOTTOM_LINK_SEARCH:"navigation-sidebar-search-feature",BOTTOM_LINK_SETTINGS:"navigation-settings-link",BOTTOM_LINK_TOP_MENU:"navigation-toggle",DAILY_TIME_CONTROLS_BUTTON:"navigation-sidebar-play-button",HELP_POPOVER:"navigation-popover-help-component navigation-sidebar-feature-popover-help",LINK:"navigation-sidebar-category-component",LINK_HOME:"navigation-sidebar-home-category",LINK_INDEX:"navigation-sidebar-index-category",LINK_LEARN:"navigation-sidebar-learn-category",LINK_PLAY:"navigation-sidebar-play-category",LINK_SHARE:"navigation-sidebar-share-category",LOGO:"navigation-sidebar-primary-logo",LOGO_COLLAPSED:"navigation-sidebar-logo-collapsed",NAV_CLOSE_ICON:"nav-close-icon",NAV_OPEN_ICON:"nav-open-icon",NOTIFICATIONS_PANEL_CATCHMENT:"navigation-sidebar-notifications-catchment",SEARCH_BUTTON:"navigation-search-link",SEARCH_POPOVER:"navigation-sidebar-feature-popover-search",SECONDARY:"navigation-sidebar-secondary-component",SECONDARY_ACTIVE:"navigation-sidebar-secondary-active",SECONDARY_COLLAPSED:"navigation-sidebar-secondary-collapsed",SECONDARY_CONTROLS_SHOW:"navigation-sidebar-play-show",SECONDARY_DAILY_TIME_CONTROLS:"navigation-sidebar-play-daily",SECONDARY_ELEMENT:"navigation-sidebar-secondary-element",SECONDARY_LINK_DAILY:"navigation-secondary-dailychess",SECONDARY_LINK_LIVE:"navigation-secondary-livechess",SECONDARY_LIVE_TIME_CONTROLS:"navigation-sidebar-play-live",SECONDARY_NAVIGATION:"navigation-sidebar-secondary-navigation",SECONDARY_PANEL_HOME:"navigation-sidebar-home-component",SECONDARY_PANEL_LEARN:"navigation-sidebar-learn-component",SECONDARY_PANEL_NOTIFICATIONS:"navigation-sidebar-notifications-component",SECONDARY_PANEL_PLAY:"navigation-sidebar-play-component",SECONDARY_PANEL_SHARE:"navigation-sidebar-share-component",SECONDARY_WIDE:"navigation-sidebar-secondary-wide",SIDEBAR:"#sb",SIDEBAR_CATEGORIES_COLLAPSED:"navigation-sidebar-categories-collapsed",SIDEBAR_CATEGORY:"navigation-sidebar-category-component",SIDEBAR_CATEGORY_COLLAPSED:"navigation-sidebar-category-collapsed",SIDEBAR_COLLAPSED:"collapsed",SIDEBAR_FEATURE:"navigation-sidebar-feature-component",SIDEBAR_FEATURE_COLLAPSED:"navigation-sidebar-feature-collapsed",SIDEBAR_FEATURES:"navigation-sidebar-features-component",SIDEBAR_FEATURES_COLLAPSED:"navigation-sidebar-features-collapsed",SIDEBAR_FORCED_OPEN:"navigation-sidebar-open",SIDEBAR_GAMES:"navigations-sidebar-games",SIDEBAR_INTERNATIONAL:"nav-sidebar-wide",SIDEBAR_LINKS:"navigation-sidebar-primary-top",TIME_CONTROLS:"navigation-sidebar-play-daily",TV_COMPONENT:"navigation-sidebar-category-component navigation-sidebar-categories-watch",TV_ELEMENT:"chesstv",TV_EXCLAM:"navigation-sidebar-categories-exclamation",TV_POPOVER:"navigation-popover-watch-component navigation-sidebar-categories-popover-watch"},i={DAILY_TIME_CONTROLS_HEADER:"daily-time-controls-header",DAILY_TIME_CONTROLS_SIDEBAR:"daily-time-controls-sidebar",LANGUAGE_PICKER_MODAL:"language-picker-modal",LIVE_TIME_CONTROLS_HEADER:"live-time-controls-header",LIVE_TIME_CONTROLS_SIDEBAR:"live-time-controls-sidebar",MOBILE_NAV_TOGGLE:"mobile-nav-toggle",MODAL_VIDEO:"modal-video",KEYBOARD_NAVIGATION_IN_USE:"keyboard-navigation-in-use"}},"./web/core/api/position/helper.js":function(t,o,r){"use strict";r.d(o,"b",(function(){return d})),r.d(o,"a",(function(){return m})),r.d(o,"c",(function(){return p})),r.d(o,"d",(function(){return b}));var a=r("./web/core/api/position/is-rtl.js"),i="top",l="right",c="bottom",u="left",d=function getUserPopoverPosition(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:172,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,a={top:null,left:null,right:null,x:null,y:null},d=24,m=28,p=d/2,b=t.width/2,g=window,h=t.bottom+o<g.innerHeight,_=r-m-p,v=r-_,y=t.left+b+_<g.innerWidth;return h?(a.top=t.bottom,a.y=c):(a.top=t.top-o,a.y=i),y?(a.left=t.left+b-v,a.right=window.innerWidth-t.right,a.x=l):(a.left=t.left+b-_,a.right=window.innerWidth-t.right,a.x=u),a.top=Math.round(a.top),a.left=Math.round(a.left),a.right=Math.round(a.right),a},m=function getPosition(t,o,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t||!o)return null;var d=t.getBoundingClientRect(),m={},p=window.innerWidth-d.x,b=function canFitTop(){return d.top-(o.clientHeight+a)>0},g=function canFitBottom(){return d.bottom+o.clientHeight+a<window.innerHeight},h=function canFitLeft(){return d.left-(o.clientWidth+a)>0},_=function canFitRight(){return d.right+o.clientWidth+a<window.innerWidth};return r===i&&b()||r===c&&!g()?(m.left=d.left-(o.clientWidth-d.width)/2,m.rtlLeft=p-o.clientWidth/2-d.width/2,m.top=d.top-o.clientHeight-a,m.placement=i):r===c||r===i&&!b()?(m.left=d.left-(o.clientWidth-d.width)/2,m.rtlLeft=p-o.clientWidth/2-d.width/2,m.top=d.bottom+a,m.placement=c):r===u&&h()||r===l&&!_()?(m.left=d.left-o.clientWidth-a,m.rtlLeft=d.rtlLeft-o.clientWidth-a,m.top=d.top-(o.clientHeight-d.height)/2,m.placement=u):(r===l||r===u&&!h())&&(m.left=d.right+a,m.rtlLeft=d.rtlLeft+a,m.top=d.top-(o.clientHeight-d.height)/2,m.placement=l),{left:Math.round(m.left),placement:m.placement,rtlLeft:Math.round(m.rtlLeft),top:Math.round(m.top)}},p=function positionTooltip(t,o,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;if(!t||!o)return null;var l=m(t,o,r,i);return Object(a.a)()?o.style.transform="translate(-".concat(l.rtlLeft,"px, ").concat(l.top,"px)"):o.style.transform="translate(".concat(l.left,"px, ").concat(l.top,"px)"),o.classList.add(l.placement),o},b=function removePositionStyle(t){return t?(t.style.transform="translate(-100%, -100%)",t.classList.remove(u,l,c,i),t):null}},"./web/core/api/position/is-rtl.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return a}));var a=function isRtl(){return"rtl"===document.querySelector("html").getAttribute("dir")}},"./web/core/api/trophies/config.ts":function(t,o,r){"use strict";o.a={modalStates:{select:"select",send:"send",sent:"sent"},types:{game:"game",social:"social"}}},"./web/core/api/user/config.js":function(t,o,r){"use strict";r.d(o,"c",(function(){return m})),r.d(o,"d",(function(){return p})),r.d(o,"b",(function(){return b})),r.d(o,"a",(function(){return g})),r.d(o,"l",(function(){return h})),r.d(o,"n",(function(){return _})),r.d(o,"o",(function(){return v})),r.d(o,"i",(function(){return y})),r.d(o,"j",(function(){return w})),r.d(o,"k",(function(){return j})),r.d(o,"f",(function(){return O})),r.d(o,"h",(function(){return S})),r.d(o,"g",(function(){return k})),r.d(o,"e",(function(){return C})),r.d(o,"m",(function(){return P}));var a,i,l=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=r.n(l),u=r("./utils/router.js"),d=r("./utils/translator.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var m={CAN_EDIT_FLAIR:"data-can-edit-flair",IS_ENABLED:"data-is-enabled",MEMBERSHIP_LEVEL:"data-membership-level",USERNAME:"data-username",USER_ID:"data-user-id"},p={REPORT_USER:"web_user_callback_report_user",REPORT_TV_USER:"web_tv_callback_report",USER_POPUP:"web_user_callback_popup"},b=(d.a.trans("Membership Icons"),d.a.trans("Emoji"),d.a.trans("Chess"),d.a.trans("Holiday"),d.a.trans("Hosts"),d.a.trans("Computer Chess"),d.a.trans("PRO Chess League"),{category:"membership_icons",code:"nothing",description:d.a.trans("Nothing"),id:206,imageCode:"nothing",membershipLevelCode:"staff",name:d.a.trans("Nothing"),status:""}),g=["blocked","clear","clear_light"],h={USER_FLAIR:"user-flair",USER_SEARCH:"user-search",USER_POPOVER_CONTAINER:"user-popover"},_={about:function about(){return u.a.generate("web_about")},membership:function membership(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"icon";return u.a.generate("web_membership",{c:t})},usernameSearch:function usernameSearch(t){return u.a.generate("web_user_callback_username_search",function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){c()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({activeDays:4e3},t))}},v={acceptFriendRequest:d.a.trans("Accept Friend Request"),addFriend:d.a.trans("Add Friend"),block:d.a.trans("Block"),blockConfirm:d.a.trans("Are you sure you want to block this user?"),cancel:d.a.trans("Cancel"),cancelFriendRequest:d.a.trans("Cancel Friend Request"),challenge:d.a.trans("Challenge"),follow:d.a.trans("Follow"),gameArchive:d.a.trans("Game Archive"),giftMembership:d.a.trans("Gift Membership"),giveTrophy:d.a.trans("Give Award"),joinedDate:function joinedDate(t){return d.a.trans("Joined %1$s%",{"%1$s%":t})},lastOnline:function lastOnline(t){return d.a.trans("Online %1$s%",{"%1$s%":t})},moderator:d.a.trans("Moderator"),onlineNow:d.a.trans("Online Now"),inLiveNow:d.a.trans("In Live"),removeFriend:d.a.trans("Remove Friend"),removeFriendConfirm:d.a.trans("Are you sure you want to remove this friend from your list?"),report:d.a.trans("Report"),reportUser:function reportUser(t){return d.a.trans("Report %username%",{"%username%":t})},sendMessage:d.a.trans("Send Message"),showYourFlair:d.a.trans("Show your flair!"),staff:d.a.trans("Staff"),unblock:d.a.trans("Unblock"),unfollow:d.a.trans("Unfollow"),userReportError:d.a.trans("Tell us more...")},y={cheater:5,abuser:6,voluntarilyClosed:7,unspecifiedClosed:8,basic:10,silver:20,gold:30,platinum:40,diamond:50,moderator:80,staff:90},w=(a={},c()(a,y.diamond,"diamond"),c()(a,y.abuser,"abuser"),c()(a,y.cheater,"cheater"),c()(a,y.voluntarilyClosed,"inactive"),c()(a,y.unspecifiedClosed,"cheater"),c()(a,y.gold,"gold"),c()(a,y.moderator,"pawn-blue"),c()(a,y.platinum,"platinum"),c()(a,y.staff,"pawn-green"),a),j=(i={},c()(i,y.basic,d.a.trans("Basic Membership")),c()(i,y.diamond,d.a.trans("Diamond Membership")),c()(i,y.cheater,d.a.trans("Closed: Fair Play")),c()(i,y.abuser,d.a.trans("Closed: Abuse")),c()(i,y.voluntarilyClosed,d.a.trans("Closed: Inactive")),c()(i,y.unspecifiedClosed,d.a.trans("Account Closed")),c()(i,y.gold,d.a.trans("Gold Membership")),c()(i,y.moderator,d.a.trans("Moderator Account")),c()(i,y.platinum,d.a.trans("Platinum Membership")),c()(i,y.silver,d.a.trans("Silver Membership")),c()(i,y.staff,d.a.trans("Staff Account")),i),O={GM:d.a.trans("Grandmaster"),WGM:d.a.trans("Woman Grandmaster"),IM:d.a.trans("International Master"),WIM:d.a.trans("Woman International Master"),FM:d.a.trans("FIDE Master"),WFM:d.a.trans("Woman FIDE Master"),NM:d.a.trans("National Master"),CM:d.a.trans("FIDE Candidate Master"),WCM:d.a.trans("FIDE Woman Candidate Master"),WNM:d.a.trans("Woman National Master")},S=function isOnline(t){return!0===t||"online"===t},k=function isLive(t){return"onlive"===t},C={AUTOCOMPLETE_CLEAR_SELECTED:"form-autocomplete-clear-selected"},P={FETCH_ROLES:"fetchRoles"}},"./web/core/api/user/helper.js":function(t,o,r){"use strict";r.d(o,"f",(function(){return u})),r.d(o,"e",(function(){return d})),r.d(o,"d",(function(){return m})),r.d(o,"a",(function(){return p})),r.d(o,"b",(function(){return b})),r.d(o,"c",(function(){return g}));var a=r("./utils/is-2fa.js"),i=(r("./utils/router.js"),r("./utils/dark-mode.ts")),l=r("./web/core/api/user/config.js"),c=window.context,u=function isLoggedIn(){return!(!c||!c.user||Object(a.a)())},d=function isImpersonating(){return!(!u()||!c.user.isImpersonating)},m=function isGuest(){var t;return null==c||null===(t=c.user)||void 0===t?void 0:t.isGuest},p=function checkUserStatus(t){if(!u())return!1;var o=!1;switch(t){case"isActivated":o=c.user.isActivated;break;case"isStaff":o=c.user.membershipLevel>=l.i.staff;break;case"isStaffOnly":o=c.user.membershipLevel===l.i.staff;break;case"isModerator":o=c.user.membershipLevel>=l.i.moderator;break;case"isModeratorOnly":o=c.user.membershipLevel===l.i.moderator;break;case"isDiamond":o=c.user.membershipLevel>=l.i.diamond;break;case"isDiamondOnly":o=c.user.membershipLevel===l.i.diamond;break;case"isPlatinum":o=c.user.membershipLevel>=l.i.platinum;break;case"isPlatinumOnly":o=c.user.membershipLevel===l.i.platinum;break;case"isSilver":o=c.user.membershipLevel>=l.i.silver;break;case"isSilverOnly":o=c.user.membershipLevel===l.i.silver;break;case"isGold":o=c.user.membershipLevel>=l.i.gold;break;case"isGoldOnly":o=c.user.membershipLevel===l.i.gold;break;case"isPremium":o=c.user.membershipLevel>=l.i.silver;break;case"isBasic":o=c.user.membershipLevel===l.i.basic;break;case"isNewlyRegistered":o=c.user.isNewlyRegistered;break;case"isGuest":o=c.user.isGuest;break;case"chessTitle":o=c.user.chessTitle;break;default:o=!1}return o},b=function getAdditionalUserInfo(t){var o=!1;if(!u()){switch(t){case"diagramSettings":o={};break;case"isDarkMode":o=Object(i.a)();break;default:o=null}return o}switch(t){case"cohort":o=c.user.cohort;break;case"flairCode":o=c.user.flairCode;break;case"getUserId":o=c.user.id;break;case"getUsername":o=c.user.username;break;case"getAvatarUrl":o=c.user.avatarUrl;break;case"getAvatarLargeUrl":o=c.user.avatarLargeUrl;break;case"getSettingsAvatarUrl":o=c.user.settingsAvatarUrl;break;case"getLastLoginDate":o=c.user.lastLoginDate;break;case"registerDate":o=c.user.registerDate;break;case"getBrowserTimezone":o=window.jstz.determine().name();break;case"getTimezone":o=c.user.timezone;break;case"getDiagramSettings":o=c.diagramSettings;break;case"language":o=c.i18n.locale;break;case"contentLanguage":o=c.i18n.contentLanguage;break;case"speaksEnglish":o="en_US"===c.i18n.locale;break;case"eligibleFirstTrial":o=c.user.eligibleFirstTrial;break;case"fairPlayAgree":o=c.user.fairPlayAgree;break;case"getArchiveView":o=c.user.archiveView?c.user.archiveView:"grid";break;case"homeContentType":o="following";break;case"getMembershipLevel":o=c.user.membershipLevel;break;case"isClassicTheme":o=c.user.isClassicTheme;break;case"isContentHidden":o=c.user.isContentHidden;break;case"isDarkMode":o=Object(i.a)();break;case"safeMode":o=c.user.safeMode;break;case"uuid":o=c.user.uuid;break;default:o=!1}return o},g=function getMembershipNumber(t,o){return!o&&t>=l.i.basic?l.i.unspecifiedClosed:t}},"./web/core/api/user/helpers/show-upgrade-modal.ts":function(t,o,r){"use strict";r.d(o,"a",(function(){return l}));var a=r("./core/navigation/api/config.js"),i=r("./utils/window/post-message.ts"),l=function showUpgradeModal(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(i.a)({key:a.b.SHOW_UPGRADE_MODAL,payload:t})}},"./web/core/base/boot/user.js":function(t,o,r){"use strict";var a=r("./web/core/api/user/config.js"),i=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=r.n(i),c="chessComAppState",u=r("./utils/cache/service.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){l()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var d=["id","enabled","allowMarkings","captureKeyStrokes","fadeSetup","fetched","flipBoard","highlightColor","highlightOpacity","overlayInAnalysisMode"],m={getBoardOptions:function getBoardOptions(){var t=JSON.parse(u.default.get(c)),o=Object.assign({},t&&t.board&&t.board.boardOptions);return d.forEach((function(t){delete o[t]})),o.highlightColor=void 0,o},setBoardOptions:function setBoardOptions(t){var o=JSON.parse(u.default.get(c));o&&o.board&&o.board.boardOptions?Object.assign(o.board.boardOptions,_objectSpread({},t)):o={board:{boardOptions:_objectSpread({},t)}};d.forEach((function(t){delete o.board.boardOptions[t]})),u.default.set(c,JSON.stringify(o))}};var p=r("./node_modules/@babel/runtime/regenerator/index.js"),b=r.n(p),g=r("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),h=r.n(g),_=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),v=r.n(_);function createApproveFriendRequest(t){return function approveFriendRequest(o){var r=t.actionQueue,a=t.http,i=t.Router;return r.add(a.put,i.generate("web_friend_accept_request_callback",{user:o}))}}function createAddFriend(t){return function addFriend(o){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=t.actionQueue,i=t.http,l=t.Router,c={user:o};return r&&(c.recommendation=1),a.add(i.post,l.generate("web_friend_request_callback",c))}}function createBlockUser(t){return function blockUser(o){var r=t.actionQueue,a=t.CSRFToken,i=t.http,l=t.Router;return r.add(i.post,l.generate("web_member_callback_block_member",{username:o}),{_token:a})}}function createCancelFriendRequest(t){return function cancelFriendRequest(o){var r=t.actionQueue,a=t.http,i=t.Router;return r.add(a.post,i.generate("web_friend_cancel_request_callback",{user:o}))}}function createCheckMembershipStatus(t){return function checkMembershipStatus(o){var r=t.membership,a=t.service,i=t.user;if(!a.isLoggedIn())return!1;var l=!1;switch(o){case"isActivated":l=i.isActivated;break;case"isStaff":l=i.membershipLevel>=r.staff;break;case"isStaffOnly":l=i.membershipLevel===r.staff;break;case"isModerator":l=i.membershipLevel>=r.moderator;break;case"isModeratorOnly":l=i.membershipLevel===r.moderator;break;case"isDiamond":l=i.membershipLevel>=r.diamond;break;case"isDiamondOnly":l=i.membershipLevel===r.diamond;break;case"isPlatinum":l=i.membershipLevel>=r.platinum;break;case"isPlatinumOnly":l=i.membershipLevel===r.platinum;break;case"isSilver":l=i.membershipLevel>=r.silver;break;case"isSilverOnly":l=i.membershipLevel===r.silver;break;case"isGold":l=i.membershipLevel>=r.gold;break;case"isGoldOnly":l=i.membershipLevel===r.gold;break;case"isPremium":l=i.membershipLevel>=r.silver;break;case"isBasic":l=i.membershipLevel===r.basic;break;default:l=!1}return l}}function createCheckValidUsername(t){return function checkValidUsername(o){var r=t.http,a=t.Router;return r.get(a.generate("web_user_callback_valid_username",{username:o}))}}function createDeclineFriendRequest(t){return function declineFriendRequest(o){var r=t.actionQueue,a=t.http,i=t.Router;return r.add(a.post,i.generate("web_friend_decline_request_callback",{user:o}))}}function createDeleteFriend(t){return function deleteFriend(o){var r=t.actionQueue,a=t.http,i=t.Router;return r.add(a.delete,i.generate("web_friend_delete_callback",{user:o}))}}function createDismissFollowSuggestion(t){return function dismissFollowSuggestion(o){var r=t.actionQueue,a=t.http,i=t.Router;return r.add(a.post,i.generate("web_user_callback_dismiss_follow_suggestion",{username:o}))}}function createEligibleFirstTrial(t){return function EligibleFirstTrial(){var o=t.service,r=t.user;return o.isLoggedIn()&&r.eligibleFirstTrial}}function getDefaultBoardOptions(){return{animationType:"default",boardSize:"auto",boardStyle:"green",coordinates:"inside",darkMode:!0,highlightLegalMoves:!0,highlightMoves:!0,isWhiteOnBottom:!1,moveListDisplayType:"text",moveMethod:"drag",pieceStyle:"neo",playSounds:!0,soundTheme:"default"}}var y=r("./utils/dark-mode.ts"),w=r("./utils/is-2fa.js");function createFetchBoardOptions(t){return function fetchBoardOptions(){var o=t.http,r=t.Router;return Object(w.a)()?Promise.resolve():o.get(r.generate("web_user_callback_get_board_settings")).then(formatResponse).catch(getDefaultBoardOptions)}}function formatResponse(t){var o,r,a=t.data,i=a.animationType,l=a.boardCoords,c=a.boardSize,u=a.colorScheme,d=a.highlightLegalMoves,m=a.highlightMoves,p=a.isWhiteOnBottom,b=a.moveListDisplayType,g=a.moveMethod,h=a.pieceStyle,_=a.playSounds,v=a.soundTheme,w=Object(y.a)();return{animationType:(r=i,"battle"===r?"default":r),boardSize:c,boardStyle:u,coordinates:(o=l,["off","inside","outside"][parseInt(o,10)]),darkMode:w,highlightLegalMoves:"1"===d,highlightMoves:"1"===m,isWhiteOnBottom:p,moveListDisplayType:b,moveMethod:g,pieceStyle:h,playSounds:"1"===_,soundTheme:v}}function createFetchReportReasonsData(t){return function fetchReportReasonsData(){var o=t.http,r=t.Router;return o.get(r.generate("web_user_callback_report_reasons"))}}function createGet(t){return function get(o){var r=t.user;return r?o?r[o]:r:null}}function createGetAvatar(t){return function getAvatar(o){var r=t.http,a=t.Router;return r.get(a.generate("pubapi_player_profile",{username:o}))}}function createGetFollowSuggestions(t){return function getFollowSuggestions(){var o=t.http,r=t.Router;return o.get(r.generate("web_user_callback_follow_suggestions"))}}function createGetFriends(t){return function getFriends(o){var r=t.http,a=t.Router;return r.get(a.generate("web_friend_callback_friends_search",o))}}function createGetOpponents(t){return function getOpponents(){var o=t.http,r=t.Router;return o.get(r.generate("web_user_callback_recent_opponents"))}}function createIsLoggedIn(t){return function isLoggedIn(){var o=t.is2FARoute,r=t.user;return r&&r.id&&!o()}}function createIsEnabled(t){return function isEnabled(){var o=t.service,r=t.user;return o.isLoggedIn()&&r.isEnabled}}function createIsImpersonating(t){return function isImpersonating(){var o=t.service,r=t.user;return o.isLoggedIn()&&r.isImpersonating}}function createGenerateProfileLink(t){return function generateProfileLink(o){var r=t.Router;return o?'<a href="'.concat(r.generate("web_member_view",{username:o}),'" target="_self">').concat(o,"</a>"):""}}var j=function getPromises(){return window.chesscom.promises||(window.chesscom.promises={}),window.chesscom.promises},O=r("./web/core/api/user/helper.js");function createGetRoles(t){return function getRoles(){var o=t.http,r=t.Router;return Object(O.f)()?function execAndCache(t){var o=t.id,r=t.promise,a=j();return a[o]||(a[o]=new Promise((function(t,o){r().then(t).catch(o)}))),a[o]}({id:a.m.FETCH_ROLES,promise:function promise(){return o.get(r.generate("web_security_callback_user_roles"))}}):[]}}function createGetUser(t){return function getUser(o){var r=t.http,a=t.Router;return r.get(a.generate("web_user_callback_popup",{username:o}))}}function createGuestUpdateSkillLevel(t){return function guestUpdateSkillLevel(o){var r=t.http,a=t.Router;return r.post(a.generate("web_guest_update_skill_level"),{skill_level:Number(o)})}}var S=r("./node_modules/@chesscom/web-ui/dist/utils/Queue.js");function createReportUser(t){return function reportUser(o){var r=t.callbacks,a=t.http,i=t.Router;return a.post(i.generate(r.REPORT_USER),{abuser_username:o.username,reason_id:o.picked,other_reason:o.otherReason,block_user:o.blockUser,reporter_url:window.location.href})}}var k={animationType:"web_user_game_settings_email_callback_animation_type",boardStyle:"web_user_game_settings_email_callback_board_color",coordinates:"web_user_game_settings_email_callback_coordinates",darkMode:"web_user_game_settings_callback_dark_mode_toggle",highlightLegalMoves:"web_user_game_settings_email_callback_show_legal_moves_toggle",highlightMoves:"web_user_game_settings_email_callback_highlight_last_move_toggle",moveListDisplayType:"web_user_game_settings_email_callback_move_list_display_type",pieceStyle:"web_user_game_settings_email_callback_piece",playSounds:"web_user_game_settings_email_callback_sound_toggle",soundTheme:"web_user_game_settings_email_callback_sound_theme"},C={coordinates:function coordinates(t){return["off","inside","outside"].indexOf(t)}};function save_board_setting_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function save_board_setting_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?save_board_setting_ownKeys(Object(r),!0).forEach((function(o){l()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):save_board_setting_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}function createSaveBoardSetting(t){return function saveBoardSetting(o,r){var a=t.actionQueue,i=t.emitUser,c=t.http,u=t.Router,d=t.service,m=(0,t.update)("boardOptions",save_board_setting_objectSpread(save_board_setting_objectSpread({},d.get().boardOptions),{},l()({},o,r))),p=r;return C[o]&&(p=C[o](r)),a.add(c.post,u.generate(k[o]),{action:p}).then(i).catch((function(){m(),i()}))}}function createSearchUsername(t){return function searchUsername(o){var r=t.http,a=t.routes;return r.get(a.usernameSearch({query:o}))}}function createSet(t){return function set(o,r){var a=t.user;return a?(a[o]=r,a):null}}function createSetArchiveView(t){return function setArchiveView(o){var r=t.emitUser,a=t.http,i=t.Router,l=(0,t.update)("archiveView",o);return a.post(i.generate("web_user_callback_set_archive_view"),{archiveView:o}).then(r).catch((function(){l(),r()}))}}function createSetFairPlayAgree(t){return function setFairPlayAgree(o){var r=t.emitUser,a=t.http,i=t.Router,l=(0,t.update)("fairPlayAgree",o);return a.post(i.generate("web_user_callback_set_fair_play_agree",{fairPlayAgree:o?1:0})).then(r).catch((function(){l(),r()}))}}function createSetHomeContentType(t){return function setHomeContentType(o){var r=t.emitUser,a=t.http,i=t.Router,l=(0,t.update)("homeContentType",o);return a.post(i.generate("web_user_callback_set_home_recent_content_type"),{recentContentType:o}).then(r).catch((function(){l(),r()}))}}function createTrackUser(t){return function trackUser(o){var r=t.actionQueue,a=t.CSRFToken,i=t.http,l=t.Router;return r.add(i.post,l.generate("web_member_callback_track_member",{username:o}),{_token:a})}}function createUnblockUser(t){return function unblockUser(o){var r=t.actionQueue,a=t.CSRFToken,i=t.http,l=t.Router;return r.add(i.post,l.generate("web_member_callback_unblock_member",{username:o}),{_token:a})}}function createUntrackUser(t){return function untrackUser(o){var r=t.actionQueue,a=t.CSRFToken,i=t.http,l=t.Router;return r.add(i.post,l.generate("web_member_callback_untrack_member",{username:o}),{_token:a})}}function service_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}var P={getToken:function getToken(){return window.context&&window.context.csrf&&window.context.csrf.token}};var x=r("./utils/http/index.js"),A=r("./utils/router.js"),T=function createUserService(t){var o=t.cache,r=t.callbacks,i=t.CSRF,c=t.getCurrentUser,u=t.http,d=t.includeBoardOptions,m=void 0!==d&&d,p=t.Router,g=t.routes,_=Object(S.a)(!0),y=function createEventEmitter(){const t=[];return{emit:function emit(o,r){let a;for(a of t)a.type!==o&&"all"!==a.type||a.handler(r)},listeners:t,off:off,offAll:function offAll(t){return off({handler:t,type:"all"})},offMany:function offMany(t=[]){t.forEach((t=>off(t)))},on:on,onAll:function onAll(t){on("all",t)},onMany:function onMany(t=[],o){t.forEach((t=>on(t,o)))}};function off(o){const r=t.findIndex((t=>o.type===t.type&&o.handler===t.handler));-1!==r&&t.splice(r,1)}function on(o,r){const a={handler:r,type:o};t.push(a)}}(),j=function getInitialUser(){var t=c(),r=function getDefaultUser(){var t,o;return{avatarUrl:null===(t=window)||void 0===t||null===(o=t.Config)||void 0===o?void 0:o.noAvatar,archiveView:"grid",boardOptions:{animationType:"default",boardSize:"auto",boardStyle:"green",coordinates:"inside",darkMode:!0,highlightLegalMoves:!0,highlightMoves:!0,isWhiteOnBottom:!1,moveListDisplayType:"text",moveMethod:"drag",pieceStyle:"neo",playSounds:!0,soundTheme:"default"},country:null,features:{},flag:null,friends:[],homeContentType:"following",isLoggedIn:!1,loading:{friends:!1,opponents:!1},membership:null,opponents:[],rating:null,roles:[],username:""}}();if(!t)return r;var a=Object.assign({},r,t);if(!t.isImpersonating){var i=o.getBoardOptions();Object.keys(i).length&&Object.assign(a.boardOptions,function pick(t,o){return o.reduce(((o,r)=>(Object.prototype.hasOwnProperty.call(t,r)&&(o[r]=t[r]),o)),{})}(i,["animationType","boardSize","boardStyle","coordinates","darkMode","highlightLegalMoves","highlightMoves","isWhiteOnBottom","moveListDisplayType","moveMethod","pieceStyle","playSounds","soundTheme"]))}return a}(),O={actionQueue:_,callbacks:r,CSRFToken:i.getToken(),emitUser:emitUser,http:u,is2FARoute:w.a,membership:a.i,Router:p,routes:g,update:function update(t,r){var a=j[t];return j[t]=r,o.setBoardOptions(r),function undo(){j[t]=a,o.setBoardOptions(a)}},user:j},k=function service_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?service_ownKeys(Object(r),!0).forEach((function(o){l()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):service_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}({addFriend:createAddFriend(O),approveFriendRequest:createApproveFriendRequest(O),blockUser:createBlockUser(O),cancelFriendRequest:createCancelFriendRequest(O),checkMembershipStatus:createCheckMembershipStatus(O),checkValidUsername:createCheckValidUsername(O),declineFriendRequest:createDeclineFriendRequest(O),deleteFriend:createDeleteFriend(O),dismissFollowSuggestion:createDismissFollowSuggestion(O),eligibleFirstTrial:createEligibleFirstTrial(O),fetchBoardOptions:m?createFetchBoardOptions(O):void 0,fetchReportReasonsData:createFetchReportReasonsData(O),generateProfileLine:createGenerateProfileLink(O),get:createGet(O),getAvatar:createGetAvatar(O),getFollowSuggestions:createGetFollowSuggestions(O),getFriends:createGetFriends(O),getOpponents:createGetOpponents(O),getRoles:createGetRoles(O),getUser:createGetUser(O),guestUpdateSkillLevel:createGuestUpdateSkillLevel(O),isEnabled:createIsEnabled(O),isImpersonating:createIsImpersonating(O),isLoggedIn:createIsLoggedIn(O),reportUser:createReportUser(O),saveBoardSetting:createSaveBoardSetting(O),searchUsername:createSearchUsername(O),set:createSet(O),setArchiveView:createSetArchiveView(O),setFairPlayAgree:createSetFairPlayAgree(O),setHomeContentType:createSetHomeContentType(O),trackUser:createTrackUser(O),unblockUser:createUnblockUser(O),untrackUser:createUntrackUser(O)},y);return k.saveBoardSettings=function saveBoardSettings(t){Object.entries(t).forEach((function(t){var o=v()(t,2),r=o[0],a=o[1];return k.saveBoardSetting(r,a)}))},function fetchAndApplyBoardOptions(){return _fetchAndApplyBoardOptions.apply(this,arguments)}(),k.acceptFollowSuggestion=k.trackUser,O.service=k,k;function emitUser(t){y.emit(t,j)}function _fetchAndApplyBoardOptions(){return(_fetchAndApplyBoardOptions=h()(b.a.mark((function _callee(){var t;return b.a.wrap((function _callee$(r){for(;;)switch(r.prev=r.next){case 0:if(!k.fetchBoardOptions){r.next=12;break}return r.prev=1,r.next=4,k.fetchBoardOptions();case 4:t=r.sent,k.set("boardOptions",t),o.setBoardOptions(t),emitUser(),r.next=12;break;case 10:r.prev=10,r.t0=r.catch(1);case 12:case"end":return r.stop()}}),_callee,null,[[1,10]])})))).apply(this,arguments)}}({callbacks:a.d,cache:m,CSRF:P,getCurrentUser:function getUserFromContext(){return window.context.user},http:x.default,Router:A.a,routes:a.n});o.a=T},"./web/core/store/helper.js":function(t,o,r){"use strict";r.d(o,"a",(function(){return i})),r.d(o,"b",(function(){return l}));var a=r("./web/core/store/index.js"),i=function registerModules(t){Object.keys(t).forEach((function(o){var r=t[o];a.default.state&&a.default.state[o]||a.default.registerModule(o,r)}))},l=function unregisterModules(t){t.forEach((function(t){a.default.state&&a.default.state[t]&&a.default.unregisterModule(t)}))}},"./web/core/store/index.js":function(t,o,r){t.exports=r("dll-reference vueDLL")("./web/core/store/index.js")},"./web/core/store/modules/trophies/index.js":function(t,o,r){"use strict";var a=r("./utils/html.transformer.js"),i=r("./web/core/api/alerts/config.ts"),l=r("./utils/cache/service.js"),c=r("./utils/http/index.js"),u=r("./utils/router.js"),d=r("./utils/translator.js"),m={getUserTrophies:function getUserTrophies(t,o){var r=t.commit,a=t.dispatch,d={username:o.username,trophyType:o.trophyType};return c.default.get(u.a.generate("web_member_callback_trophy_list",d)).then((function(t){if(t.data)return r("setUserTrophies",t.data),l.default.set("user_trophies",t.data,60),t.data})).catch((function(){var t=i.e.error;a("alerts/create",{type:t,message:i.a.badRequest},{root:!0})}))},getAllTrophies:function getAllTrophies(t,o){var r=t.commit,a=t.dispatch,l=t.state;r("setFinishedLoading",!1);var d=Object.assign({},{type:l.trophyType},o);return c.default.get(u.a.generate("web_callback_get_trophies",d)).then((function(t){t.data&&r("setAllTrophies",t.data)})).catch((function(){var t=i.e.error;a("alerts/create",{type:t,message:i.a.badRequest},{root:!0})}))},getTrophyShowcase:function getTrophyShowcase(t,o){var r=t.commit,a=t.dispatch;return c.default.get(u.a.generate("web_user_trophy_showcase_callback",{username:o})).then((function(t){t.data&&r("setUserShowcaseTrophies",t.data)})).catch((function(){var t=i.e.error;a("alerts/create",{type:t,message:i.a.badRequest},{root:!0})}))},getUserTrophyCount:function getUserTrophyCount(t,o){var r=t.commit,a=t.dispatch;return c.default.get(u.a.generate("web_callback_count_user_trophies",{username:o})).then((function(t){t.data&&r("setUserTrophiesCount",t.data.count)})).catch((function(){var t=i.e.error;a("alerts/create",{type:t,message:i.a.badRequest},{root:!0})}))},featureTrophy:function featureTrophy(t,o){var r=t.dispatch,a=o.trophyId,l=o.featured,m=o.username,p={id:a,featured:l};return c.default.post(u.a.generate("web_feature_trophy_callback",p)).then((function(t){var o=i.e.success,a=function prepAlertMessage(t){var o,r;return null!==(o=null===(r=t.data)||void 0===r?void 0:r.message)&&void 0!==o?o:i.a.badRequest}(t);r("alerts/create",{type:o,message:a},{root:!0}),r("getTrophyShowcase",m)})).catch((function(){var t=i.e.error,o=d.a.trans("Error featuring trophies. Please try again later.");r("alerts/create",{type:t,message:o},{root:!0})}))},sendTrophyToUser:function sendTrophyToUser(t){var o=t.commit,r=t.state,i={username:r.recipientUsername,trophyId:r.selectedTrophy.id,message:Object(a.c)(r.message)};return"number"==typeof r.gameId&&(i[r.isLiveGame?"gameLiveId":"gameId"]=r.gameId),o("disableSendButton",!0),c.default.post(u.a.generate("web_award_trophy_callback",i)).then((function(){o("disableSendButton",!1)})).catch((function(t){return o("setErrorMessage",t.response.data.message),o("disableSendButton",!1),Promise.reject(t)}))}},p={allTrophiesToGive:[],disableSendButton:!1,errorMessage:"",finishedLoadingTrophies:!1,gameId:null,hideShowcase:!1,isLiveGame:!1,message:"",meta:{currentPage:1,morePages:!1},recipientIsFriend:!1,modalState:r("./web/core/api/trophies/config.ts").a.modalStates.select,recipientUsername:null,selectedTrophy:null,trophies:[],trophyType:"social",userShowcaseTrophies:[],userTrophies:[],userTrophyCount:0};o.a={namespaced:!0,actions:m,mutations:{disableSendButton:function disableSendButton(t,o){t.disableSendButton=o},setUserTrophies:function setUserTrophies(t,o){t.userTrophies=o},setAllTrophies:function setAllTrophies(t,o){t.trophies=o.data,t.meta=o.meta,t.allTrophiesToGive=o.data,t.finishedLoadingTrophies=!0},setErrorMessage:function setErrorMessage(t,o){t.errorMessage=o},setFinishedLoading:function setFinishedLoading(t,o){t.finishedLoadingTrophies=o},setGameId:function setGameId(t,o){t.gameId=o},setIsLiveGame:function setIsLiveGame(t,o){t.isLiveGame=o},setMessage:function setMessage(t,o){t.message=o},setModalState:function setModalState(t,o){t.modalState=o},setRecipientIsFriend:function setRecipientIsFriend(t,o){t.recipientIsFriend=o},setRecipientUsername:function setRecipientUsername(t,o){t.recipientUsername=o},setSelectedTrophy:function setSelectedTrophy(t,o){t.selectedTrophy=o},setTrophyType:function setTrophyType(t,o){t.trophyType=o},setUserShowcaseTrophies:function setUserShowcaseTrophies(t,o){t.hideShowcase=0===o.length,t.userShowcaseTrophies=o},setUserTrophiesCount:function setUserTrophiesCount(t,o){t.userTrophyCount=o}},state:p}},"./web/core/views/comments/index.js":function(t,o,r){"use strict";r.r(o);var a=r("./utils/event-hub.js"),i=r("./utils/dom/observer.js"),l=r("./utils/router.js"),c=r("./utils/translator.js"),u={help:l.a.generate("web_help"),login:l.a.generate("web_security_login_and_go",{returnUrl:window.location.href}),member:function member(t){return l.a.generate("web_member_view",{username:t})},register:l.a.generate("web_security_register"),verificationEmail:l.a.generate("web_user_settings_change_email")},d={activate:c.a.trans("You must activate your account to comment."),cancel:c.a.trans("Cancel"),comments:c.a.trans("Comments"),commentsLocked:c.a.trans("Comments are locked"),contact:c.a.trans("If you need help, please contact our "),copyLink:c.a.trans("Copy link"),delete:c.a.trans("Delete"),deleteConfirmation:c.a.trans("Are you sure you want to delete this comment?"),edit:c.a.trans("Edit"),giftMembership:c.a.trans("Give a Gift Membership"),fetching:c.a.trans("Fetching..."),helpAndSupportTeam:c.a.trans("Help and Support team"),login:c.a.trans("Login"),follow:c.a.trans("Follow"),followAlert:c.a.trans("Great! You will be notified when someone leaves a comment."),join:c.a.trans("Join"),no:c.a.trans("No"),or:c.a.trans("or"),post:c.a.trans("Post"),placeholder:c.a.trans("Please be relevant and kind"),processing:c.a.trans("Processing..."),quote:c.a.trans("Quote"),report:c.a.trans("Report"),resendVerificationEmail:c.a.trans("Resend Verification Email"),signUpToComment:c.a.trans("Please Sign Up to comment."),spamConfirmation:c.a.trans("Are you sure you want to mark this as spam?"),unfollowAlert:c.a.trans("Received! You will no longer receive alerts when someones leaves a comment."),update:c.a.trans("Update"),verifyYourAccount:c.a.trans("Please click on the link in your email to verify your account."),yes:c.a.trans("Yes")},m="comment-",p="comments-component",b="view-comments",g={default:0,editing:1,quoting:2,fetching:3,processing:4},h=["first_comment","last_comment","comment","first_new_comment"],_=r("./node_modules/@babel/runtime/helpers/slicedToArray.js"),v=r.n(_),y=r("./utils/i18n.js"),w=r("./utils/string.js"),j=function generateThreadId(t,o){return"".concat(o,"-").concat(t)},O=function hasUserPopover(t){return/v-user-popover/g.test(t)},S=function transformCommentBody(t){var o=t;return O(t)&&(o=function transformCommentBodyUserPopover(t){return t.replace(/<span[^>]+data-username="([a-z0-9_-]{3,20})">(\s[@]\1)<\/span>/gi,(function(t,o,r){return'<a href="'.concat(u.member(o),'" class="v-user-popover username" v-user-popover="\'').concat(o,"'\">").concat(r,"</a>")}))}(t)),o},k=function transformComment(t,o){return{id:t.id,threadId:o,body:S(t.body),createdAt:t.created_at,createdAtRelative:y.a.relative(t.created_at),createDate:t.create_date,lastDate:t.last_date,author:{avatarUrl:t.avatar_url,country:t.country,countryId:t.country_id,flairCode:t.authorFlairCode,id:t.user_id,membership:t.membership_code,username:t.username,chessTitle:t.chess_title},user:{canDelete:t.user_can_delete,canEdit:t.user_can_edit,canReceiveGift:t.user_can_receive_gift,isEnabled:t.user_is_enabled,isGroupAdmin:t.is_author_group_admin,isGroupSuperAdmin:t.is_author_group_super_admin}}},C=function getScrollToElement(){var t=window.location.hash;if(t&&t.length>0){var o=t.slice(1).split("&").reduce((function(t,o){var r=o.split("="),a=v()(r,1)[0];return-1!==h.indexOf(a)&&t.push(a),t}),[]);if(o.length>0)return o[0]}return null},P=function scrollToElement(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,o=C(),r=document.getElementById(o);if(r)r.scrollIntoView();else{if(t>=4)return;setTimeout((function(){scrollToElement(t+1)}),250)}},x=r("./utils/lazy-vue/index.js"),A=r("./utils/component.js"),T=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),L=r.n(T),I=r("./node_modules/vuex/dist/vuex.esm.js"),M=r("./utils/html.transformer.js"),R=r("./web/membership/config/index.js"),D=r("./web/core/api/alerts/config.ts"),N=r("./web/core/api/diagram-editor/helpers.js"),$=r("./web/core/api/navigation/bus.js"),B={name:"CommentFollow",components:{FormCheckbox:r("./ui/components/forms/form-checkbox.vue").a},props:{followThread:{type:Function,required:!0},isFollowing:{type:Boolean,required:!0},unfollowThread:{type:Function,required:!0}},data:function data(){return{translations:d}},methods:{handleCheckbox:function handleCheckbox(t){t?this.followThread():this.unfollowThread()}}},U=r("./ui/components/comments/comment-follow.vue?vue&type=style&index=0&lang=scss&module=true&"),q=r("./node_modules/vue-loader/lib/runtime/componentNormalizer.js");var G=Object(q.a)(B,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("form-checkbox",{class:t.$style.component,attrs:{"light-mode":"",name:"comments-follow",label:t.translations.follow,value:t.isFollowing},on:{input:t.handleCheckbox}})}),[],!1,(function injectStyles(t){this.$style=U.default.locals||U.default}),null,null).exports,V=r("./node_modules/@chesscom/web-ui/dist/ui/vue/index.js"),H={name:"CommentFormGuest",components:{V5Button:V.V5Button},data:function data(){return{routes:u,translations:d}}},z=r("./ui/components/comments/comment-form-guest.vue?vue&type=style&index=0&lang=scss&module=true&");var K,W=Object(q.a)(H,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[r("v5-button",{class:t.$style.btn,attrs:{size:"small",theme:"primary",href:t.routes.login}},[t._v("\n    "+t._s(t.translations.login)+"\n  ")]),t._v(" "),r("span",[t._v(t._s(t.translations.or))]),t._v(" "),r("v5-button",{class:t.$style.btn,attrs:{size:"small",theme:"primary",href:t.routes.register}},[t._v("\n    "+t._s(t.translations.join)+"\n  ")])],1)}),[],!1,(function comment_form_guest_injectStyles(t){this.$style=z.default.locals||z.default}),null,null).exports,Y={facebook:l.a.generate("web_security_login_facebook"),forgotPassword:l.a.generate("web_security_forgot"),formParams:function formParams(t){return l.a.generate("web_security_register_form",t)},google:l.a.generate("web_security_login_google"),guestLogin:l.a.generate("web_guest_login",{_locale:null===(K=window.context)||void 0===K?void 0:K.locale,returnUrl:window.location.href}),policiesPrivacy:l.a.generate("web_policies_privacy"),termsOfService:l.a.generate("web_policies_agreement"),register:l.a.generate("web_security_register"),registerProcess:function registerProcess(t){return l.a.generate("web_security_process",t)},login:l.a.generate("web_security_login_check")},Q=(c.a.trans("Facebook"),c.a.trans("Forgot Password?"),c.a.trans("Google"),c.a.trans("or"),c.a.trans("or log In"),c.a.trans("Log In"),c.a.trans("Password"),c.a.trans("Remember"),c.a.trans("Sign Up"),c.a.trans("Username/Email"),c.a.trans("New Members Today"),c.a.trans("Privacy Guaranteed"),c.a.trans("Your email address & personal info are safe and will NEVER be shared with anyone!"),c.a.trans('See our complete Privacy Policy <a target="_blank" href=%policiesPrivacy%>here</a>',{"%policiesPrivacy%":Y.policiesPrivacy}),'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 41.6"><path class="cls-1" d="M15.2.4H14c-2 .1-3.6 1.5-4 3.4l-.4 1.6c-.3.4-.7.7-1.1 1-1 .8-1.7 1.8-2.1 3l-.1.1V9.8l-.6 1.8v.1c-.2.9-.6 1.7-1.2 2.5l-3 4.2c-1.7 2.2-1.4 5.2.6 7.1h.1c1.8 1.3 3.9 2 6.1 2.2.4 0 .8-.1 1.1-.2-.6.9-1 1.8-1.3 2.8-1.4.6-2.5 1.7-3.1 3.1-.6 1.5-.9 3.2-.7 4.9 0 .2 0 .4.1.5v1.6c0 .7.6 1.3 1.3 1.3h28.6c.7 0 1.3-.6 1.3-1.3v-2.1c.1-1.7-.1-3.4-.8-4.9-.5-1.1-1.2-1.9-2.2-2.6.8-2.6 1.3-5.2 1.5-7.9 0-11.7-7.6-17.8-15.4-18.9l-2.9-3-.6-.6z" fill="#8a8886"/><path d="M33.5 38.2v1.4H6.3v-1c0-.1-.1-.2-.1-.4-.1-1.4.1-2.7.6-4 .6-1.2 1.7-2.1 3-2.5.7-3.7 3.8-6.3 5.8-7.8v-.1c.8-.5 1.4-1.2 2-1.9.2-.3.4-.7.6-1.1.1-.5 0-1.1-.2-1.5v.2c-1 1.1-3 3.2-5.5 3.2-1.2 0-1.6.4-2.1 1.4-.3.5-.7.9-1.1 1.3-.3.3-.6.4-1 .4-1.8-.2-3.5-.8-5-1.8-1.2-1.2-1.4-3.1-.3-4.4l3-4.2c.7-1 1.2-2 1.5-3.1.1-.5.3-1.1.6-1.6l.1-.1c.3-1.2.8-2 1.6-2.7.7-.5 1.3-1.1 1.7-1.9l.4-1.7c.2-1 1.1-1.8 2.1-1.8h.4l3.3 3.3c7.2.7 14.4 6.1 14.4 17-.2 2.7-.8 5.4-1.6 7.9-.1.4-.2.8-.3 1.1 1.2.3 2.3 1.2 2.8 2.4s.6 2.6.5 4zM13.6 10.6c-1.4.6-1.7 2.9-1.7 2.9 1.3-1.1 2 .2 3.3-.8 1-1-.3-2.7-1.6-2.1z" fill="#fff"/></svg>'),J='<svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 42 41.4" xml:space="preserve"><path class="cls-1" d="M26.3.4c-2.1 0-4.1 1.1-5.3 2.9-1.9-2.9-5.8-3.8-8.7-1.9-1.8 1.2-2.9 3.1-2.9 5.3 0 .7.1 1.3.3 1.9-2.9-1.6-6.5-.7-8.2 2.2-.5.9-.8 2-.8 3.1.1 2.4 1.5 4.5 3.6 5.5l4.5 10.8c-1.1.5-1.9 1.4-2.5 2.4-.7 1.6-1 3.3-.9 5v2.5c0 .7.6 1.3 1.3 1.3h28.6c.7 0 1.3-.6 1.3-1.3V38c.2-1.8-.2-3.7-.9-5.4-.6-1-1.4-1.9-2.5-2.4l4.5-10.7c2.2-1 3.6-3.2 3.7-5.6 0-3.4-2.8-6.1-6.1-6.1-1 0-2 .3-2.9.8.2-.6.3-1.3.3-1.9 0-3.4-2.7-6.2-6.2-6.2-.1-.1-.2-.1-.2-.1z"/><path d="M39.3 13.9c0 1.9-1.3 3.5-3.2 4l-5.6 13.4h.1v.1c1.3.3 2.5 1.1 3.2 2.2.6 1.4.8 2.9.7 4.4v1.4H7.4V38c0-1.7-.1-3.2.6-4.4.8-1.2 2-2 3.4-2.3L5.8 17.9c-1.8-.5-3.1-2.1-3.1-4 0-2.2 1.8-4.1 4-4.1 1 0 2 .4 2.8 1.2.8.8 1.3 1.8 1.3 2.9 0 .6-.2 1.2-.5 1.7l3 3.2.3-8.4c-1.4-.7-2.4-2.1-2.3-3.7.1-2.4 2.1-4.2 4.5-4.1 2.2.1 4 1.9 4.1 4.1 0 1.1-.5 2.2-1.3 3l2.3 6.6 2.4-6.7c-.8-.8-1.3-1.9-1.3-3 .1-2.4 2.1-4.2 4.5-4.1 2.2.1 4 1.9 4.1 4.1 0 1.6-.9 3.1-2.4 3.8l.4 8.4 3-3.2c-.3-.5-.4-1.1-.4-1.7 0-2.2 1.8-4 4-4.1 2.2 0 4.1 1.9 4.1 4.1z" fill="#fff"/><path class="st0" d="M20.9 10.1l.1-.1.1.1-.1.1-.1-.1z"/></svg>',Z='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32.6 39"><path class="cls-1" d="M16.3.6c-.9 0-1.8.1-2.7.2h-.2l-.8.1-1.6.2v.2H9.4c-1.7 0-3.5.4-5 1.3l-.6.4-.2.1c-.6.3-1 1-.9 1.7V5l.1.7.4 5.2v.1c.1 2 1.2 3.8 2.9 4.9-.4 3.1-1 8.7-1.4 11.7-1.4.6-2.6 1.7-3.2 3.1-.6 1.6-.9 3.3-.7 5v2.1c-.1.6.4 1.2 1.2 1.2h28.7c.7 0 1.3-.6 1.3-1.3v-2.1c.1-1.7-.1-3.4-.8-5-.6-1.4-1.8-2.5-3.2-3.1-.4-3-1-8.6-1.4-11.7 1.7-1.1 2.7-2.9 2.9-4.9v-.1l.4-5.2v-.8c.1-.7-.3-1.4-.9-1.7l-.1-.1-.5-.3c-1.5-.8-3.3-1.3-5-1.3h-1.8v-.2L20 1l-.8-.1H19c-.9-.2-1.8-.3-2.7-.3z" fill="#8a8886"/><path d="M29.9 35.6V37H2.7v-1.4c-.1-1.4.1-2.8.6-4.1.7-1.3 1.8-2.1 3.2-2.4.4-2.8 1.4-11.6 1.7-14.3-1.7-.6-2.9-2.2-3-4l-.4-5.3-.1-.7.6-.3c1.2-.7 2.7-1.1 4.1-1h.8l.2.8.7 3.3h1.4l.4-3.8.1-.9.8-.1c.8-.1 1.7-.2 2.5-.2.9 0 1.7.1 2.5.2l.8.1.1.8.4 3.8h1.4l.7-3.3.2-.8h.8c1.4 0 2.8.4 4.1 1l.6.3-.1.7-.4 5.2c-.1 1.8-1.3 3.4-3 4 .3 2.7 1.4 11.5 1.7 14.3 1.4.3 2.6 1.2 3.2 2.5.6 1.4.8 2.8.6 4.2z" fill="#fff"/></svg>',X="signup",ee=(c.a.trans("New to Chess"),c.a.trans("Beginner"),c.a.trans("Intermediate"),c.a.trans("Advanced"),"show-authentication-modal"),te=r("./utils/window/post-message.ts"),ne=r("./ui/components/user/user-avatar.vue"),oe={name:"CommentFormInactive",components:{UserAvatar:ne.a,V5Button:V.V5Button},props:{avatar:{type:String,required:!0},isGuest:{type:Boolean,default:!1}},data:function data(){return{routes:u,translations:d}},methods:{showSignUpModal:function showSignUpModal(){Object(te.a)({key:ee,show:X,updateForm:!0})}}},re=r("./ui/components/comments/comment-form-inactive.vue?vue&type=style&index=0&lang=scss&module=true&");var se=Object(q.a)(oe,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[r("user-avatar",{attrs:{image:t.avatar}}),t._v(" "),r("div",{class:t.$style.info},[t.isGuest?r("v5-button",{attrs:{theme:"primary","full-width":!0},domProps:{textContent:t._s(t.translations.signUpToComment)},on:{click:function(o){return t.showSignUpModal()}}}):[r("p",{class:t.$style.alert,domProps:{textContent:t._s(t.translations.activate)}}),t._v(" "),r("p",[t._v("\n        "+t._s(t.translations.verifyYourAccount)+"\n\n        "),r("a",{class:t.$style.link,attrs:{href:t.routes.verificationEmail},domProps:{textContent:t._s(t.translations.resendVerificationEmail)}})])],t._v(" "),r("p",[t._v("\n      "+t._s(t.translations.contact)+"\n\n      "),r("a",{class:t.$style.link,attrs:{href:t.routes.help},domProps:{textContent:t._s(t.translations.helpAndSupportTeam)}})])],2)],1)}),[],!1,(function comment_form_inactive_injectStyles(t){this.$style=re.default.locals||re.default}),null,null).exports,ae={name:"CommentFormPost",components:{V5Button:V.V5Button},props:{cancelComment:{type:Function,required:!0},postComment:{type:Function,required:!0},updateComment:{type:Function,required:!0},status:{type:Number,required:!0}},data:function data(){return{statuses:g,translations:d}},computed:{busyLabel:function busyLabel(){var t;return this.status===g.fetching?t=d.fetching:this.status===g.processing&&(t=d.processing),t},showBusyButton:function showBusyButton(){return this.status===g.fetching||this.status===g.processing},showCancelButton:function showCancelButton(){return this.status===g.editing||this.status===g.quoting},showPostButton:function showPostButton(){return this.status===g.default||this.status===g.quoting},showUpdateButton:function showUpdateButton(){return this.status===g.editing}}},ie=r("./ui/components/comments/comment-form-post.vue?vue&type=style&index=0&lang=scss&module=true&");var le=Object(q.a)(ae,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[t._t("editor"),t._v(" "),r("div",{class:t.$style.actions},[t.showPostButton?r("v5-button",{class:t.$style.button,attrs:{id:"message-submit",size:"small",theme:"primary"},domProps:{textContent:t._s(t.translations.post)},on:{click:function(o){return t.postComment()}}}):t._e(),t._v(" "),t.showUpdateButton?r("v5-button",{class:t.$style.button,attrs:{size:"small",theme:"primary"},domProps:{textContent:t._s(t.translations.update)},on:{click:t.updateComment}}):t._e(),t._v(" "),t.showCancelButton?r("v5-button",{class:t.$style.button,attrs:{size:"small",theme:"basic"},domProps:{textContent:t._s(t.translations.cancel)},on:{click:function(o){return t.cancelComment()}}}):t._e(),t._v(" "),t.showBusyButton?r("v5-button",{class:t.$style.button,attrs:{size:"small",theme:"basic",disabled:!0},domProps:{textContent:t._s(t.busyLabel)}}):t._e(),t._v(" "),t._t("follow")],2)],2)}),[],!1,(function comment_form_post_injectStyles(t){this.$style=ie.default.locals||ie.default}),null,null).exports,ce=r("./web/core/api/user/helper.js"),ue=r("./web/core/api/user/config.js"),de=r("./ui/components/icons/icon-font.vue"),me=r("./utils/directives/confirm-popover.js"),pe={name:"CommentPostDelete",components:{IconFont:de.a},directives:{ConfirmPopover:me.b},props:{deleteComment:{type:Function,required:!0},customConfirmation:{type:String},showDelete:{type:Boolean,required:!0}},data:function data(){return{translations:d}},computed:{deletionMessage:function deletionMessage(){return this.customConfirmation||this.translations.deleteConfirmation}}},fe=r("./ui/components/comments/comment-post-delete.vue?vue&type=style&index=0&lang=scss&module=true&");var be=Object(q.a)(pe,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("icon-font",{directives:[{name:"show",rawName:"v-show",value:t.showDelete,expression:"showDelete"},{name:"confirm-popover",rawName:"v-confirm-popover",value:{message:t.deletionMessage,onConfirm:t.deleteComment},expression:"{ message: deletionMessage, onConfirm: deleteComment }"}],class:t.$style.icon,attrs:{name:"x"}})}),[],!1,(function comment_post_delete_injectStyles(t){this.$style=fe.default.locals||fe.default}),null,null).exports,ge={name:"CommentPostReportSpam",components:{IconFont:de.a},directives:{ConfirmPopover:me.b},props:{reportSpam:{type:Function,required:!0},showReportSpam:{type:Boolean,required:!0}},data:function data(){return{translations:d}}},he=r("./ui/components/comments/comment-post-report-spam.vue?vue&type=style&index=0&lang=scss&module=true&");var _e=Object(q.a)(ge,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("icon-font",{directives:[{name:"show",rawName:"v-show",value:t.showReportSpam,expression:"showReportSpam"},{name:"confirm-popover",rawName:"v-confirm-popover",value:{message:t.translations.spamConfirmation,onConfirm:t.reportSpam},expression:"{ message: translations.spamConfirmation, onConfirm: reportSpam }"}],class:t.$style.icon,attrs:{name:"circle-danger"}})}),[],!1,(function comment_post_report_spam_injectStyles(t){this.$style=he.default.locals||he.default}),null,null).exports,ve=r("./utils/directives/tooltip.js"),ye={name:"CommentPostActions",components:{CommentPostDelete:be,CommentPostReportSpam:_e,IconFont:de.a},directives:{tooltip:ve.a},props:{actionVisibility:{type:Boolean,default:!1},canDelete:{type:Boolean,default:!1},canEdit:{type:Boolean,default:!1},canReceiveGift:{type:Boolean,default:!1},canQuote:{type:Boolean,default:!1},canReportSpam:{type:Boolean,default:!1},copyCommentLink:{type:Function},customConfirmation:{type:String,required:!1},deleteComment:{type:Function,required:!0},editComment:{type:Function,required:!0},giftMembership:{type:Function},hideQuote:{type:Boolean,default:!1},quoteComment:{type:Function,required:!0},reportSpam:{type:Function,required:!0},scrollToForm:{type:Function,required:!0},time:{type:String,required:!0}},data:function data(){return{translations:d}},computed:{showDelete:function showDelete(){return this.canDelete&&this.actionVisibility},showEdit:function showEdit(){return this.canEdit&&this.actionVisibility},showQuote:function showQuote(){return this.actionVisibility&&this.canQuote||!this.actionVisibility&&this.canQuote&&!this.hideQuote},showGift:function showGift(){return this.canReceiveGift&&this.actionVisibility},showReportSpam:function showReportSpam(){return this.canReportSpam&&this.actionVisibility},showTime:function showTime(){return!this.actionVisibility||!this.canDelete&&!this.canEdit&&!this.canReceiveGift}}},we=r("./ui/components/comments/comment-post-actions.vue?vue&type=style&index=0&lang=scss&module=true&");var je=Object(q.a)(ye,(function(){var t=this,o=t.$createElement,r=t._self._c||o;return r("div",{class:t.$style.component},[r("span",{directives:[{name:"show",rawName:"v-show",value:t.showTime,expression:"showTime"}],class:t.$style.time},[t._v("\n    "+t._s(t.time)+"\n  ")]),t._v(" "),r("icon-font",{directives:[{name:"show",rawName:"v-show",value:t.showGift,expression:"showGift"},{name:"tooltip",rawName:"v-tooltip",value:t.translations.giftMembership,expression:"translations.giftMembership"}],class:[t.$style.icon,t.$style.blue],attrs:{name:"display-slider"},on:{click:function(o){return t.giftMembership()}}}),t._v(" "),r("icon-font",{directives:[{name:"show",rawName:"v-show",value:t.showEdit,expression:"showEdit"},{name:"tooltip",rawName:"v-tooltip",value:t.translations.edit,expression:"translations.edit"}],class:t.$style.icon,attrs:{name:"square-pencil"},on:{click:function(o){t.editComment(),t.scrollToForm()}}}),t._v(" "),r("comment-post-delete",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.translations.delete,expression:"translations.delete"}],attrs:{"delete-comment":t.deleteComment,"custom-confirmation":t.customConfirmation,"show-delete":t.showDelete}}),t._v(" "),r("comment-post-report-spam",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.translations.report,expression:"translations.report"}],attrs:{"report-spam":t.reportSpam,"show-report-spam":t.showReportSpam}}),t._v(" "),t.actionVisibility&&t.copyCommentLink?r("icon-font",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.translations.copyLink,expression:"translations.copyLink"}],class:t.$style.icon,attrs:{name:"link"},on:{click:t.copyCommentLink}}):t._e(),t._v(" "),r("icon-font",{directives:[{name:"show",rawName:"v-show",value:t.showQuote,expression:"showQuote"},{name:"tooltip",rawName:"v-tooltip",value:t.translations.quote,expression:"translations.quote"}],class:t.$style.icon,attrs:{name:"quote"},on:{click:function(o){t.quoteComment(),t.scrollToForm()}}})],1)}),[],!1,(function comment_post_actions_injectStyles(t){this.$style=we.default.locals||we.default}),null,null).exports,Ee=r("./web/core/api/content/config.js"),Oe=r("./web/core/widgets/user/create-user-popover.js"),Se=r("./core/utils/features/constants.js"),ke=r("./core/utils/features/index.js"),Ce=r("./utils/script-loader.js"),Pe=r("./node_modules/@babel/runtime/helpers/classCallCheck.js"),xe=r.n(Pe),Ae=r("./utils/dom/index.js"),Te=new function StyleLoader(){xe()(this,StyleLoader),this.insert=function(t){if(!Object(Ae.i)(t)){var o=document.getElementsByTagName("head")[0],r=document.createElement("link");r.rel="stylesheet",r.type="text/css",r.href=t,o.appendChild(r)}}},Le=r("./web/core/api/content/helpers/generate-route.js"),Ie="chessDiagramDiv",Me="dailyPuzzleDiv",Re=(Object(Le.a)("web_analysis_board_editor"),Object(Le.a)("web_votechess_game"),c.a.trans("Go To Analysis"),c.a.trans("Download all PGNs"),c.a.trans("First Move"),c.a.trans("Flip Board"),c.a.trans("Hint"),c.a.trans("Last Move"),c.a.trans("Next Move"),c.a.trans("Play / Pause"),c.a.trans("Previous Move"),c.a.trans("Reset"),c.a.trans("Share"),c.a.trans("Solution"),c.a.trans("Unknown player"),r("./chessboard/src/components/chessboard/standalone/default/chessboard.vue")),init_diagram_viewer=function(){var t,o,r,a;Object(ke.a)(Se.a.PAGE_WITH_NEW_CHESSBOARD_AND_DIAGRAMS_IN_COMMENTS)&&(window.chesscom=window.chesscom||{},window.chesscom.defaultChessBoard||(window.chesscom.defaultChessBoard=Re.a)),(t=window.Config.pathToDiagramViewerCSS,o=window.Config.pathToDiagramViewerJS,r=Object(Ae.d)(Ie).length>0,a=Object(Ae.d)(Me).length>0,!r&&!a||Object(Ae.g)(o)?Promise.resolve():(Te.insert(t),Ce.a.insert(o,{defer:""}))).then((function(){window.chesscom.loadDiagramViewer&&"function"==typeof window.chesscom.loadDiagramViewer&&window.chesscom.loadDiagramViewer()}))},De={name:"CommentPostBody",props:{body:{type:String,required:!0},id:{type:Number,required:!0}},computed:{domId:function domId(){return"post-".concat(this.id)}},mounted:function mounted(){init_diagram_viewer(),O(this.body)&&Object(Oe.a)("#".concat(this.domId," .").concat(Ee.f.USER_POPOVER),!0)}},Ne=r("./ui/components/comments/comment-post-body.vue?vue&type=style&index=0&lang=scss&module=true&");var $e=Object(q.a)(De,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",{class:t.$style.component,attrs:{id:t.domId},domProps:{innerHTML:t._s(t.body)}})}),[],!1,(function comment_post_body_injectStyles(t){this.$style=Ne.default.locals||Ne.default}),null,null).exports,Fe=r("./ui/components/icons/country-flag.vue"),Be=r("./ui/components/user/user-chess-title.vue"),Ue=r("./ui/components/user/user-flair-icon.vue"),qe=r("./utils/directives/user-popover.js");function ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function _objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?ownKeys(Object(r),!0).forEach((function(o){L()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var Ge={name:"CommentPost",components:{CommentPostActions:je,CommentPostBody:$e,CountryFlag:Fe.a,UserAvatar:ne.a,UserChessTitle:Be.a,UserFlairIcon:Ue.a},directives:{UserPopover:qe.a},props:{deleteComment:{type:Function,required:!0},canComment:{type:Boolean,default:!1},canReportSpam:{type:Boolean,default:!1},commentCount:Number,commentId:{type:Number,required:!0},editComment:{type:Function,required:!0},isFirstComment:{type:Boolean,default:!1},isLastComment:{type:Boolean,default:!1},isQuoteable:{type:Boolean,default:!0},isV5:{type:Boolean,default:!1},newCommentId:{type:Number},post:{type:Object,required:!0},quoteComment:{type:Function,required:!0},reportSpam:{type:Function,required:!0},scrollToForm:{type:Function,required:!0},viewCommentId:{type:Number}},emits:["copy-comment-link"],data:function data(){return{actionVisibility:!1,chosenComment:!1,routes:u}},computed:_objectSpread(_objectSpread({},Object(I.mapState)("user",["isLoggedIn","username"])),{},{country:function country(){return{code:this.post.author.countryId,name:this.post.author.country}},id:function id(){return"".concat(m).concat(this.commentId)},isFirstNewComment:function isFirstNewComment(){return null!=this.newCommentId&&this.newCommentId===this.commentCount},isViewedComment:function isViewedComment(){return this.viewCommentId===this.post.id},membership:function membership(){return Object(ce.c)(ue.i[this.post.author.membership],this.post.user.isEnabled)}}),mounted:function mounted(){this.chosenComment=function scrollToComment(t){var o=parseInt(window.location.hash.replace("#".concat(m),""),10);if(o===t)return document.getElementById(o).scrollIntoView(),!0}(this.post.id)},methods:{copyCommentLinkHandler:function copyCommentLinkHandler(){this.$emit("copy-comment-link","".concat(m).concat(this.post.id))},deleteCommentHandler:function deleteCommentHandler(){this.deleteComment(this.post.id)},editCommentHandler:function editCommentHandler(){this.editComment(this.post)},giftMembershipHandler:function giftMembershipHandler(){a.a.emit(R.d.SHOW_GIFT_MEMBERSHIP_MODAL,{userId:this.post.author.id,username:this.post.author.username})},hideActions:function hideActions(){this.actionVisibility=!1},quoteCommentHandler:function quoteCommentHandler(){this.quoteComment(this.post)},reportSpamHandler:function reportSpamHandler(){this.reportSpam(this.post.id)},showActions:function showActions(){this.actionVisibility=!0}}},Ve=r("./ui/components/comments/comment-post.vue?vue&type=style&index=0&lang=scss&module=true&");var He=Object(q.a)(Ge,(function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:[o.$style.component,(t={},t[o.$style["chosen-comment"]]=o.chosenComment,t[o.$style["component-v5"]]=o.isV5,t)],attrs:{id:o.id},on:{mouseenter:o.showActions,mouseleave:o.hideActions}},[o.isFirstComment?a("a",{attrs:{id:"first_comment"}}):o._e(),o._v(" "),o.isLastComment?a("a",{attrs:{id:"last_comment"}}):o._e(),o._v(" "),o.isViewedComment?a("a",{attrs:{id:"comment"}}):o._e(),o._v(" "),o.isFirstNewComment?a("a",{attrs:{id:"first_new_comment"}}):o._e(),o._v(" "),a("user-avatar",{directives:[{name:"user-popover",rawName:"v-user-popover",value:o.post.author.username,expression:"post.author.username"}],class:o.$style.avatar,attrs:{image:o.post.author.avatarUrl,url:o.routes.member(o.post.author.username)}}),o._v(" "),a("div",{class:o.$style.meta},[a("div",{class:o.$style.tagline},[o.post.author.chessTitle?a("user-chess-title",{attrs:{title:o.post.author.chessTitle}}):o._e(),o._v(" "),a("a",{directives:[{name:"user-popover",rawName:"v-user-popover",value:o.post.author.username,expression:"post.author.username"}],class:o.$style.username,attrs:{href:o.routes.member(o.post.author.username)}},[o._v("\n        "+o._s(o.post.author.username)+"\n      ")]),o._v(" "),o.country?a("country-flag",{attrs:{code:o.country.code,name:o.country.name}}):o._e(),o._v(" "),o.membership?a("user-flair-icon",{class:o.$style.icon,attrs:{code:o.post.author.flairCode,membership:o.membership}}):o._e()],1),o._v(" "),a("comment-post-actions",{attrs:{id:o.post.id,"action-visibility":o.actionVisibility,"can-delete":o.post.user.canDelete,"can-edit":o.post.user.canEdit,"can-receive-gift":o.post.user.canReceiveGift,"can-quote":o.canComment&&o.isQuoteable,"can-report-spam":o.canReportSpam,"copy-comment-link":o.copyCommentLinkHandler,"delete-comment":o.deleteCommentHandler,"edit-comment":o.editCommentHandler,"gift-membership":o.giftMembershipHandler,"quote-comment":o.quoteCommentHandler,"report-spam":o.reportSpamHandler,"scroll-to-form":o.scrollToForm,time:o.post.createdAtRelative}})],1),o._v(" "),a("comment-post-body",{class:o.$style.body,attrs:{id:o.post.id,body:o.post.body}})],1)}),[],!1,(function comment_post_injectStyles(t){this.$style=Ve.default.locals||Ve.default}),null,null).exports,ze=r("./utils/mixins/dark-mode-forces.js"),Ke=r("./ui/components/loaders/loader-three-bounce.vue"),We=r("./ui/components/pagination/pagination.vue"),Ye={name:"SectionExplanation",props:{explanation:{type:String,required:!0}}},Qe=r("./ui/components/sections/section-explanation.vue?vue&type=style&index=0&module=true&lang=css&");var Je=Object(q.a)(Ye,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("div",{class:t.$style.component},[t._v("\n  "+t._s(t.explanation)+"\n")])}),[],!1,(function section_explanation_injectStyles(t){this.$style=Qe.default.locals||Qe.default}),null,null).exports,Ze=r("./ui/components/sections/section-title.vue"),Xe=r("./ui/components/social/social-share.vue"),et=r("./ui/components/tinymce/tinymce.vue"),tt={name:"CommentsBase",components:{CommentFollow:G,CommentFormGuest:W,CommentFormInactive:se,CommentFormPost:le,CommentPost:He,GiftMembershipModal:function GiftMembershipModal(){return{component:Promise.all([r.e("vendors~gift-membership-modal~trophy-popover~user-report-modal"),r.e("gift-membership-modal")]).then(r.bind(null,"./ui/components/user/modal-gift-membership.vue"))}},LoaderThreeBounce:Ke.a,Pagination:We.a,SectionExplanation:Je,SectionTitle:Ze.a,SocialShare:Xe.a,Tinymce:et.a},mixins:[ze.a],props:{areQuoteable:{type:Boolean,default:!0},user:Object,threads:Array,commentsCount:Number,commentsLocked:{type:Boolean,default:!1},forumPage:{type:Boolean,default:!1},getThread:{type:Function,required:!0},explanation:{type:String,default:""},hideSocial:{type:Boolean,default:!1},isV5:{type:Boolean,default:!1},parentId:{type:[Number,String],required:!0},scrollTo:{type:String,required:!1},showPageInUrl:Boolean,showTitle:{type:Boolean,default:!0},startPage:Number,topicCode:{type:String,required:!0}},emits:["update-comment","unfollow-thread","report-comment-as-spam","follow-thread","delete-comment","create-comment","create-alert","copy-comment-link","initialize-thread"],data:function data(){return{activeCommentId:null,commentContent:"",initialCommentContent:"",newCommentId:null,status:0,translations:d,viewCommentId:null,showGiftMembershipModal:!1,receiverUsername:null,receiverUserId:null}},computed:{canReportSpam:function canReportSpam(){var t=this.user.roles;return t&&(t.includes("ROLE_SUPPORT")||t.includes("ROLE_COMMENT_MOD"))},componentTitle:function componentTitle(){var t=this.translations.comments;return null!=this.commentsCount&&(t+=" (".concat(Number(this.commentsCount),")")),t},posts:function posts(){return this.thread.comments},scrollToTop:function scrollToTop(){return this.scrollTo||p},showFollowToggle:function showFollowToggle(){return!this.thread.busy&&this.user.username&&this.user.isActivated},showGuestMessage:function showGuestMessage(){return!this.thread.busy&&!this.user.username},showInactiveMessage:function showInactiveMessage(){return[!this.thread.busy,this.user.username,!this.user.isActivated,!this.thread.user.canComment].every((function(t){return t}))},thread:function thread(){var t=this;return this.threads.find((function(o){return o.id===t.threadId}))},threadId:function threadId(){return j(this.parentId,this.topicCode)},totalPages:function totalPages(){var t=this.thread.paginator;return t.more?t.page+1:t.page}},created:function created(){var t=this,o=new URLSearchParams(window.location.search),r={};o.get("comment")&&(this.viewCommentId=parseInt(o.get("comment"),10),r.comment=this.viewCommentId),o.get("ncc")&&(this.newCommentId=parseInt(o.get("ncc"),10),r.ncc=this.newCommentId),o.get("page")?r.page=parseInt(o.get("page"),10):this.startPage&&this.showPageInUrl&&(r.page=this.startPage),this.$emit("initialize-thread",{parentId:this.parentId,topicCode:this.topicCode,query:r}),this.$watch((function(){return[t.parentId,t.topicCode]}),(function(){t.$emit("initialize-thread",{parentId:t.parentId,topicCode:t.topicCode,query:r})})),this.showPageInUrl&&window.addEventListener("popstate",(function(o){var r=o.state&&o.state.page?o.state.page:1;if(window.location.hash){var a=window.location.hash.substr(1);if(document.querySelector('[id="'.concat(a,'"], [name="').concat(a,'"]')))return}t.setThreadPage(r,!0)}))},mounted:function mounted(){var t=this;P(),a.a.on(R.d.SHOW_GIFT_MEMBERSHIP_MODAL,(function(o){var r=o.username,a=o.userId;t.receiverUsername=r,t.receiverUserId=a,t.showGiftMembershipModal=!0})),$.a.on(R.d.HIDE_MODAL,(function(){t.showGiftMembershipModal&&(t.showGiftMembershipModal=!1)}))},methods:{copyCommentLink:function copyCommentLink(t){this.$emit("copy-comment-link",t)},cancelComment:function cancelComment(){this.initialCommentContent="",this.commentContent="",this.activeCommentId=null,this.status=0;var t=window.tinymce;t&&t.activeEditor&&(t.activeEditor.setContent("<p></p>"),t.activeEditor.focus())},createCommentHandler:function createCommentHandler(){Object(M.a)(this.commentContent).length?(this.$emit("create-comment",{body:this.commentContent,parentId:this.parentId,topicCode:this.topicCode}),this.cancelComment(),document.getElementById(p).scrollIntoView()):this.$emit("create-alert",{type:D.e.error,message:D.c.commentEmptyContent})},deleteCommentHandler:function deleteCommentHandler(t){this.$emit("delete-comment",{commentId:t,threadId:this.threadId})},editComment:function editComment(t){var o=t.body,r=t.id;this.initialCommentContent=Object(N.m)(o),this.activeCommentId=r,this.status=1},followThreadHandler:function followThreadHandler(){this.$emit("follow-thread",{parentId:this.parentId,topicCode:this.topicCode})},getCommentIdOrCommentCount:function getCommentIdOrCommentCount(t){var o=t.commentId,r=t.thread,a=(r.paginator.page-1)*r.paginator.perPage+r.comments.length;return o>a?a:o},quoteComment:function quoteComment(t){this.initialCommentContent=function quoteCommentBody(t){return'\n  <div class="fquote">\n    <span class="quoted-user"> '.concat(t.author.username,' wrote: </span>\n    <div class="quoted-text">\n      ').concat(Object(w.b)(function stripDiagramDivs(t){return t.replace(/(<div *?id="(chess_com_diagram_([0-9]+)_([0-9]+))"[^>]*?>([\s\S]*?)<\/div>)/gm,"")}(t.body)),"\n    </div>\n  </div>\n  <p>&nbsp;</p>\n")}(t),this.status=2},reportSpam:function reportSpam(t){this.$emit("report-comment-as-spam",{commentId:t,threadId:this.threadId})},scrollToForm:function scrollToForm(){this.$refs.form.$el.scrollIntoView()},setThreadPage:function setThreadPage(t,o){var r=this;this.getThread({page:t,topicCode:this.topicCode,parentId:this.parentId}).then((function(){var a;r.showPageInUrl&&!o&&r.updateUrl(t),null===(a=document.getElementById(p))||void 0===a||a.scrollIntoView()}))},unfollowThreadHandler:function unfollowThreadHandler(){this.$emit("unfollow-thread",{parentId:this.parentId,topicCode:this.topicCode})},updateCommentHandler:function updateCommentHandler(){this.activeCommentId&&this.$emit("update-comment",{body:this.commentContent,commentId:this.activeCommentId,threadId:this.threadId}),this.cancelComment()},updateComment:function updateComment(){document.getElementById(p).scrollIntoView(),init_diagram_viewer()},updateUrl:function updateUrl(t){var o=window.location,r="".concat(o.origin).concat(o.pathname),a=t;-1===t&&(a=this.totalPages),a>1&&(r+="?page=".concat(a)),window.history.pushState({page:a},"",r)},hideGiftMembershipModal:function hideGiftMembershipModal(){this.showGiftMembershipModal=!1}}},nt=r("./web/core/widgets/comments/comments-base.vue?vue&type=style&index=0&lang=scss&module=true&");function commentsvue_type_script_lang_js_ownKeys(t,o){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);o&&(a=a.filter((function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable}))),r.push.apply(r,a)}return r}function commentsvue_type_script_lang_js_objectSpread(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?commentsvue_type_script_lang_js_ownKeys(Object(r),!0).forEach((function(o){L()(t,o,r[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):commentsvue_type_script_lang_js_ownKeys(Object(r)).forEach((function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(r,o))}))}return t}var ot={name:"Comments",components:{CommentsBase:Object(q.a)(tt,(function(){var t,o=this,r=o.$createElement,a=o._self._c||r;return a("div",{class:[o.$style.component,(t={},t[o.$style["component-v5"]]=o.isV5,t)],attrs:{id:"comments-component"}},[o.showTitle||!o.forumPage?a("section-title",{class:["light-mode",o.$style["rounded-top"]],attrs:{icon:"chat",name:o.componentTitle}},[o.showFollowToggle?a("comment-follow",{attrs:{"follow-thread":o.followThreadHandler,"is-following":o.thread.user.isFollowing,"unfollow-thread":o.unfollowThreadHandler}}):o._e()],1):o._e(),o._v(" "),o.thread.busy?a("loader-three-bounce",{class:o.$style.loader,attrs:{size:60}}):o._e(),o._v(" "),o.thread.busy?o._e():a("div",{class:o.forumPage?"":o.$style.content},[a("section-explanation",{directives:[{name:"show",rawName:"v-show",value:o.explanation,expression:"explanation"}],class:o.$style.explanation,attrs:{explanation:o.explanation}}),o._v(" "),o.thread.comments.length>0&&o.forumPage?a("pagination",{class:o.$style.pagination,attrs:{"light-mode":"","change-page":o.setThreadPage,"current-page":o.thread.paginator.page,"is-v5":o.isV5,"total-pages":o.totalPages}}):o._e(),o._v(" "),a("transition-group",{attrs:{name:"list",tag:"div"}},o._l(o.posts,(function(t,r){return a("comment-post",{key:t.id,class:o.$style.item,attrs:{"can-comment":o.thread.user.canComment,"can-report-spam":o.canReportSpam,"comment-count":r+1+(o.thread.paginator.page-1)*o.thread.paginator.perPage,"comment-id":t.id,"delete-comment":o.deleteCommentHandler,"edit-comment":o.editComment,"is-first-comment":0===r,"is-last-comment":r===o.posts.length-1,"is-quoteable":o.areQuoteable,"is-v5":o.isV5,"new-comment-id":o.getCommentIdOrCommentCount({commentId:o.newCommentId,thread:o.thread}),post:t,"quote-comment":o.quoteComment,"report-spam":o.reportSpam,"scroll-to-form":o.scrollToForm,"view-comment-id":o.viewCommentId},on:{"copy-comment-link":o.copyCommentLink}})})),1),o._v(" "),o.thread.comments.length>0?a("pagination",{class:o.$style.pagination,attrs:{"light-mode":"","change-page":o.setThreadPage,"current-page":o.thread.paginator.page,"is-v5":o.isV5,"scroll-to":o.scrollToTop,"show-top-button":!o.showInactiveMessage,"total-pages":o.totalPages}}):o._e(),o._v(" "),!o.hideSocial&&o.forumPage?a("social-share",{class:o.$style["social-share"]}):o._e(),o._v(" "),o.thread.user.canComment&&!o.commentsLocked?a("comment-form-post",{ref:"form",class:o.$style.form,attrs:{"cancel-comment":o.cancelComment,"post-comment":o.createCommentHandler,status:o.status,"update-comment":o.updateCommentHandler},scopedSlots:o._u([{key:"editor",fn:function(){return[a("tinymce",{attrs:{id:"editor-"+o.threadId,"init-value":o.initialCommentContent,placeholder:o.translations.placeholder},model:{value:o.commentContent,callback:function(t){o.commentContent=t},expression:"commentContent"}})]},proxy:!0},o.showTitle||o.forumPage?{key:"follow",fn:function(){return[a("comment-follow",{attrs:{"follow-thread":o.followThreadHandler,"is-following":o.thread.user.isFollowing,"unfollow-thread":o.unfollowThreadHandler}})]},proxy:!0}:null],null,!0)},[a("a",{attrs:{id:"comment_box"}})]):o._e(),o._v(" "),o.commentsLocked&&!o.showGuestMessage?a("p",{class:o.$style["locked-comments"],domProps:{textContent:o._s(o.translations.commentsLocked)}}):o._e(),o._v(" "),o.showGuestMessage?a("comment-form-guest",{class:o.$style.guest}):o._e(),o._v(" "),o.showInactiveMessage?a("comment-form-inactive",{class:o.$style.inactive,attrs:{avatar:o.user.avatarUrl,"is-guest":o.user.isGuest}}):o._e(),o._v(" "),o.showGiftMembershipModal?a("gift-membership-modal",{attrs:{"receiver-username":o.receiverUsername,"receiver-id":o.receiverUserId,"sender-username":o.user.username},on:{"hide-modal":o.hideGiftMembershipModal}}):o._e()],1)],1)}),[],!1,(function comments_base_injectStyles(t){this.$style=nt.default.locals||nt.default}),null,null).exports},mixins:[ze.a],props:{areQuoteable:{type:Boolean,default:!0},commentsCount:Number,commentsLocked:{type:Boolean,default:!1},forumPage:{type:Boolean,default:!1},explanation:{type:String,default:""},hideSocial:{type:Boolean,default:!1},isV5:{type:Boolean,default:!1},parentId:{type:[Number,String],required:!0},scrollTo:{type:String,required:!1},showPageInUrl:Boolean,showTitle:{type:Boolean,default:!0},startPage:Number,topicCode:{type:String,required:!0}},computed:commentsvue_type_script_lang_js_objectSpread({},Object(I.mapState)({threads:function threads(t){return t.comments.threads}})),methods:commentsvue_type_script_lang_js_objectSpread(commentsvue_type_script_lang_js_objectSpread(commentsvue_type_script_lang_js_objectSpread({},Object(I.mapActions)({createAlert:"alerts/create"})),Object(I.mapActions)("comments",["copyCommentLink","createComment","deleteComment","followThread","getThread","initializeThread","reportCommentAsSpam","unfollowThread","updateComment"])),{},{updateCommentHandler:function updateCommentHandler(t){var o=this;this.updateComment(t).then((function(){o.$refs.comments.updateComment()}))}})},rt=Object(q.a)(ot,(function(){var t=this,o=t.$createElement;return(t._self._c||o)("CommentsBase",{ref:"comments",attrs:{"are-quoteable":t.areQuoteable,"comments-count":t.commentsCount,"comments-locked":t.commentsLocked,"light-mode":t.lightMode,"forum-page":t.forumPage,explanation:t.explanation,"hide-social":t.hideSocial,"is-v5":t.isV5,"parent-id":t.parentId,"scroll-to":t.scrollTo,"show-page-in-url":t.showPageInUrl,"show-title":t.showTitle,user:t.$store.state.user,"start-page":t.startPage,threads:t.threads,"get-thread":t.getThread,"topic-code":t.topicCode},on:{"copy-comment-link":t.copyCommentLink,"create-comment":t.createComment,"create-alert":t.createAlert,"delete-comment":t.deleteComment,"follow-thread":t.followThread,"initialize-thread":t.initializeThread,"report-comment-as-spam":t.reportCommentAsSpam,"unfollow-thread":t.unfollowThread,"update-comment":t.updateCommentHandler}})}),[],!1,null,null,null).exports,st=r("./node_modules/@babel/runtime/helpers/createClass.js"),at=r.n(st),it=r("./utils/http/index.js"),lt="web_comment_callback_list",ct="web_comment_callback_body",ut="web_comment_callback_quote",dt="web_comment_callback_create",mt="web_forum_callback_comment",pt="web_comment_callback_update",ft="web_comment_callback_delete",bt="web_track_content_callback_comment",gt="web_comment_callback_report_spam",ht=new(function(){function CommentsService(){xe()(this,CommentsService)}return at()(CommentsService,[{key:"get",value:function get(t){var o=t.parentId,r=t.topicCode,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},c=l.a.generate(lt,Object.assign({page:a,parentId:o,forumTopicTypeCode:r},i));return it.default.get(c)}},{key:"create",value:function create(t,o){var r=o.parentId,a=o.topicCode;if("forum_topic"===a){var i=l.a.generate(mt);return it.default.post(i,{body:t,parentId:r,subject:""})}var c=l.a.generate(dt);return it.default.post(c,{comment:{body:t},parentId:r,forumTopicTypeCode:a})}},{key:"update",value:function update(t,o){var r=l.a.generate(pt,{id:t});return it.default.post(r,{comment:{body:o}})}},{key:"delete",value:function _delete(t){return it.default.post(l.a.generate(ft,{id:t}))}},{key:"edit",value:function edit(t){return it.default.get(l.a.generate(ct,{id:t}))}},{key:"quote",value:function quote(t){return it.default.get(l.a.generate(ut,{id:t}))}},{key:"follow",value:function follow(t){var o=t.parentId,r=t.topicCode,a=l.a.generate(bt,{parentId:o,forumTopicTypeCode:r,track:"true"});return it.default.post(a,{})}},{key:"unfollow",value:function unfollow(t){var o=t.parentId,r=t.topicCode,a=l.a.generate(bt,{parentId:o,forumTopicTypeCode:r,track:"false"});return it.default.post(a,{})}},{key:"report",value:function report(t){return it.default.post(l.a.generate(gt,{id:t}))}}]),CommentsService}()),_t=r("./core/utils/dom/copy-to-clipboard.js"),vt={namespaced:!0,state:{threads:[]},actions:{initializeThread:function initializeThread(t,o){var r=t.commit,a=t.dispatch,i=o.parentId,l=o.topicCode,c=o.query;return r("createThread",{id:j(i,l),busy:!1,comments:[],paginator:{more:!1,page:c&&c.page?c.page:1,perPage:20,total:0},user:{following:!1,canComment:!1}}),a("getThread",{parentId:i,topicCode:l,query:c})},getThread:function getThread(t,o){var r=t.commit,a=t.dispatch,i=o.parentId,l=o.topicCode,c=o.page,u=o.query,d=j(i,l);return r("isBusy",d),ht.get({parentId:i,topicCode:l},c,u).then((function(t){return t.data})).then((function(t){return function transformThread(t,o){return{id:o,comments:t.data.map((function(t){return k(t,o)})),paginator:{more:t.meta.more,page:t.meta.page,perPage:t.meta.per_page,total:t.meta.total},user:{canComment:t.meta.user_can_comment,isFollowing:t.meta.is_following}}}(t,d)})).then((function(t){r("updateThread",t),r("isReady",d)})).catch((function(){return a("alerts/create",{type:D.e.error,message:D.a.badRequest},{root:!0})}))},createComment:function createComment(t,o){var r=t.commit,a=t.dispatch,i=o.body,l=o.parentId,c=o.topicCode,u=j(l,c);return ht.create(i,{parentId:l,topicCode:c}).then((function(t){return t.data})).then((function(t){return t.data})).then((function(t){return k(t,u)})).then((function(t){r("addComment",{comment:t,threadId:u}),a("alerts/create",{type:D.e.success,message:D.c.commentCreated},{root:!0})})).catch((function(t){a("alerts/create",{type:D.e.error,message:t.response.data.message},{root:!0})}))},updateComment:function updateComment(t,o){var r=t.commit,a=t.dispatch,i=o.threadId,l=o.commentId,c=o.body;return ht.update(l,c).then((function(t){return t.data})).then((function(t){return t.data})).then((function(t){return k(t,i)})).then((function(t){r("updateComment",{comment:t,threadId:i}),a("alerts/create",{type:D.e.success,message:D.c.commentUpdated},{root:!0})})).catch((function(){return a("alerts/create",{type:D.e.error,message:D.a.badRequest},{root:!0})}))},deleteComment:function deleteComment(t,o){var r=t.commit,a=t.dispatch,i=o.threadId,l=o.commentId;return ht.delete(l).then((function(){r("removeComment",{commentId:l,threadId:i}),a("alerts/create",{type:D.e.success,message:D.c.commentDeleted},{root:!0})})).catch((function(){return a("alerts/create",{type:D.e.error,message:D.a.badRequest},{root:!0})}))},followThread:function followThread(t,o){var r=t.commit,a=t.dispatch,i=o.parentId,l=o.topicCode,c=j(i,l);return ht.follow({parentId:i,topicCode:l}).then((function(){return r("followThread",c)})).then((function(){return a("alerts/create",{type:D.e.success,message:d.followAlert},{root:!0})})).catch((function(){return a("alerts/create",{type:D.e.error,message:D.a.badRequest},{root:!0})}))},unfollowThread:function unfollowThread(t,o){var r=t.commit,a=t.dispatch,i=o.parentId,l=o.topicCode,c=j(i,l);return ht.unfollow({parentId:i,topicCode:l}).then((function(){return r("unfollowThread",c)})).then((function(){return a("alerts/create",{type:D.e.success,message:d.unfollowAlert},{root:!0})})).catch((function(){return a("alerts/create",{type:D.e.error,message:D.a.badRequest},{root:!0})}))},reportCommentAsSpam:function reportCommentAsSpam(t,o){var r=t.commit,a=t.dispatch,i=o.commentId,l=o.threadId;ht.report(i).then((function(){r("removeComment",{commentId:i,threadId:l}),a("alerts/create",{type:D.e.success,message:D.c.commentMarkedAsSpam},{root:!0})})).catch((function(){return a("alerts/create",{type:D.e.error,message:D.a.badRequest},{root:!0})}))},copyCommentLink:function copyCommentLink(t,o){var r=t.dispatch,a="".concat(window.location.origin).concat(window.location.pathname,"#").concat(o);Object(_t.a)(a),r("alerts/create",{type:D.e.success,message:D.c.commentLinkCopied},{root:!0})}},mutations:{addComment:function addComment(t,o){var r=o.comment,a=o.threadId;t.threads.find((function(t){return t.id===a})).comments.unshift(r)},updateComment:function updateComment(t,o){var r=o.comment,a=o.threadId,i=t.threads.find((function(t){return t.id===a})).comments.findIndex((function(t){return t.id===r.id}));t.threads.find((function(t){return t.id===a})).comments.splice(i,1,r)},removeComment:function removeComment(t,o){var r=o.commentId,a=o.threadId,i=t.threads.find((function(t){return t.id===a})).comments,l=i.findIndex((function(t){return t.id===r}));i.splice(l,1),t.threads.find((function(t){return t.id===a})).comments=i},createThread:function createThread(t,o){t.threads.push(o)},updateThread:function updateThread(t,o){var r=t.threads.findIndex((function(t){return t.id===o.id}));t.threads.splice(r,1,o)},destroyThread:function destroyThread(t,o){var r=t.threads.findIndex((function(t){return t.id===o}));t.threads.splice(r,1)},followThread:function followThread(t,o){t.threads.find((function(t){return t.id===o})).user.following=!0},unfollowThread:function unfollowThread(t,o){t.threads.find((function(t){return t.id===o})).user.following=!1},isBusy:function isBusy(t,o){t.threads.find((function(t){return t.id===o})).busy=!0},isReady:function isReady(t,o){t.threads.find((function(t){return t.id===o})).busy=!1}}},yt=r("./web/core/store/index.js"),wt=Object(A.a)("#".concat(b),(function(t){return{component:rt,propsData:{commentsCount:t.getAttribute("data-comments-count")?parseInt(t.getAttribute("data-comments-count"),10):null,commentsLocked:Boolean(t.getAttribute("data-comments-locked")),forumPage:Boolean(t.getAttribute("forum-page")),parentId:t.getAttribute("parent-id"),topicCode:t.getAttribute("topic-code"),scrollTo:t.getAttribute("scroll-to"),showTitle:Boolean(t.getAttribute("show-title")),showPageInUrl:!0,startPage:Number(t.getAttribute("data-start-page"))||1,explanation:t.getAttribute("explanation")||""},created:function created(){this.$store.registerModule("comments",vt)},store:yt.default}})),jt=Object(x.a)(wt),Et=C();window.location.hash.indexOf(m)>=0&&document.getElementById(b).scrollIntoView();Et?jt.createInstances([b]):function attachLazyObserver(t){var o=t.elementId,r=t.instanceName,l=t.lazyVue,c=document.getElementById(o);null!=c?(c.offsetHeight||(c.style.minHeight="1px"),a.a.on("visibility-observer-change",(function changeEvent(t){t===c&&(l.createInstance(r),a.a.off("visibility-observer-change",changeEvent))})),i.a.observe(c)):setTimeout(attachLazyObserver,250,{elementId:o,instanceName:r,lazyVue:l})}({elementId:b,instanceName:b,lazyVue:jt})},"./web/core/widgets/comments/comments-base.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/comments/comments-base.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./web/core/widgets/modals/confirm-popover-inline.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/modals/confirm-popover-inline.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./web/core/widgets/modals/confirm-popover.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/modals/confirm-popover.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./web/core/widgets/user/create-user-popover.js":function(t,o,r){"use strict";var a=r("./utils/multivue.js"),i=r("./utils/directives/user-popover.js");o.a=function(t){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=o?t:".".concat(t);return Object(a.a)(r,{directives:{UserPopover:i.a}},null,"userPopoverDirective")}},"./web/core/widgets/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&":function(t,o,r){"use strict";var a=r("./node_modules/@chesscom/mini-css-extract-plugin/dist/loader.js!./node_modules/css-loader/dist/cjs.js?!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/dist/cjs.js?!./node_modules/sass-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./web/core/widgets/user/user-popover.vue?vue&type=style&index=0&lang=scss&module=true&"),i=r.n(a);r.d(o,"default",(function(){return i.a}))},"./web/membership/config/index.js":function(t,o,r){"use strict";r.d(o,"d",(function(){return d})),r.d(o,"g",(function(){return p})),r.d(o,"f",(function(){return b})),r.d(o,"e",(function(){return g})),r.d(o,"c",(function(){return h})),r.d(o,"b",(function(){return _})),r.d(o,"h",(function(){return v})),r.d(o,"a",(function(){return y}));var a,i=r("./node_modules/@babel/runtime/helpers/defineProperty.js"),l=r.n(i),c=r("./utils/router.js"),u=r("./utils/translator.js"),d={HIDE_MODAL:"hide-modal",SHOW_GIFT_MEMBERSHIP_MODAL:"show-gift-membership-modal",SHOW_DOWNGRADE_MEMBERSHIP_MODAL:"show-downgrade-membership-modal"},m={analysis:function analysis(){return c.a.generate("web_archive_index")},downgradeAction:c.a.generate("web_membership_cancel",{},!0),explorer:function explorer(){return c.a.generate("explorer_index")},goHome:c.a.generate("web_user_home"),giftPayment:function giftPayment(t){return c.a.generate("web_membership_gift",t)},lessons:function lessons(){return c.a.generate("web_lesson_index")},live:function live(){return c.a.generate("web_live")},membershipPayment:function membershipPayment(t){return c.a.generate("web_payment_index",t)},payment:function payment(t){return c.a.generate("web_membership",t)},policiesAgreement:function policiesAgreement(){return c.a.generate("web_policies_agreement")},puzzles:function puzzles(){return c.a.generate("web_tactic_index")},videos:function videos(){return c.a.generate("web_video_index")}},p={DIAMOND_YEARLY:"diamond_yearly",DIAMOND_MONTHLY:"diamond_monthly",PLATINUM_YEARLY:"platinum_yearly",PLATINUM_MONTHLY:"platinum_monthly",GOLD_YEARLY:"gold_yearly",GOLD_MONTHLY:"gold_monthly"},b={DIAMOND:"diamond",PLATINUM:"platinum",GOLD:"gold"},g={YEARLY:"yearly",MONTHLY:"monthly"},h=[{sku:p.GOLD_MONTHLY,description:u.a.trans("1 Month Gold")},{sku:p.DIAMOND_MONTHLY,description:u.a.trans("1 Month Diamond")},{sku:p.DIAMOND_YEARLY,description:u.a.trans("1 Year Diamond")}],_=(a={},l()(a,p.GOLD_MONTHLY,"$5"),l()(a,p.DIAMOND_MONTHLY,"$14"),l()(a,p.DIAMOND_YEARLY,"$99"),a),v={giftGive:function giftGive(t){return u.a.trans("Give the gift of chess to %user%!",{"%user%":t})},giftGiven:function giftGiven(t){return u.a.trans("Gift Given to %user%!",{"%user%":t})},donateGive:function donateGive(t){return u.a.trans("Donate to %user%!",{"%user%":t})},donateGiven:function donateGiven(t,o){return u.a.trans("Thank you for supporting %user% with %amount%!",{"%user%":t,"%amount%":o})},donationTo:function donationTo(t){return u.a.trans("Donation to %user%",{"%user%":t})},paymentTerms:function paymentTerms(){return u.a.trans('I agree to the <a href="%href%" target="_blank">payment terms</a>.',{"%href%":m.policiesAgreement()})},thanksToYou:function thanksToYou(t){return u.a.trans("Thanks to you, %user% can now enjoy unlimited chess!",{"%user%":t})},membershipProduct:function membershipProduct(t,o,r){return u.a.trans("1 %duration% %product% (%amount%)",{"%duration%":t,"%product%":o.charAt(0).toUpperCase()+o.slice(1),"%amount%":r})},yearlyMaximumDiscount:function yearlyMaximumDiscount(t){return u.a.transChoice("{1} 1 month off|]1,Inf] %number% months off",t,{"%number%":t})}},y=[{id:1,label:u.a.trans("Unlimited Puzzles"),icon:"puzzle",link:m.puzzles},{id:2,label:u.a.trans("Unlimited Lessons"),icon:"lesson",link:m.lessons},{id:3,label:u.a.trans("Deep Analysis"),icon:"analysis",link:m.analysis},{id:4,label:u.a.trans("Video Lessons"),icon:"video",link:m.videos},{id:5,label:u.a.trans("Full Explorer"),icon:"explorer",link:m.explorer},{id:6,label:u.a.trans("Play Ad Free!"),icon:"noads",link:m.live}];u.a.trans("Not using Premium features"),u.a.trans("Too expensive"),u.a.trans("Technical issues"),u.a.trans("Using another site/app"),u.a.trans("Less interested in chess right now"),u.a.trans("Other")},9:function(t,o,r){t.exports=r("./web/core/views/comments/index.js")},"dll-reference amplitudeDLL":function(t,o){t.exports=amplitudeDLL},"dll-reference vueDLL":function(t,o){t.exports=vueDLL}});